<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">
  <link rel="alternate" href="/atom.xml" title="Stone's Blog" type="application/atom+xml">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: true,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Stone&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Stone&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Purple M. Stone">
<meta name="twitter:card" content="summary">
  <link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Stone's Blog</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Stone's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>æœç´¢</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="æœç´¢..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/23/20210421_Git004/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2021/04/23/20210421_Git004/" class="post-title-link" itemprop="url">Gitç¬”è®°(4)--Branching</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-23 21:50:09" itemprop="dateCreated datePublished" datetime="2021-04-23T21:50:09+08:00">2021-04-23</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-25 21:17:11" itemprop="dateModified" datetime="2021-04-25T21:17:11+08:00">2021-04-25</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/04/23/20210421_Git004/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/04/23/20210421_Git004/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="What-are-Branches"><a href="#What-are-Branches" class="headerlink" title="What are Branches?"></a>What are Branches?</h1><ul>
<li>masteråˆ†æ”¯ä¸€èˆ¬å­˜ç€stableçš„commitç‰ˆæœ¬ï¼Œå¦ä¸€ä¸ªåˆ†æ”¯å¦‚featureå­˜ç€è¿˜ä¸stableçš„ç‰ˆæœ¬ï¼Œç­‰åˆ°æ”¹åˆ°å®Œå–„äº†ï¼Œæ‰å°†featureåˆ†æ”¯mergeåˆ°masterä¸­ã€‚</li>
<li>MASTERæŒ‡é’ˆæŒ‡å‘masteråˆ†æ”¯ä¸­æœ€è¿‘commitçš„ç‰ˆæœ¬ï¼Œå…¶ä»–åˆ†æ”¯åŒç†ã€‚</li>
<li>HEADæŒ‡é’ˆå¯ä»¥æŒ‡å‘masterï¼Œä¹Ÿå¯ä»¥æŒ‡å‘featureï¼Œç”¨äºæ–¹ä¾¿åœ°è°ƒæ•´working branchã€‚</li>
</ul>
<p><img src="/images/Git/4_01.png" alt="4_01" style="zoom: 50%;"></p>
<h1 id="Working-with-Branches"><a href="#Working-with-Branches" class="headerlink" title="Working with Branches"></a>Working with Branches</h1><p>åˆ›å»ºåˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch bugfix</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç°æœ‰åˆ†æ”¯ï¼Œå…¶ä¸­æ ‡*çš„è¡¨ç¤ºå½“å‰working branchï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch</span><br><span class="line">  bugfix</span><br><span class="line">* master</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥è¿™æ ·æŸ¥çœ‹å½“å‰working branchï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>
<p>åˆ‡æ¢åˆ°bugfix branchï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git switch bugfix</span><br><span class="line">Switched to branch <span class="string">'bugfix'</span></span><br></pre></td></tr></table></figure>
<hr>
<p>Shortcutï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git switch -C bugfix</span><br></pre></td></tr></table></figure>
<p>-Cè¡¨ç¤ºcreating</p>
<hr>
<p>é‡å‘½ååˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(bugfix)$ git branch -m bugfix bugfix-signup-form</span><br><span class="line"></span><br><span class="line">(bugfix-signup-form)$</span><br></pre></td></tr></table></figure>
<p>å‡å¦‚åœ¨åˆ›å»ºè¿™ä¸ªbugfix-signup-formåˆ†æ”¯ä¹‹å‰ï¼Œåœ¨masteråˆ›å»ºäº†ä¸€ä¸ªaudience.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AUDIENCE</span><br><span class="line"></span><br><span class="line">This course is <span class="keyword">for</span> anyone who wants to learn Git.</span><br><span class="line">No prior experience is required.</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºå¹¶åˆ‡æ¢å½“å‰åˆ†æ”¯ä¸ºbugfix-signup-formåˆ†æ”¯ä¹‹åå°†è¯¥æ–‡ä»¶çš„å†…å®¹æ”¹ä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WHO THIS COURSE IS FOR </span><br><span class="line">======================</span><br><span class="line">This course is <span class="keyword">for</span> anyone who wants to learn Git.</span><br></pre></td></tr></table></figure>
<p>å¹¶æäº¤æ›´æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(bugfix-signup-form)$ code audience.txt</span><br><span class="line"></span><br><span class="line">(bugfix-signup-form)$ git add .</span><br><span class="line"></span><br><span class="line">(bugfix-signup-form)$ git commit -m <span class="string">"fix the bug that prevented the users from signing up"</span></span><br><span class="line">[bugfix-signup-form 7a5cdb3] fix the bug that prevented the users from signing up</span><br><span class="line"> 1 file changed, 3 insertions(+), 4 deletions(-)</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä¸€ä¸‹ï¼ŒHEADæŒ‡å‘å½“å‰åˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(bugfix-signup-form)$ git <span class="built_in">log</span> --oneline</span><br><span class="line">7a5cdb3 (HEAD -&gt; bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">82ca774 (master) add audience.txt</span><br></pre></td></tr></table></figure>
<p>åˆ‡æ¢å›masteråˆ†æ”¯å¹¶æŸ¥çœ‹audience.txtå†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(bugfix-signup-form)$ git switch master</span><br><span class="line">Switched to branch <span class="string">'masterâ€˜</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">(master)$ code audience.txt</span></span><br></pre></td></tr></table></figure>
<p>å‘ç°audience.txtå†…å®¹ä¾ç„¶æ˜¯æ—§ç‰ˆçš„ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">AUDIENCE</span><br><span class="line"></span><br><span class="line">This course is <span class="keyword">for</span> anyone who wants to learn Git.</span><br><span class="line">No prior experience is required.</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ä¿®æ”¹logï¼Œä¼šå‘ç°çœ‹ä¸åˆ°bugfix-signup-formåˆ†æ”¯çš„æ›´æ”¹logï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git <span class="built_in">log</span> --oneline</span><br><span class="line">82ca774 (HEAD -&gt; master) add audience.txt</span><br></pre></td></tr></table></figure>
<p>é™¤éç”¨â€”allï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">82ca774 (HEAD -&gt; master) add audience.txt</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³åˆ é™¤bugfix-signup-formåˆ†æ”¯ï¼Œç”±äºè¿˜æ²¡mergeï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚è‹¥ç¡®å®šçœŸçš„è¦åˆ ï¼Œç”¨-Dï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git branch -d bugfix-signup-form</span><br><span class="line">error: The branch <span class="string">'bugfix-signup-form'</span> is not fully merged.</span><br><span class="line">If you are sure you want to delete it, run <span class="string">'git branch -D bugfix-signup-form'</span>.</span><br></pre></td></tr></table></figure>
<h1 id="Comparing-Branches"><a href="#Comparing-Branches" class="headerlink" title="Comparing Branches"></a>Comparing Branches</h1><p>åœ¨å°†åˆ†æ”¯mergeåˆ°masterä¹‹å‰ï¼Œå…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git <span class="built_in">log</span> master..bugfix-signup-form</span><br><span class="line">commit 7a5cdb3ea29a72530f598fa7fee1358a6c4dcb23 (bugfix-signup-form)</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Fri Apr 23 21:56:15 2021 +0800</span><br><span class="line"></span><br><span class="line">    fix the bug that prevented the users from signing up</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å…·ä½“æ”¹äº†å•¥å†…å®¹ï¼ˆç”±äºå½“å‰åˆ†æ”¯å°±æ˜¯master, master..ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git diff master..bugfix-signup-form</span><br><span class="line">diff --git a/audience.txt b/audience.txt</span><br><span class="line">index 01fd2e1..ecbc229 100644</span><br><span class="line">--- a/audience.txt</span><br><span class="line">+++ b/audience.txt</span><br><span class="line">@@ -1,4 +1,3 @@</span><br><span class="line">-AUDIENCE</span><br><span class="line">-</span><br><span class="line">-This course is <span class="keyword">for</span> anyone who wants to learn Git.</span><br><span class="line">-No prior experience is required.</span><br><span class="line">\ No newline at end of file</span><br><span class="line">+WHO THIS COURSE IS FOR</span><br><span class="line">+======================</span><br><span class="line">+This course is <span class="keyword">for</span> anyone who wants to learn Git.</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure>
<p>çœ‹ç®€ç•¥çš„ä¿®æ”¹çŠ¶æ€ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git diff --name-status bugfix-signup-form</span><br><span class="line">M       audience.txt</span><br></pre></td></tr></table></figure>
<h1 id="Stashing"><a href="#Stashing" class="headerlink" title="Stashing"></a>Stashing</h1><p>bugfix-signup-formåˆ†æ”¯å¯¹audience.txtä¿®æ”¹åï¼Œè¯¥åˆ†æ”¯å°šæœªmergeåˆ°masteråˆ†æ”¯ï¼Œæ­¤æ—¶masteråˆ†æ”¯å´åˆå¯¹audience.txtè¿›è¡Œäº†ä¿®æ”¹ï¼Œæ­¤æ—¶ä¸å…è®¸åˆ‡æ¢åˆ°åˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git switch bugfix-signup-form</span><br><span class="line">error: Your <span class="built_in">local</span> changes to the following files would be overwritten by checkout:</span><br><span class="line">        audience.txt</span><br><span class="line">Please commit your changes or stash them before you switch branches.</span><br><span class="line">Aborting</span><br><span class="line"></span><br><span class="line">(master)$</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬è¿˜ä¸æƒ³commitåœ¨masteråˆ†æ”¯å¯¹audience.txtçš„ä¿®æ”¹ï¼Œå¯ä»¥å…ˆç”¨stashä¿å­˜å·¥ä½œç°åœºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git stash push -m <span class="string">"New tax rules."</span></span><br><span class="line">Saved working directory and index state On master: New tax rules.</span><br></pre></td></tr></table></figure>
<p>By default, new untracked files are not included in the stash, è¦ç”¨-aæ”¾å…¥stash:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(master)$ <span class="built_in">echo</span> hello &gt; newfile.txt</span><br><span class="line"></span><br><span class="line">(master)$ git status -s</span><br><span class="line">?? newfile.txt</span><br><span class="line"></span><br><span class="line">(master)$ git stash push -m <span class="string">"My new stash with newfile1.txt"</span></span><br><span class="line">No <span class="built_in">local</span> changes to save			//------è¿™æ ·ä¸è¡Œçš„--------------</span><br><span class="line"></span><br><span class="line">(master)$ git stash push -am <span class="string">"My new stash"</span></span><br><span class="line">Saved working directory and index state On master: My new stash</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹stash:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git stash list</span><br><span class="line">stash@&#123;0&#125;: On master: My new stash</span><br><span class="line">stash@&#123;1&#125;: On master: New tax rules.</span><br></pre></td></tr></table></figure>
<p>Stashingäº†å°±å¯ä»¥æˆåŠŸåˆ‡æ¢åˆ†æ”¯äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git switch bugfix-signup-form</span><br><span class="line">Switched to branch <span class="string">'bugfix-signup-form'</span></span><br></pre></td></tr></table></figure>
<p>åœ¨åˆ†æ”¯çš„å·¥ä½œåšå®Œï¼Œæ¢å›masteråˆ†æ”¯ï¼Œæƒ³æ¢å¤å·¥ä½œç°åœºï¼Œå…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼ˆæ ¹æ®stashå·ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git stash show 1</span><br><span class="line"> audience.txt | 2 +-</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çš„è¯å°±applyåˆ°æœ¬åœ°ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git stash apply 1</span><br></pre></td></tr></table></figure>
<p>ç”¨ git stash applyæ¢å¤åï¼Œä¿å­˜çš„ç°åœºå¹¶ä¸åˆ é™¤ï¼Œéœ€è¦ç”¨git stash drop åˆ é™¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git stash drop 1</span><br><span class="line">Dropped refs/stash@&#123;1&#125; (92b61ede11aa9f3c076aed7c1409c7cc683e4efb)</span><br></pre></td></tr></table></figure>
<p>æ¸…é™¤å…¨éƒ¨stashï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git stash clear</span><br></pre></td></tr></table></figure>
<h1 id="Merging"><a href="#Merging" class="headerlink" title="Merging"></a>Merging</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;******Merges*******&#x2F;</span><br><span class="line">ğŸ‘‰ Fast-forward merges (if branches have not diverged)</span><br><span class="line">ğŸ‘‰ 3-way merges (if branches have diverged)</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>Fast-forward merges</strong></p>
<p>å½“å‰åˆ†æ”¯åˆå¹¶å¦ä¸€ä¸ªåˆ†æ”¯çš„æ—¶å€™ï¼Œå¦‚æœåˆå¹¶çš„è¿‡ç¨‹ä¸­æ²¡æœ‰å†²çªï¼Œåˆ™ä¼šé€šè¿‡ç›´æ¥ç§»åŠ¨ä¸¤ä¸ªåˆ†æ”¯çš„æŒ‡é’ˆï¼Œæ¥è¾¾åˆ°åˆå¹¶ã€‚</p>
<p><img src="/images/Git/4_02.png" alt="4_02" style="zoom: 67%;"></p>
<p>åªæœ‰bugfixåˆ†æ”¯åœ¨æ”¹åŠ¨ï¼Œæ”¹åˆ°stableäº†ï¼Œç›´æ¥ç§»åŠ¨masteræŒ‡é’ˆåˆ°bugfixæŒ‡å‘çš„ä½ç½®ï¼Œç„¶åä¸¢å¼ƒbugfixæŒ‡é’ˆå°±è¡Œäº†ã€‚</p>
<hr>
<p><strong>3-way merges</strong></p>
<p><img src="/images/Git/4_03.png" alt="4_03" style="zoom: 50%;"></p>
<p>ä¸¤ä¸ªåˆ†æ”¯éƒ½åœ¨æ”¹åŠ¨ï¼Œæœ€åmergeåˆ°ä¸€èµ·ã€‚</p>
<hr>
<h2 id="Fast-forward-Merges"><a href="#Fast-forward-Merges" class="headerlink" title="Fast-forward Merges"></a>Fast-forward Merges</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 (HEAD -&gt; master) add audience.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git merge bugfix-signup-form</span><br><span class="line">Updating 82ca774..7a5cdb3</span><br><span class="line">Fast-forward</span><br><span class="line"> audience.txt | 7 +++----</span><br><span class="line"> 1 file changed, 3 insertions(+), 4 deletions(-)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">* 7a5cdb3 (HEAD -&gt; master, bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br></pre></td></tr></table></figure>
<p><strong>No fast-forward merges</strong></p>
<p>merge äº† master å’Œ bugfix-signup-form åˆ†æ”¯åï¼Œåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯bugfix-login-formã€‚æ­¤æ—¶å‡å¦‚å¯¹å·²æœ‰æ–‡ä»¶ file1.js è¿›è¡Œ modify å¹¶ commitï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git switch -C bugfix-login-form</span><br><span class="line">Switched to and reset branch <span class="string">'bugfix-login-form'</span></span><br><span class="line"></span><br><span class="line">(bugfix-login-form)$ code file1.js</span><br><span class="line"></span><br><span class="line">(bugfix-login-form)$ git add .</span><br><span class="line"></span><br><span class="line">(bugfix-login-form)$ git commit -m <span class="string">"update file1.js"</span></span><br><span class="line">[bugfix-login-form 1ad00a7] update file1.js</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">(bugfix-login-form)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">* 1ad00a7 (HEAD -&gt; bugfix-login-form) update file1.js</span><br><span class="line">* 7a5cdb3 (master, bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶masterå’Œbugfix-signup-formæŒ‡å‘åŒä¸€commitï¼Œbugfix-login-form æŒ‡å‘æœ¬ modify commitã€‚ç„¶åç”¨ No fast-forward çš„æ–¹å¼æ¥åˆå¹¶ä¸¤åˆ†æ”¯ï¼Œå¯ä»¥çœ‹åˆ° git merge å‘½ä»¤çš„è¿”å›ç»“æœä¸­ä¸å†æœ‰â€œFast-forwardâ€å‡ºç°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(bugfix-login-form)$ git switch master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line"></span><br><span class="line">(master)$ git merge --no-ff bugfix-login-form</span><br><span class="line">Merge made by the <span class="string">'recursive'</span> strategy.</span><br><span class="line"> file1.js | 2 +-</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">*   9612ab4 (HEAD -&gt; master) Merge branch <span class="string">'bugfix-login-form'</span></span><br><span class="line">|\</span><br><span class="line">| * 1ad00a7 (bugfix-login-form) update file1.js</span><br><span class="line">|/</span><br><span class="line">* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/**ä½¿ç”¨No fast-forward mergesçš„ä¼˜ç¼ºç‚¹ï¼ˆä¸¤æ´¾è§‚ç‚¹ï¼‰**/</span><br><span class="line">ğŸ‘‰ CONSï¼špollutes the <span class="built_in">history</span> (those who prefer linear <span class="built_in">history</span>)</span><br><span class="line">ğŸ‘‰ PROSï¼š1) True reflection of <span class="built_in">history</span></span><br><span class="line">		 2) Allow reverting a feature (easier <span class="keyword">for</span> us to undo a feature)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½¿ç”¨No fast-forward mergesï¼š</p>
<p><img src="/images/Git/4_04.png" alt="4_04" style="zoom:50%;"></p>
<p>çº¢è‰²æ ‡è®°çš„commit æ˜¯F1å’ŒF2çš„ç»“åˆï¼Œå¦‚æœçº¢æ ‡çš„commitæ˜¯ä¸ªbad commit, è“æ ‡çš„commit æ˜¯å’Œçº¢æ ‡å®Œå…¨ç›¸åçš„commitï¼Œæˆ‘ä»¬åªéœ€è¦revert ä¸€ä¸ªcommitå°±è¡Œäº†ã€‚</p>
<p>è€Œå¦‚æœä½¿ç”¨fast-forward mergesï¼š</p>
<p><img src="/images/Git/4_05.png" alt="4_05" style="zoom:75%;"></p>
<p>è¦revertä¸¤ä¸ªcommitï¼Œä¼šæ›´åŠ å¤æ‚ã€‚</p>
<h2 id="3-way-merges"><a href="#3-way-merges" class="headerlink" title="3-way merges"></a>3-way merges</h2><p>åˆ›å»ºæ–°åˆ†æ”¯å¹¶åœ¨æ­¤åˆ†æ”¯commitæ–°ä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git switch -C feature-change-password</span><br><span class="line">Switched to a new branch <span class="string">'feature-change-password'</span></span><br><span class="line"></span><br><span class="line">(feature-change-password)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">*   9612ab4 (HEAD -&gt; feature-change-password, master) Merge branch <span class="string">'bugfix-login-form'</span></span><br><span class="line">|\</span><br><span class="line">| * 1ad00a7 (bugfix-login-form) update file1.js</span><br><span class="line">|/</span><br><span class="line">* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br><span class="line"></span><br><span class="line">(feature-change-password)$ <span class="built_in">echo</span> hello &gt; change-password.txt</span><br><span class="line"></span><br><span class="line">(feature-change-password)$ git add .</span><br><span class="line"></span><br><span class="line">(feature-change-password)$ git commit -m <span class="string">"Build the change password form."</span></span><br><span class="line">[feature-change-password 49f4f13] Build the change password form.</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 change-password.txt</span><br><span class="line"></span><br><span class="line">(feature-change-password)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">* 49f4f13 (HEAD -&gt; feature-change-password) Build the change password form.</span><br><span class="line">*   9612ab4 (master) Merge branch <span class="string">'bugfix-login-form'</span></span><br><span class="line">|\</span><br><span class="line">| * 1ad00a7 (bugfix-login-form) update file1.js</span><br><span class="line">|/</span><br><span class="line">* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br></pre></td></tr></table></figure>
<p>è¿”å›masteråˆ†æ”¯å¹¶åœ¨æ­¤åˆ†æ”¯commitæ–°ä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(feature-change-password)$ git switch master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line"></span><br><span class="line">(master)$ code audience.txt</span><br><span class="line"></span><br><span class="line">(master)$ git commit -am <span class="string">"Update audience.txt"</span></span><br><span class="line">[master 4aa3534] Update audience.txt</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">* 4aa3534 (HEAD -&gt; master) Update audience.txt</span><br><span class="line">| * 49f4f13 (feature-change-password) Build the change password form.</span><br><span class="line">|/</span><br><span class="line">*   9612ab4 Merge branch <span class="string">'bugfix-login-form'</span></span><br><span class="line">|\</span><br><span class="line">| * 1ad00a7 (bugfix-login-form) update file1.js</span><br><span class="line">|/</span><br><span class="line">* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br></pre></td></tr></table></figure>
<p>Mergeè¿™ä¸¤ä¸ªåˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git merge feature-change-password</span><br><span class="line">Merge made by the <span class="string">'recursive'</span> strategy.</span><br><span class="line"> change-password.txt | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 change-password.txt</span><br><span class="line"></span><br><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all --graph</span><br><span class="line">*   91dd8b9 (HEAD -&gt; master) Merge branch <span class="string">'feature-change-password'</span></span><br><span class="line">|\</span><br><span class="line">| * 49f4f13 (feature-change-password) Build the change password form.</span><br><span class="line">* | 4aa3534 Update audience.txt</span><br><span class="line">|/</span><br><span class="line">*   9612ab4 Merge branch <span class="string">'bugfix-login-form'</span></span><br><span class="line">|\</span><br><span class="line">| * 1ad00a7 (bugfix-login-form) update file1.js</span><br><span class="line">|/</span><br><span class="line">* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up</span><br><span class="line">* 82ca774 add audience.txt</span><br></pre></td></tr></table></figure>
<h2 id="Viewing-the-Merged-Branches"><a href="#Viewing-the-Merged-Branches" class="headerlink" title="Viewing the Merged Branches"></a>Viewing the Merged Branches</h2><p>æŸ¥çœ‹mergeåˆ°masterçš„branchï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git branch --merged</span><br><span class="line">  bugfix-login-form</span><br><span class="line">  bugfix-signup-form</span><br><span class="line">  feature-change-password</span><br><span class="line">* master</span><br></pre></td></tr></table></figure>
<p>è¿™äº›åˆ†æ”¯å·²ç»mergeäº†ï¼Œå°±å¯ä»¥å®‰å…¨åœ°åˆ é™¤äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git branch -d bugfix-login-form</span><br><span class="line">Deleted branch bugfix-login-form (was 1ad00a7).</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è¿˜æ²¡mergeçš„åˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git branch --no-merged</span><br></pre></td></tr></table></figure>
<h2 id="Merge-Conflicts"><a href="#Merge-Conflicts" class="headerlink" title="Merge Conflicts"></a>Merge Conflicts</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Conflicts</span><br><span class="line">ğŸ‘‰ Change1, Change2</span><br><span class="line">ğŸ‘‰ Change, Delete</span><br><span class="line">ğŸ‘‰ Add1, Add2</span><br></pre></td></tr></table></figure>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/22/20210421_Git003/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2021/04/22/20210421_Git003/" class="post-title-link" itemprop="url">Gitç¬”è®°(3)--Browsing History</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-22 21:50:09" itemprop="dateCreated datePublished" datetime="2021-04-22T21:50:09+08:00">2021-04-22</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-25 13:40:54" itemprop="dateModified" datetime="2021-04-25T13:40:54+08:00">2021-04-25</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/04/22/20210421_Git003/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/04/22/20210421_Git003/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Viewing-the-History"><a href="#Viewing-the-History" class="headerlink" title="Viewing the History"></a>Viewing the History</h1><p>åŸºæœ¬å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br></pre></td></tr></table></figure>
<p>ç”¨ â€”oneline æŸ¥çœ‹ç®€ç•¥ä¿¡æ¯ï¼Œâ€”stat æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶å¢åˆ çš„è¡Œæ•°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --<span class="built_in">stat</span></span><br></pre></td></tr></table></figure>
<p>â€”patch æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶å…·ä½“çš„å†…å®¹æ›´æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --patch</span><br></pre></td></tr></table></figure>
<h1 id="Filtering-the-History"><a href="#Filtering-the-History" class="headerlink" title="Filtering the History"></a>Filtering the History</h1><p>ç”¨ -3 è¡¨ç¤ºåªæŸ¥çœ‹å‰ä¸‰æ¡å†å²commitï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline -3</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br></pre></td></tr></table></figure>
<p>ç”¨ author åå­—è¿‡æ»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --author=<span class="string">"Stone"</span></span><br></pre></td></tr></table></figure>
<p>ç”¨æ—¶é—´è¿‡æ»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --after=<span class="string">"2021-04-21"</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline --after=<span class="string">"yesterday"</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline --after=<span class="string">"one week ago"</span></span><br></pre></td></tr></table></figure>
<p>ç”¨ commit æ—¶çš„ message è¿‡æ»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --grep=<span class="string">"add"</span></span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br></pre></td></tr></table></figure>
<p>ç”¨å…·ä½“æ›´æ”¹çš„å†…å®¹è¿‡æ»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline -S<span class="string">"world"</span> --patch</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">deleted file mode 100644</span><br><span class="line">index 29887f9..0000000</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ /dev/null</span><br><span class="line">@@ -1,3 +0,0 @@</span><br><span class="line">-hello world</span><br><span class="line">-sky</span><br><span class="line">-sun</span><br></pre></td></tr></table></figure>
<p>æ ¹æ® ID é€‰å–æŸåŒºé—´çš„ commit å†å²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js            //----------åˆ°æ­¤ä¸ºæ­¢--------------</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files              //---------ä»è¿™ä¸Šä¸€è¡Œå¾€ä¸Š-----------</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline 62416e2..9b82d1b</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹ commit å†å²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline file1.js</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæŠ¥é”™è¯´ä¸æ¸…æ¥šï¼Œå°±åœ¨æ–‡ä»¶åä¹‹å‰åŠ â€”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline -- file1.js</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è¯¥æ–‡ä»¶çš„å…·ä½“å†…å®¹ä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --patch -- file1.js</span><br></pre></td></tr></table></figure>
<h1 id="Formatting-the-Log-Output"><a href="#Formatting-the-Log-Output" class="headerlink" title="Formatting the Log Output"></a>Formatting the Log Output</h1><p>è°ƒæ•´ log æ ¼å¼</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --pretty=format:<span class="string">"%Cgreen%an%Creset committed %h on %cd"</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/Git/3_01.png" alt="3_01"></p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%Cgreen</span></span><br><span class="line"><span class="keyword">switch</span> color to green</span><br><span class="line"></span><br><span class="line"><span class="comment">%an</span></span><br><span class="line">author name</span><br><span class="line"></span><br><span class="line"><span class="comment">%Creset</span></span><br><span class="line">reset color</span><br><span class="line"></span><br><span class="line"><span class="comment">%H</span></span><br><span class="line">commit hash</span><br><span class="line"></span><br><span class="line"><span class="comment">%h</span></span><br><span class="line">abbreviated commit hash</span><br><span class="line"></span><br><span class="line"><span class="comment">%cd</span></span><br><span class="line">committer date (format respects --date= option)</span><br></pre></td></tr></table></figure>
<h1 id="Creating-Aliases"><a href="#Creating-Aliases" class="headerlink" title="Creating Aliases"></a>Creating Aliases</h1><p>ç»™åŠ æ ¼å¼çš„ log å‘½ä»¤èµ·ä¸ªåˆ«åï¼š </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.lg <span class="string">"log --pretty=format:'%an committed %h'"</span></span><br></pre></td></tr></table></figure>
<p>å°±å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨å•¦ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git lg</span><br><span class="line">Stone committed d7d9bfb</span><br><span class="line">Stone committed d2acf0e</span><br><span class="line">Stone committed 9b82d1b</span><br><span class="line">Stone committed 78daaab</span><br></pre></td></tr></table></figure>
<p>èµ·åˆ«åçš„å¦ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.unstage <span class="string">"restore --staged ."</span></span><br><span class="line"></span><br><span class="line">$ git unstage</span><br></pre></td></tr></table></figure>
<h1 id="Viewing-a-Commit"><a href="#Viewing-a-Commit" class="headerlink" title="Viewing a Commit"></a>Viewing a Commit</h1><p>æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~2</span><br><span class="line">commit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29b</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 19:04:57 2021 +0800</span><br><span class="line"></span><br><span class="line">    Add file1.js</span><br><span class="line"></span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..ce01362</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è¯¥commitç‰ˆæœ¬çš„æŸæ–‡ä»¶çš„å…·ä½“å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~2:file1.js</span><br><span class="line">hello</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç®€ç•¥ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~2 --name-only</span><br><span class="line">commit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29b</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 19:04:57 2021 +0800</span><br><span class="line"></span><br><span class="line">    Add file1.js</span><br><span class="line"></span><br><span class="line">file1.js</span><br><span class="line"></span><br><span class="line">$ git show HEAD~2 --name-status</span><br><span class="line">commit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29b</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 19:04:57 2021 +0800</span><br><span class="line"></span><br><span class="line">    Add file1.js</span><br><span class="line"></span><br><span class="line">A       file1.js</span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€è¡Œçš„A è¡¨ç¤ºâ€œaddedâ€</p>
<h1 id="Viewing-the-Changes-Across-Commits"><a href="#Viewing-the-Changes-Across-Commits" class="headerlink" title="Viewing the Changes Across Commits"></a>Viewing the Changes Across Commits</h1><p>æŸ¥çœ‹ä¸¤ä¸ªcommitç‰ˆæœ¬çš„åŒºåˆ«ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git diff HEAD~2 HEAD</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index ce01362..24defb6 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> hello</span><br><span class="line">+A new line of code</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹åŒºåˆ«çš„ç®€ç•¥ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git diff HEAD~2 HEAD --name-only</span><br><span class="line">file1.js</span><br><span class="line"></span><br><span class="line">$ git diff HEAD~2 HEAD --name-status</span><br><span class="line">M       file1.js</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç å—çš„æœ€åä¸€è¡Œä¸­çš„â€œMâ€è¡¨ç¤ºâ€œmodifiedâ€ã€‚</p>
<p>æŸ¥çœ‹ä¸¤ä¸ªcommitç‰ˆæœ¬ä¸­æŸä¸ªæ–‡ä»¶çš„åŒºåˆ«ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git diff HEAD~2 HEAD file1.js</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index ce01362..24defb6 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> hello</span><br><span class="line">+A new line of code</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure>
<h1 id="Checking-Out-a-Commit"><a href="#Checking-Out-a-Commit" class="headerlink" title="Checking Out a Commit"></a>Checking Out a Commit</h1><p>LASTè¡¨ç¤ºæœ€è¿‘commitï¼ŒFIRSTè¡¨ç¤ºæœ€åˆcommit:</p>
<p><img src="/images/Git/3_03 (7).png" alt="3_03 (7)" style="zoom: 25%;"></p>
<p>MASTERåˆ†æ”¯æŒ‡é’ˆæŒ‡å‘è¯¥åˆ†æ”¯æœ€è¿‘çš„commit:</p>
<p><img src="/images/Git/3_03 (1).png" alt="3_03 (1)" style="zoom:25%;"></p>
<p>masteråªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œäº‹å®ä¸Šä¸€ä¸ªprojectå¯èƒ½ä¼šæœ‰è®¸å¤šåˆ†æ”¯ï¼Œæ‰€ä»¥è¦ç”¨HEADæŒ‡å‘å½“å‰workingçš„åˆ†æ”¯ï¼š</p>
<p><img src="/images/Git/3_03 (2).png" alt="3_03 (2)" style="zoom:25%;"></p>
<p>ä½¿ç”¨ git checkout å‘½ä»¤ä¹‹åï¼ŒHEADæŒ‡å‘æŒ‡å®šçš„commitäº†ï¼š</p>
<p><img src="/images/Git/3_03 (3).png" alt="3_03 (3)" style="zoom:25%;"></p>
<p>å…·ä½“ä¾‹å­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git checkout d6f4cc6</span><br><span class="line">Note: switching to <span class="string">'d6f4cc6'</span>.</span><br><span class="line"></span><br><span class="line">You are <span class="keyword">in</span> <span class="string">'detached HEAD'</span> state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make <span class="keyword">in</span> this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line"><span class="keyword">do</span> so (now or later) by using -c with the switch <span class="built_in">command</span>. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">HEAD is now at d6f4cc6 Initial commit</span><br></pre></td></tr></table></figure>
<p>HEADæŒ‡å‘d6f4cc6è€Œä¸æ˜¯masteräº†ï¼Œæ‰€ä»¥æ˜¯â€™detached HEADâ€™ stateã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">((d6f4cc6...))$ git <span class="built_in">log</span> --oneline</span><br><span class="line">d6f4cc6 (HEAD) Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">((d6f4cc6...))$ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">d7d9bfb (master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 (HEAD) Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ä¸èƒ½æœ‰new commitäº†ï¼Œå› ä¸ºå¦‚æœæœ‰new commit:</p>
<p><img src="/images/Git/3_03 (5).png" alt="3_03 (5)" style="zoom:25%;"></p>
<p>å½“HEADæŒ‡å›masteræ—¶ï¼š</p>
<p><img src="/images/Git/3_03 (6).png" alt="3_03 (6)" style="zoom:25%;"></p>
<p>è¿™ä¸ªnew commitå†ä¹Ÿæ— æ³•è¢«è®¿é—®åˆ°ï¼Œå°±æ˜¯ä¸€ä¸ªdead commitäº†ã€‚</p>
<p>HEADæŒ‡å›masterï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">((6f4cc6...))$ git checkout master</span><br><span class="line">Previous HEAD position was d6f4cc6 Initial commit</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line"></span><br><span class="line">(master)$</span><br></pre></td></tr></table></figure>
<h1 id="Finding-Bugs-Using-Bisect"><a href="#Finding-Bugs-Using-Bisect" class="headerlink" title="Finding Bugs Using Bisect"></a>Finding Bugs Using Bisect</h1><p>å¯ä»¥ç”¨BisectæŸ¥æ‰¾æ˜¯å“ªæ¬¡commitæœ‰bug</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br></pre></td></tr></table></figure>
<p>å¼€å§‹ã€‚å¦‚æœå½“å‰commitæ˜¯bad commitï¼Œå‘Šè¯‰å®ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master)$ git bisect start</span><br><span class="line"></span><br><span class="line">(master|BISECTING)$ git bisect bad</span><br></pre></td></tr></table></figure>
<p>æ£€æŸ¥å‘ç°æœ€å¼€å§‹çš„commitæ˜¯good commitï¼Œå‘Šè¯‰å®ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(master|BISECTING)$ git bisect good d6f4cc6</span><br><span class="line">Bisecting: 5 revisions left to <span class="built_in">test</span> after this (roughly 3 steps)</span><br><span class="line">[fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce] add data</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜¯éœ€è¦æ£€æŸ¥5ä¸ªä¿®æ”¹ï¼Œå¤§æ¦‚è¦3ä¸ªæ­¥éª¤ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°HEAD detachäº†ï¼ŒæŒ‡å‘ good commit å’Œ bad commit ä¸­é—´çš„ commitï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">((fdb7fb6...)|BISECTING) $ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">d7d9bfb (master, refs/bisect/bad) refactor file1    //---------bad--------</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 (HEAD) add data		//---------HEAD--------</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit			//---------good--------</span><br></pre></td></tr></table></figure>
<p>å½“å‰commitæ˜¯good commitï¼Œå‘Šè¯‰å®ƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">((fdb7fb6...)|BISECTING)$ git bisect good</span><br><span class="line">Bisecting: 2 revisions left to <span class="built_in">test</span> after this (roughly 2 steps)</span><br><span class="line">[78daaab1d24ce993cbd82ab972cfeb9612369ed8] Delete file1.js</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜¯è¿˜éœ€è¦æ£€æŸ¥2ä¸ªä¿®æ”¹ï¼Œå¤§æ¦‚è¦2ä¸ªæ­¥éª¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">((78daaab...)|BISECTING)$ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">d7d9bfb (master, refs/bisect/bad) refactor file1	//---------bad--------</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab (HEAD) Delete file1.js		//---------HEAD--------</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 (refs/bisect/good-fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce) add data		//---------new good--------</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit		//---------old good--------</span><br></pre></td></tr></table></figure>
<p>Once again:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">((78daaab...)|BISECTING)$ git bisect good</span><br><span class="line">Bisecting: 0 revisions left to <span class="built_in">test</span> after this (roughly 1 step)</span><br><span class="line">[d2acf0efae32ea3ffc555fbfc6e432a656dba66c] Refactor code</span><br><span class="line"></span><br><span class="line">((d2acf0e...)|BISECTING)$ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">d7d9bfb (master, refs/bisect/bad) refactor file1	//----------bad--------</span><br><span class="line">d2acf0e (HEAD) Refactor code	//---------HEAD--------</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">78daaab (refs/bisect/good-78daaab1d24ce993cbd82ab972cfeb9612369ed8) Delete file1.js		//---------new good--------</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 (refs/bisect/good-fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce) add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit</span><br></pre></td></tr></table></figure>
<p>Once again:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">((d2acf0e...)|BISECTING)$ git bisect bad</span><br><span class="line">Bisecting: 0 revisions left to <span class="built_in">test</span> after this (roughly 0 steps)</span><br><span class="line">[9b82d1b30e0ea17c2a63732ede1652f7ad0da29b] Add file1.js</span><br><span class="line"></span><br><span class="line">((9b82d1b...)|BISECTING)$ git <span class="built_in">log</span> --oneline --all</span><br><span class="line">d7d9bfb (master) refactor file1</span><br><span class="line">d2acf0e (refs/bisect/bad) Refactor code</span><br><span class="line">9b82d1b (HEAD) Add file1.js</span><br><span class="line">78daaab (refs/bisect/good-78daaab1d24ce993cbd82ab972cfeb9612369ed8) Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 (refs/bisect/good-fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce) add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ç”¨HEADï¼šå¥½çš„ï¼Œç»ˆäºæ‰¾åˆ°äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">((9b82d1b...)|BISECTING)$ git bisect bad</span><br><span class="line">9b82d1b30e0ea17c2a63732ede1652f7ad0da29b is the first bad commit</span><br><span class="line">commit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29b</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 19:04:57 2021 +0800</span><br><span class="line"></span><br><span class="line">    Add file1.js</span><br><span class="line"></span><br><span class="line"> file1.js | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 file1.js</span><br></pre></td></tr></table></figure>
<p>HEADæŒ‡å›masterï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">((9b82d1b...)|BISECTING)$ git bisect reset</span><br><span class="line">Previous HEAD position was 9b82d1b Add file1.js</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line"></span><br><span class="line">(master)$</span><br></pre></td></tr></table></figure>
<h1 id="Finding-Contributors-Using-Shortlog"><a href="#Finding-Contributors-Using-Shortlog" class="headerlink" title="Finding Contributors Using Shortlog"></a>Finding Contributors Using Shortlog</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git shortlog -n</span><br><span class="line">Stone (19):</span><br><span class="line">      Initial commit.</span><br><span class="line">      add line</span><br><span class="line">      add Lines</span><br><span class="line">      Fix the bug</span><br><span class="line">      Remove unused code</span><br><span class="line">      Remove unused code</span><br><span class="line">      Initial commit</span><br><span class="line">      Refactor code</span><br><span class="line">      Add gitignore</span><br><span class="line">      modified</span><br><span class="line">      modified</span><br><span class="line">      add files</span><br><span class="line">      add data</span><br><span class="line">      remove all js files</span><br><span class="line">      commit file1.ls</span><br><span class="line">      Delete file1.js</span><br><span class="line">      Add file1.js</span><br><span class="line">      Refactor code</span><br><span class="line">      refactor file1</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git shortlog -n -s</span><br><span class="line">    19  Stone</span><br><span class="line"></span><br><span class="line">$ git shortlog -n -s -e</span><br><span class="line">    19  Stone &lt;masaike@qq.com&gt;</span><br><span class="line"></span><br><span class="line">$ git shortlog -n -s -e --after=<span class="string">"2020-04-21"</span></span><br><span class="line">    19  Stone &lt;masaike@qq.com&gt;</span><br><span class="line"></span><br><span class="line">$ git shortlog -n -s -e --before=<span class="string">"2021-04-22"</span></span><br><span class="line">    12  Stone &lt;masaike@qq.com&gt;</span><br></pre></td></tr></table></figure>
<h1 id="Viewing-the-History-of-a-File"><a href="#Viewing-the-History-of-a-File" class="headerlink" title="Viewing the History of a File"></a>Viewing the History of a File</h1><p>æŸ¥çœ‹æŸæ–‡ä»¶çš„ä¿®æ”¹å†å²ï¼ˆç®€ç•¥ä¿¡æ¯ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline file1.js</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹çš„çŠ¶æ€ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --<span class="built_in">stat</span> file1.js</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line"> file1.js | 2 +-</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line"> file1.js | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line"> file1.js | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br></pre></td></tr></table></figure>
<p>å…·ä½“ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --patch file1.js</span><br><span class="line">d7d9bfb (HEAD -&gt; master) refactor file1</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index 56f593b..24defb6 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1,2 +1,2 @@</span><br><span class="line"> hello</span><br><span class="line">-A new line of code</span><br><span class="line">+A new line of code</span><br><span class="line">\ No newline at end of file</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index ce01362..56f593b 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> hello</span><br><span class="line">+A new line of code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..ce01362</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure>
<h1 id="Restoring-a-Deleted-File"><a href="#Restoring-a-Deleted-File" class="headerlink" title="Restoring a Deleted File"></a>Restoring a Deleted File</h1><p>ä¸å°å¿ƒåˆ é™¤äº†æ–‡ä»¶file1.jsï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git rm file1.js</span><br><span class="line">rm <span class="string">'file1.js'</span></span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Remove file1.js"</span></span><br><span class="line">[master e2ebefd] Remove file1.js</span><br><span class="line"> 1 file changed, 2 deletions(-)</span><br><span class="line"> delete mode 100644 file1.js</span><br></pre></td></tr></table></figure>
<p>æƒ³æ¢å¤å®ƒï¼Œå°±ä»d7d9bfbçš„commitæ¢å¤åˆ°æœ¬åœ°ç›®å½•ï¼Œç„¶åé‡æ–°commitåˆ°ä»“åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline -- file1.js</span><br><span class="line">e2ebefd (HEAD -&gt; master) Remove file1.js</span><br><span class="line">d7d9bfb refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br><span class="line"></span><br><span class="line">$ git checkout d7d9bfb file1.js</span><br><span class="line">Updated 1 path from 8623496</span><br><span class="line"></span><br><span class="line">$ git status -s</span><br><span class="line">A  file1.js</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Restore file1.js"</span></span><br><span class="line">[master 9328b9b] Restore file1.js</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 file1.js</span><br></pre></td></tr></table></figure>
<h1 id="Blaming"><a href="#Blaming" class="headerlink" title="Blaming"></a>Blaming</h1><p>Find the author of a perticular line ï¼ˆçœ‹çœ‹æ˜¯è°å†™çš„çƒ‚ä»£ç ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git blame file1.js</span><br><span class="line">9328b9b8 (Stone 2021-04-23 15:10:50 +0800 1) hello</span><br><span class="line">49019215 (Stone 2021-04-23 15:19:09 +0800 2) A new line of code</span><br><span class="line">49019215 (Stone 2021-04-23 15:19:09 +0800 3) Sky</span><br><span class="line">49019215 (Stone 2021-04-23 15:19:09 +0800 4) Moon</span><br></pre></td></tr></table></figure>
<p>åŠ ä¸Š-eçœ‹é‚®ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git blame -e file1.js</span><br><span class="line">9328b9b8 (&lt;masaike@qq.com&gt; 2021-04-23 15:10:50 +0800 1) hello</span><br><span class="line">49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 2) A new line of code</span><br><span class="line">49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 3) Sky</span><br><span class="line">49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 4) Moon</span><br></pre></td></tr></table></figure>
<p>åŠ ä¸Š-Lçœ‹æŸå‡ è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git blame -e -L 1,2 file1.js</span><br><span class="line">9328b9b8 (&lt;masaike@qq.com&gt; 2021-04-23 15:10:50 +0800 1) hello</span><br><span class="line">49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 2) A new line of code</span><br></pre></td></tr></table></figure>
<h1 id="Tagging"><a href="#Tagging" class="headerlink" title="Tagging"></a>Tagging</h1><p>ç»™æŸæ¬¡commitåŠ ä¸ªtagï¼ˆå®é™…ä¸Šæ˜¯ä¸ªæŒ‡å‘è¯¥commitçš„æŒ‡é’ˆï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag v1.0 9328b9b</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">4901921 (HEAD -&gt; master) add 2 lines <span class="keyword">in</span> file1.js</span><br><span class="line">9328b9b (tag: v1.0) Restore file1.js      //----------------------------</span><br><span class="line">e2ebefd Remove file1.js</span><br><span class="line">d7d9bfb refactor file1</span><br><span class="line">d2acf0e Refactor code</span><br><span class="line">9b82d1b Add file1.js</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥ç”¨è¿™ä¸ªtagè¡¨ç¤ºè¿™ä¸ªcommitäº†ï¼Œå¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout v1.0</span><br></pre></td></tr></table></figure>
<p>ç»™å½“å‰commitï¼ˆå³MASTERæŒ‡å‘çš„ï¼‰èµ·ä¸ªè¯¦ç»†çš„tagï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -a v1.1 -m <span class="string">"My version 1.1"</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç›®å‰çš„æ‰€æœ‰tagsï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git tag</span><br><span class="line">v1.0</span><br><span class="line">v1.1</span><br><span class="line"></span><br><span class="line">$ git tag -n</span><br><span class="line">v1.0            Restore file1.js       //-----å’Œcommitä¿¡æ¯ä¸€æ ·-----</span><br><span class="line">v1.1            My version 1.1		   //------tagä¿¡æ¯------------</span><br></pre></td></tr></table></figure>
<p>åœ¨æ­¤ä¾‹ä¸­ï¼Œv1.0æ˜¯ä¸ªlightweight tagï¼Œv1.1æ˜¯ä¸ªannotated tagã€‚</p>
<p>annotated tagå¯ä»¥æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼šåŠ tagè€…çš„ä¿¡æ¯å’Œcommitçš„ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ git show v1.1</span><br><span class="line">tag v1.1</span><br><span class="line">Tagger: Stone &lt;masaike@qq.com&gt;</span><br><span class="line">Date:   Fri Apr 23 15:27:43 2021 +0800</span><br><span class="line"></span><br><span class="line">My version 1.1</span><br><span class="line"></span><br><span class="line">commit 490192157cd80c704f4f85e2b2883685e3423f91 (HEAD -&gt; master, tag: v1.1)</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Fri Apr 23 15:19:09 2021 +0800</span><br><span class="line"></span><br><span class="line">    add 2 lines <span class="keyword">in</span> file1.js</span><br><span class="line"></span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index 24defb6..e27584b 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1,2 +1,4 @@</span><br><span class="line"> hello</span><br><span class="line">-A new line of code</span><br><span class="line">\ No newline at end of file</span><br><span class="line">+A new line of code</span><br><span class="line">+Sky</span><br><span class="line">+Moon</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤tagï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git tag -d v1.1</span><br><span class="line">Deleted tag <span class="string">'v1.1'</span> (was c847e27)</span><br></pre></td></tr></table></figure>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/21/20210421_Git002/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2021/04/21/20210421_Git002/" class="post-title-link" itemprop="url">Gitç¬”è®°(2)--Creating Snapshots</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-21 21:50:09" itemprop="dateCreated datePublished" datetime="2021-04-21T21:50:09+08:00">2021-04-21</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-22 19:08:47" itemprop="dateModified" datetime="2021-04-22T19:08:47+08:00">2021-04-22</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/04/21/20210421_Git002/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/04/21/20210421_Git002/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="åˆå§‹åŒ–ä¸€ä¸ªä»“åº“"><a href="#åˆå§‹åŒ–ä¸€ä¸ªä»“åº“" class="headerlink" title="åˆå§‹åŒ–ä¸€ä¸ªä»“åº“"></a>åˆå§‹åŒ–ä¸€ä¸ªä»“åº“</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir Moon</span><br><span class="line"><span class="built_in">cd</span> Moon</span><br><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>åœ¨ç›®å½•Moonä¸‹æœ‰ä¸€ä¸ª.gitéšè—æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤çœ‹åˆ°ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -a</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤.gitï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf .git</span><br></pre></td></tr></table></figure>
<h1 id="Git-Workflow"><a href="#Git-Workflow" class="headerlink" title="Git Workflow"></a>Git Workflow</h1><p>æœ¬åœ°directoryâ†’staging area (index)â†’repository</p>
<h2 id="Staging-Files"><a href="#Staging-Files" class="headerlink" title="Staging Files"></a>Staging Files</h2><p><img src="/images/Git/01.png" alt="01"></p>
<p>ç”¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ï¼Œæ ‡çº¢æ˜¯å› ä¸ºæ–°å»ºçš„ä¸¤ä¸ªtxtæ–‡ä»¶è¿˜æ²¡åœ¨staging areaä¸­ã€‚</p>
<p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†ä¸¤ä¸ªæ–‡ä»¶çš„<strong>å˜åŒ–</strong>ï¼ˆæ–°å»º/åˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æ›´æ”¹ï¼‰å­˜å…¥staging areaä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add file1.txt file2.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add *.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä¸‰ç§æ–¹å¼ï¼Œï¼ˆ1ï¼‰å°±addè¿™ä¸¤ä¸ªæ–‡ä»¶;ï¼ˆ2ï¼‰addæ‰€æœ‰txtæ–‡ä»¶;ï¼ˆ3ï¼‰addæ‰€æœ‰æ–‡ä»¶</p>
<p>ç„¶åå†æŸ¥çœ‹ï¼Œå°±ç»¿äº†ï¼š</p>
<p><img src="/images/Git/02.png" alt="02"></p>
<h2 id="Committing-Changes"><a href="#Committing-Changes" class="headerlink" title="Committing Changes"></a>Committing Changes</h2><p>æäº¤åˆ°ä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"Initial commit."</span></span><br></pre></td></tr></table></figure>
<h2 id="Committing-Best-Practices"><a href="#Committing-Best-Practices" class="headerlink" title="Committing Best Practices"></a>Committing Best Practices</h2><ul>
<li>commitçš„æ—¶å€™æ–‡ä»¶çš„å˜åŒ–é‡åº”è¯¥é€‚ä¸­ï¼ˆä¸è¦å¤ªå¤šï¼Œä¹Ÿä¸è¦å¤ªå°‘ï¼‰</li>
<li>Commit often: æƒ³è¦è®°å½•ä¸‹æŸä¸ªçŠ¶æ€æ—¶ï¼Œå°±commit</li>
<li>Make it mean something</li>
</ul>
<p>ä¾‹å¦‚ï¼šå¯¹äºä¸¤ä¸ªæ”¹å˜ (1) Bug Fix,  (2) Typo æœ€å¥½ä¸è¦ä¸€èµ·commitï¼Œä¸ç„¶ä¸çŸ¥é“æ”¹äº†å•¥ï¼Œæœ€å¥½åˆ†å¼€commit</p>
<h2 id="Skipping-the-Staging-Area"><a href="#Skipping-the-Staging-Area" class="headerlink" title="Skipping the Staging Area"></a>Skipping the Staging Area</h2><p>ä½¿ç”¨ -a é€‰é¡¹è·³è¿‡git add</p>
<p>å¯ä»¥å°†ä¸¤ä¸ªé€‰é¡¹ -a å’Œ -m åˆå¹¶å†™æˆ -am</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am <span class="string">"Fix the bug"</span></span><br></pre></td></tr></table></figure>
<h1 id="Remove-Files"><a href="#Remove-Files" class="headerlink" title="Remove Files"></a>Remove Files</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ rm file1.txt</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git restore &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        deleted:    file1.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line">$ git ls-files</span><br><span class="line">file1.txt</span><br><span class="line">file2.txt</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ¬åœ°ç›®å½•ä¸‹åˆ é™¤file1.txtï¼Œä½†æ˜¯ç”¨git ls-filesæŸ¥çœ‹staging areaä¸­çš„æ–‡ä»¶ä¼šå‘ç°file1.txtè¿˜åœ¨å…¶ä¸­ã€‚ä½¿ç”¨git addæ›´æ–°staging areaç„¶åcommitï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git add file1.txt</span><br><span class="line"></span><br><span class="line">$ git ls-files</span><br><span class="line">file2.txt</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        deleted:    file1.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Remove unused code"</span></span><br><span class="line">[master b184de1] Remove unused code</span><br><span class="line"> 1 file changed, 7 deletions(-)</span><br><span class="line"> delete mode 100644 file1.txt</span><br></pre></td></tr></table></figure>
<p>é™¤äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼ˆgit rmï¼‰ä¸€æ¬¡æ€§åˆ é™¤æœ¬åœ°ç›®å½•å’Œstaging areaä¸­çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git rm file2.txt</span><br><span class="line">rm <span class="string">'file2.txt'</span></span><br><span class="line"></span><br><span class="line">$ git ls-files</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        deleted:    file2.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Remove unused code"</span></span><br><span class="line">[master 3fd1e3e] Remove unused code</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 file2.txt</span><br></pre></td></tr></table></figure>
<h1 id="Renaming-and-Moving-Files"><a href="#Renaming-and-Moving-Files" class="headerlink" title="Renaming and Moving Files"></a>Renaming and Moving Files</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ mv file1.txt main.js</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git restore &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        deleted:    file1.txt</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        main.js</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line">$ git add file1.txt</span><br><span class="line"></span><br><span class="line">$ git add main.js</span><br><span class="line">warning: LF will be replaced by CRLF <span class="keyword">in</span> main.js.</span><br><span class="line">The file will have its original line endings <span class="keyword">in</span> your working directory</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        renamed:    file1.txt -&gt; main.js</span><br></pre></td></tr></table></figure>
<p>æ–‡ä»¶çš„æ›´åæ¶‰åŠåˆ°ä¸¤ä¸ªå˜åŒ–ï¼ŒåŸæ–‡ä»¶file1.txtåˆ é™¤ï¼Œä»¥åŠæ–°æ–‡ä»¶main.jsçš„åˆ›å»ºã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¾¿æ·çš„æ–¹å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git mv file1.txt main.js</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        renamed:    file1.txt -&gt; main.js</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Refactor code"</span></span><br><span class="line">[master 70800e8] Refactor code</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> rename file1.txt =&gt; main.js (100%)</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°0 insertions(+), 0 deletions(-)ï¼Œæ”¹åè€Œå·²ã€‚</p>
<h1 id="Ignoring-Files"><a href="#Ignoring-Files" class="headerlink" title="Ignoring Files"></a>Ignoring Files</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir logs</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> hello &gt; logs/dev.log</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        logs/</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">"git add"</span> to track)</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯äº‹å®ä¸Šæˆ‘ä»¬å¹¶ä¸æƒ³å°†logæ–‡ä»¶æäº¤ã€‚æ–¹æ³•ï¼šå°† logs/ å†™å…¥.gitignoreä¸­</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> logs/ &gt; .gitignore</span><br></pre></td></tr></table></figure>
<p>ç”¨vscodeæ‰“å¼€æ–‡ä»¶.gitignore</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ code .gitignore</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åœ¨ .gitignore ä¸­çš„ä¸‹ä¸€è¡Œå†™ä¸Š*.logè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶ç±»å‹ã€‚ç„¶åæäº¤ .gitignore</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        .gitignore</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">"git add"</span> to track)</span><br><span class="line"></span><br><span class="line">$ git add .gitignore</span><br><span class="line">warning: LF will be replaced by CRLF <span class="keyword">in</span> .gitignore.</span><br><span class="line">The file will have its original line endings <span class="keyword">in</span> your working directory</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Add gitignore"</span></span><br><span class="line">[master 9ed82f0] Add gitignore</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 .gitignore</span><br></pre></td></tr></table></figure>
<p>ä¹‹ålogæ–‡ä»¶çš„æ”¹å˜éƒ½ä¼šè¢«staging areaå¿½ç•¥äº†ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> hello &gt; logs/main.log</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°nothing to commitã€‚</p>
<p>â€‹        å¦‚æœ<strong>å·²ç»</strong>ç”¨ git add ä¸å°å¿ƒå°† log æ–‡ä»¶æäº¤åˆ° staging area äº†ï¼ˆåœ¨å†™å…¥.gitignoreä¹‹å‰å°±äº¤äº†ï¼‰ï¼Œå¯ä»¥ç”¨å‘½ä»¤åˆ é™¤ staging area ä¸­çš„æ–‡ä»¶ã€‚å…ˆ help ä¸€ä¸‹çœ‹çœ‹ç”¨å•¥é€‰é¡¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git rm -h</span><br><span class="line">usage: git rm [&lt;options&gt;] [--] &lt;file&gt;...</span><br><span class="line"></span><br><span class="line">    -n, --dry-run         dry run</span><br><span class="line">    -q, --quiet           <span class="keyword">do</span> not list removed files</span><br><span class="line">    --cached              only remove from the index</span><br><span class="line">    -f, --force           override the up-to-date check</span><br><span class="line">    -r                    allow recursive removal</span><br><span class="line">    --ignore-unmatch      <span class="built_in">exit</span> with a zero status even <span class="keyword">if</span> nothing matched</span><br><span class="line">    --pathspec-from-file &lt;file&gt;</span><br><span class="line">                          <span class="built_in">read</span> pathspec from file</span><br><span class="line">    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rm --cached -r logs/</span><br></pre></td></tr></table></figure>
<h1 id="Short-Status"><a href="#Short-Status" class="headerlink" title="Short Status"></a>Short Status</h1><p>git status ç»™å‡ºçš„ä¿¡æ¯æ˜“äºç†è§£ï¼Œä½†æ˜¯å†—é•¿ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> sky &gt;&gt; file1.js</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> sky &gt; file2.js</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git restore &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   file1.js</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        file2.js</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure>
<p>åŠ  -s é€‰é¡¹ï¼š</p>
<p><img src="/images/Git/03.png" alt="03"></p>
<p>è§‚å¯Ÿ M çš„é¢œè‰²å˜åŒ–ï¼Œgit add ä¹‹å M ç”±çº¢å˜ç»¿ï¼Œ?? å˜ A</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mï¼šè¡¨ç¤ºmodified</span><br><span class="line">Aï¼šè¡¨ç¤ºadded</span><br></pre></td></tr></table></figure>
<h1 id="Viewing-the-Staged-amp-Unstaged-Changes"><a href="#Viewing-the-Staged-amp-Unstaged-Changes" class="headerlink" title="Viewing the Staged &amp; Unstaged Changes"></a>Viewing the Staged &amp; Unstaged Changes</h1><p>Motivation: æœ‰æ—¶å€™åœ¨å°†changesä¸Šä¼ åˆ°staging areaæˆ–commitåˆ°repositoryä¹‹å‰ï¼Œè¦å…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼Œæ”¹å¾—å¯¹ä¸å¯¹ã€‚</p>
<p><strong>æŸ¥çœ‹staged changes </strong>(åœ¨staging areaä¸­ä½†æ˜¯è¿˜æ²¡commit)ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --staged</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index ce01362..7633964 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1 +1,3 @@</span><br><span class="line"> hello</span><br><span class="line">+sky</span><br><span class="line">+sun</span><br><span class="line">diff --git a/file2.js b/file2.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..f5e95e7</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file2.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+sky</span><br></pre></td></tr></table></figure>
<p><strong>æŸ¥çœ‹unstaged changes</strong>ï¼ˆåœ¨æœ¬åœ°ç›®å½•ä¸‹ï¼Œä¸åœ¨staging areaä¸­ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br></pre></td></tr></table></figure>
<p>æ¯”å¦‚åœ¨file1.jsä¸­å°†hello æ”¹ä¸º hello worldï¼š</p>
<p><img src="/images/Git/04.png" alt="04"></p>
<p>aæ˜¯åœ¨staging areaä¸­çš„copyï¼Œbæ˜¯æœ¬åœ°ç›®å½•ä¸‹çš„copy</p>
<p>@@ -1,3 +1,3 @@ è¡¨ç¤ºæ—§ç‰ˆæœ¬ï¼ˆstaging areaä¸­çš„ï¼‰ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæœ‰3è¡Œï¼ˆ-1,3ï¼‰ï¼›æ–°ç‰ˆæœ¬ï¼ˆæœ¬åœ°ç›®å½•ä¸‹çš„ï¼‰ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæœ‰3è¡Œï¼ˆ+1,3ï¼‰</p>
<p>æ ‡çº¢çš„æ˜¯æ—§ç‰ˆæœ¬å†…å®¹ï¼Œæ ‡ç»¿çš„æ˜¯æ–°ç‰ˆæœ¬å†…å®¹ï¼Œç™½è‰²çš„æ˜¯æœªæ›´æ”¹å†…å®¹ã€‚</p>
<h2 id="Visual-Diff-Tools"><a href="#Visual-Diff-Tools" class="headerlink" title="Visual Diff Tools"></a>Visual Diff Tools</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ğŸ‘‰ KDiff3</span><br><span class="line">ğŸ‘‰ P4Merge</span><br><span class="line">ğŸ‘‰ WinMerge (Windows Only)</span><br><span class="line">ğŸ‘‰ VSCode</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é€‰ç”¨VSCodeæ¥å¯è§†åŒ–changesã€‚é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global diff.tool vscode</span><br><span class="line"></span><br><span class="line">$ git config --global difftool.vscode.cmd <span class="string">"code --wait --diff <span class="variable">$LOCAL</span> <span class="variable">$REMOTE</span>"</span></span><br><span class="line"></span><br><span class="line">$ git config --global -e</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹unstaged changes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git difftool</span><br></pre></td></tr></table></figure>
<p><img src="/images/Git/06.png" alt="06"></p>
<p>æŸ¥çœ‹staged changesï¼ˆæ—§ç‰ˆæœ¬æ˜¯å‰ä¸€æ¬¡æäº¤åˆ°ä»“åº“çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬æ˜¯å¦‚ä»Šåœ¨staging areaä¸­çš„ç‰ˆæœ¬ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git difftool --staged</span><br><span class="line"></span><br><span class="line">Viewing (1/2): <span class="string">'file1.js'</span></span><br><span class="line">Launch <span class="string">'vscode'</span> [Y/n]? y</span><br><span class="line"></span><br><span class="line">Viewing (2/2): <span class="string">'file2.js'</span></span><br><span class="line">Launch <span class="string">'vscode'</span> [Y/n]? y</span><br></pre></td></tr></table></figure>
<p><img src="/images/Git/05.png" alt="05"></p>
<p><img src="/images/Git/07.png" alt="07"></p>
<h1 id="Viewing-the-History"><a href="#Viewing-the-History" class="headerlink" title="Viewing the History"></a>Viewing the History</h1><p>ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æäº¤å†å²ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç®€çŸ­æè¿° (æœ€è¿‘æ›´æ”¹æ˜¾ç¤ºåœ¨ä¸Šé¢)ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br></pre></td></tr></table></figure>
<p>æ¢æ˜¾ç¤ºé¡ºåº (æœ€è¿‘æ›´æ”¹æ˜¾ç¤ºåœ¨ä¸‹é¢):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --reverse</span><br></pre></td></tr></table></figure>
<h1 id="Viewing-a-Commit"><a href="#Viewing-a-Commit" class="headerlink" title="Viewing a Commit"></a>Viewing a Commit</h1><p>å¯ä»¥é€šè¿‡IDæŸ¥çœ‹å†å²commitï¼Œå¦‚æœIDå‰å‡ ä½å°±å”¯ä¸€æ ‡è¯†äº†æŸå†å²commitï¼Œé‚£ä¹ˆç”¨å‰å‡ ä½å³å¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">fdb7fb6 (HEAD -&gt; master) add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">$ git show 62416</span><br><span class="line">commit 62416e293cdb5f7334ea6dc09a8fbb0314eedcc2</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 11:32:51 2021 +0800</span><br><span class="line"></span><br><span class="line">    add files</span><br><span class="line"></span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..ce01362</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ç”¨HEADï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~1</span><br><span class="line">commit 62416e293cdb5f7334ea6dc09a8fbb0314eedcc2</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 11:32:51 2021 +0800</span><br><span class="line"></span><br><span class="line">    add files</span><br><span class="line"></span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..ce01362</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure>
<p>HEADæ˜¯å½“å‰commitçš„reference, HEAD~1æ˜¯æŒ‡ä»HEADå¾€åçš„ä¸€ä¸ªcommitï¼Œæ­¤ä¾‹ä¸­å°±æ˜¯IDä¸º62416e2çš„commitã€‚</p>
<p>ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸå†å² commit ä¸­å­˜äº repository çš„å†…å®¹ï¼ˆè€Œä¸æ˜¯changesï¼‰:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~1:.gitignore</span><br><span class="line">logs/</span><br><span class="line">bin/</span><br><span class="line">*.<span class="built_in">log</span></span><br><span class="line">*.bin</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸå†å² commit ä¸­å­˜äº repository çš„æ‰€æœ‰æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git ls-tree HEAD</span><br><span class="line">100644 blob 1cd4d4e7fe27c57dc89d6e68d1f535f00382e563    .gitignore</span><br><span class="line">040000 tree 38051ae48accaf0025a257eaa7a3a328e1f0fe56    data</span><br><span class="line">100644 blob 29887f938f21333a5eee9dfd0decb4b0a207d855    file1.js</span><br><span class="line">100644 blob f5e95e70e524ec32d0200e10ba179ab4c5f13884    file2.js</span><br><span class="line">100644 blob ce013625030ba8dba906f756967f9e9ca394464a    main.js</span><br></pre></td></tr></table></figure>
<p>æ ¼å¼ï¼šID, æ–‡ä»¶ç±»å‹, å”¯ä¸€æ ‡è¯†ç¬¦ (æ ¹æ®æ–‡ä»¶å†…å®¹ç¡®å®šçš„), æ–‡ä»¶å</p>
<p>dataæ˜¯ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥ç±»å‹ä¸ºtreeï¼Œé‡Œé¢æœ‰ä¸ªæ–‡ä»¶main.txtã€‚</p>
<p>æ ¹æ®æ–‡ä»¶å”¯ä¸€æ ‡è¯†ç¬¦æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git show 3805</span><br><span class="line">tree 3805</span><br><span class="line"></span><br><span class="line">main.txt</span><br><span class="line"></span><br><span class="line">$ git show f5e95</span><br><span class="line">sky</span><br></pre></td></tr></table></figure>
<p>f5e95 æ˜¯ file2.js çš„å”¯ä¸€æ ‡è¯†ç¬¦çš„å‰å‡ ä½ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹åªæœ‰ä¸€è¡Œï¼Œå°±æ˜¯ sky</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ€»ç»“ï¼šGit Objects</span><br><span class="line">ğŸ‘‰ Commits</span><br><span class="line">ğŸ‘‰ Blobs (Files)</span><br><span class="line">ğŸ‘‰ Trees (Directories)</span><br><span class="line">ğŸ‘‰ Tags</span><br></pre></td></tr></table></figure>
<h1 id="Unstaging-Files"><a href="#Unstaging-Files" class="headerlink" title="Unstaging Files"></a>Unstaging Files</h1><p>file1.jsæœ‰ä¸¤æ¬¡changesï¼Œæˆ‘ä»¬ç”¨ git add å°† file1.js çš„ç¬¬ä¸€ä¸ªå˜åŒ–ä¸Šä¼ åˆ° staging areaä¸­äº†ï¼Œç¬¬äºŒæ¬¡ change è¿˜åœ¨æœ¬åœ°ç›®å½•ä¸­ã€‚</p>
<p>æˆ‘ä»¬ä¸æƒ³åŒæ—¶ commit file1.js å’Œ file2.js ä¸¤ä¸ªæ–‡ä»¶çš„å˜åŒ–ã€‚æ‰€ä»¥è¦ undo è¿™ä¸ª git add æ“ä½œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git restore --staged file1.js</span><br></pre></td></tr></table></figure>
<p><img src="/images/Git/08.png" alt="08"></p>
<p>ç°åœ¨ file1.js çš„ä¸¤æ¬¡å˜åŒ–éƒ½åªåœ¨æœ¬åœ°ç›®å½•ä¸‹è€Œä¸åœ¨ staging area ä¸­äº†ã€‚</p>
<p>åŸç†ï¼šstaging area ä»ç›®å‰çš„ repository è¯»å– file1.js ã€‚å› ä¸ºä¸¤æ¬¡å˜åŒ–éƒ½è¿˜æ²¡ commit ï¼Œrepository ä¸­çš„ file1.js å°±æ˜¯åŸå§‹çš„ (ä¸¤æ¬¡å˜åŒ–ä¹‹å‰çš„)ã€‚</p>
<p>å¦‚æœè¦æ’¤é”€ file2.js çš„ git add æ“ä½œã€‚repository ä¸­è¿˜æ²¡æœ‰ file2.js, æ‰€ä»¥æ’¤é”€ä¹‹å file2.js æ˜¯ä¸€ä¸ªuntracked file (ç”¨??è¡¨ç¤º)ã€‚</p>
<p><img src="/images/Git/09.png" alt="09"></p>
<h1 id="Discarding-Local-Changes"><a href="#Discarding-Local-Changes" class="headerlink" title="Discarding Local Changes"></a>Discarding Local Changes</h1><p>ç”¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git restore .</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥æ’¤é”€æœ¬åœ°ç›®å½•ä¸‹çš„æ”¹å˜ã€‚file2.js ä¾ç„¶æ˜¯untracked fileï¼Œå› ä¸ºæœ¬åœ°ç›®å½•è¦ä»staging area è¯»å–ä¸Šä¸€æ¬¡çŠ¶æ€ï¼Œè€Œstaging area ä¸­æ²¡æœ‰ file2.js, å°±ä¸çŸ¥é“è¯¥åšå•¥ã€‚æ‰€ä»¥è¦ç”¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clean</span><br></pre></td></tr></table></figure>
<p>ä»ä½ çš„å·¥ä½œç›®å½•ä¸­åˆ é™¤æ‰€æœ‰<strong>untrackedï¼Œæ²¡æœ‰è¢«ç®¡ç†</strong>è¿‡çš„æ–‡ä»¶ã€‚</p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git clean -h</span><br><span class="line">usage: git clean [-d] [-f] [-i] [-n] [-q] [-e &lt;pattern&gt;] [-x | -X] [--] &lt;paths&gt;...</span><br><span class="line"></span><br><span class="line">    -q, --quiet           <span class="keyword">do</span> not <span class="built_in">print</span> names of files removed</span><br><span class="line">    -n, --dry-run         dry run</span><br><span class="line">    -f, --force           force</span><br><span class="line">    -i, --interactive     interactive cleaning</span><br><span class="line">    -d                    remove whole directories</span><br><span class="line">    -e, --exclude &lt;pattern&gt;</span><br><span class="line">                          add &lt;pattern&gt; to ignore rules</span><br><span class="line">    -x                    remove ignored files, too</span><br><span class="line">    -X                    remove only ignored files</span><br></pre></td></tr></table></figure>
<p><img src="/images/Git/10.png" alt="10"></p>
<h1 id="Restoring-a-File-to-an-Earlier-Version"><a href="#Restoring-a-File-to-an-Earlier-Version" class="headerlink" title="Restoring a File to an Earlier Version"></a>Restoring a File to an Earlier Version</h1><p>ä¸‹é¢çš„ demo æ˜¾ç¤ºäº†åˆ é™¤äº† file1.js åç”¨ git restore ä»å†å² commit ä¸­æ¢å¤æ­¤æ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ git rm file1.js</span><br><span class="line">rm <span class="string">'file1.js'</span></span><br><span class="line"></span><br><span class="line">$ git status -s</span><br><span class="line">D  file1.js</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Delete file1.js"</span></span><br><span class="line">[master 78daaab] Delete file1.js</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 file1.js</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">78daaab (HEAD -&gt; master) Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">$ git restore --<span class="built_in">source</span>=HEAD~1 file1.js</span><br><span class="line"></span><br><span class="line">$ git status -s</span><br><span class="line">?? file1.js</span><br></pre></td></tr></table></figure>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/20/20210420_SQL002/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2021/04/20/20210420_SQL002/" class="post-title-link" itemprop="url">MySQLç¬”è®°(2)--è¿æ¥</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-20 21:50:09" itemprop="dateCreated datePublished" datetime="2021-04-20T21:50:09+08:00">2021-04-20</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-04-25 15:06:55" itemprop="dateModified" datetime="2021-04-25T15:06:55+08:00">2021-04-25</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/04/20/20210420_SQL002/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/04/20/20210420_SQL002/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Inner-Joins-å†…è¿æ¥"><a href="#Inner-Joins-å†…è¿æ¥" class="headerlink" title="Inner Joins (å†…è¿æ¥)"></a>Inner Joins (å†…è¿æ¥)</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> order_id, o.customer_id, first_name, last_name</span><br><span class="line"><span class="keyword">FROM</span> orders o</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> customers c</span><br><span class="line">	<span class="keyword">ON</span> o.customer_id = c.customer_id</span><br></pre></td></tr></table></figure>
<p>è¿”å›è¡¨ordersåœ¨è¡¨customersä¸­æœ‰å¯¹åº”recordçš„é¡¹</p>
<p>oå’Œcåˆ†åˆ«æ˜¯orderså’Œcustomersçš„åˆ«åï¼Œä»¥ç®€åŒ–ä»£ç </p>
<p>å…³é”®å­—INNERå¯çœç•¥</p>
<h2 id="è·¨æ•°æ®åº“è¿æ¥"><a href="#è·¨æ•°æ®åº“è¿æ¥" class="headerlink" title="è·¨æ•°æ®åº“è¿æ¥"></a>è·¨æ•°æ®åº“è¿æ¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> sql_store;  <span class="comment">-- é€‰æ‹©äº†æ•°æ®åº“sql_storeä¸ºå½“å‰æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> order_items oi</span><br><span class="line"><span class="keyword">JOIN</span> sql_inventory.products p   <span class="comment">-- å¦ä¸€ä¸ªæ•°æ®åº“sql_inventory</span></span><br><span class="line">	<span class="keyword">ON</span> oi.product_id = p.product_id</span><br></pre></td></tr></table></figure>
<h2 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h2><p>å°†è¡¨å’Œè‡ªå·±è¿æ¥ï¼Œä½†æ˜¯ç»™ä¸åŒçš„åˆ«åä»¥åŒºåˆ†ã€‚å¦‚ä¸‹ï¼Œmanagerä¹Ÿæ˜¯ä¸€åå‘˜å·¥ï¼Œå…¶ä¿¡æ¯ä¹Ÿåœ¨è¡¨employeesä¸­ï¼Œç”¨è‡ªè¿æ¥å¯ä»¥å¾—åˆ°employeeå’ŒTAçš„managerçš„å…·ä½“å‘˜å·¥ä¿¡æ¯ã€‚</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> sql_hr;  <span class="comment">-- é€‰æ‹©äº†æ•°æ®åº“sql_hrä¸ºå½“å‰æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	e.employee_id,</span><br><span class="line">    e.first_name,</span><br><span class="line">    m.first_name <span class="keyword">AS</span> manager</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> employees m  </span><br><span class="line">	<span class="keyword">ON</span> e.reports_to = m.employee_id</span><br></pre></td></tr></table></figure>
<h2 id="å¤šè¡¨è¿æ¥"><a href="#å¤šè¡¨è¿æ¥" class="headerlink" title="å¤šè¡¨è¿æ¥"></a>å¤šè¡¨è¿æ¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> sql_store;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	o.order_id,</span><br><span class="line">    o.order_date,</span><br><span class="line">    c.first_name,</span><br><span class="line">    c.last_name,</span><br><span class="line">    os.name <span class="keyword">AS</span> <span class="keyword">status</span></span><br><span class="line"><span class="keyword">FROM</span> orders o</span><br><span class="line"><span class="keyword">JOIN</span> customers c</span><br><span class="line">	<span class="keyword">ON</span> o.customer_id = c.customer_id</span><br><span class="line"><span class="keyword">JOIN</span> order_statuses os</span><br><span class="line">	<span class="keyword">ON</span> o.status = os.order_status_id</span><br></pre></td></tr></table></figure>
<p>è¡¨orderså…ˆå’Œè¡¨customersè¿æ¥ï¼Œç„¶åä¸è¡¨order_statusesè¿æ¥ã€‚</p>
<h1 id="IN-è¿ç®—ç¬¦"><a href="#IN-è¿ç®—ç¬¦" class="headerlink" title="IN è¿ç®—ç¬¦"></a>IN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE state = 'VA' OR state = 'GA' OR state = 'FL'</span></span><br><span class="line"><span class="comment">-- ç”¨INæ”¹å†™ï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> state <span class="keyword">IN</span> (<span class="string">'VA'</span>, <span class="string">'GA'</span>, <span class="string">'FL'</span>)</span><br><span class="line"><span class="comment">-- WHERE state NOT IN ('VA', 'GA', 'FL') -- è¿”å›ä¸åœ¨è¿™äº›å·çš„ records</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¿™æ ·æ˜¯é”™çš„ï¼šWHERE state = 'VA' OR 'GA' OR 'FL' </span></span><br><span class="line"><span class="comment">-- å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç”¨ORè¿æ¥å¸ƒå°”è¡¨è¾¾å¼state = 'VA'å’Œå­—ç¬¦ä¸²'GA'</span></span><br></pre></td></tr></table></figure>
<h1 id="BETWEEN-è¿ç®—ç¬¦"><a href="#BETWEEN-è¿ç®—ç¬¦" class="headerlink" title="BETWEEN è¿ç®—ç¬¦"></a>BETWEEN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE points &gt;= 1000 AND points &lt;=3000</span></span><br><span class="line"><span class="comment">-- æ”¹å†™ä¸ºï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> points <span class="keyword">BETWEEN</span> <span class="number">1000</span> <span class="keyword">AND</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¹Ÿå¯ç”¨äºéæ•°å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> birth_date <span class="keyword">BETWEEN</span> <span class="string">"1990-01-01"</span> <span class="keyword">AND</span> <span class="string">"2000-01-01"</span></span><br></pre></td></tr></table></figure>
<h1 id="LIKE-è¿ç®—ç¬¦"><a href="#LIKE-è¿ç®—ç¬¦" class="headerlink" title="LIKE è¿ç®—ç¬¦"></a>LIKE è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'B'æˆ–'b'å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'brush%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥â€œbrushâ€å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%b%'</span> </span><br><span class="line"><span class="comment">-- è¡¨ç¤º'b'å‰åå¯ä»¥æœ‰ä»»æ„å­—ç¬¦æ•°('b'åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾å‡ºç°çš†å¯)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'_____y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦('_'å¡«è¡¥è¡¨ç¤ºä»»æ„å­—ç¬¦)çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b____y'</span> </span><br><span class="line"><span class="comment">-- è¿è¡Œåå¾—åˆ°last nameä»¥'b'å¼€å¤´ä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦çš„record(æœ¬ä¾‹ä¸­ä¸º'Boagey')</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***SUMMARY**/</span> </span><br><span class="line">% any number of characters</span><br><span class="line">_ single character</span><br></pre></td></tr></table></figure>
<h1 id="REGEXP-è¿ç®—ç¬¦"><a href="#REGEXP-è¿ç®—ç¬¦" class="headerlink" title="REGEXP è¿ç®—ç¬¦"></a>REGEXP è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- regular expression (REGEXP) æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%field%'</span></span><br><span class="line"><span class="comment">-- WHERE last_name REGEXP 'field'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'^field'</span> </span><br><span class="line"><span class="comment">-- last name must starts with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* use '|' for multiple search pattern */</span> </span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must contains "field" or "mac" or "rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field" or contains "mac"/"rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[gim]e'</span> </span><br><span class="line"><span class="comment">-- last name must contains "ge"/"ie"/"me"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'e[gim]'</span> </span><br><span class="line"><span class="comment">-- last name must contains "eg"/"ei"/"em"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[a-h]e'</span></span><br><span class="line"><span class="comment">-- the same as WHERE last_name REGEXP '[abcdefgh]e'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">^ 	beginning</span><br><span class="line">$ 	end</span><br><span class="line">| 	logical or</span><br><span class="line">[abcd]</span><br><span class="line">[a-f]</span><br></pre></td></tr></table></figure>
<h1 id="IS-NULL-è¿ç®—ç¬¦"><a href="#IS-NULL-è¿ç®—ç¬¦" class="headerlink" title="IS NULL è¿ç®—ç¬¦"></a>IS NULL è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="literal">NULL</span>  <span class="comment">-- è¿”å›æ²¡æœ‰phone(è¯¥å­—æ®µä¸ºNULL)çš„records</span></span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="comment">-- phoneä¸ä¸ºç©º</span></span><br></pre></td></tr></table></figure>
<h1 id="ORDER-BY-å­å¥"><a href="#ORDER-BY-å­å¥" class="headerlink" title="ORDER BY å­å¥"></a>ORDER BY å­å¥</h1><p>é»˜è®¤æ˜¯æŒ‰ç…§ä¸»é”®ï¼ˆprimary keyï¼‰æ’åºï¼Œä½¿ç”¨ORDER BY å­å¥å¯ä»¥æŒ‡å®šæ’åºçš„é”®</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name        <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼å‡åºæ’åº</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name <span class="keyword">DESC</span>   <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼é™åºæ’åº</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> state <span class="keyword">DESC</span>, first_name </span><br><span class="line"><span class="comment">--å…ˆæ ¹æ®stateé™åºæ’åˆ—ï¼Œstateç›¸åŒçš„æ ¹æ®first_nameå‡åºæ’åˆ—</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- birth_dateä¸åœ¨é€‰å‡ºæ¥çš„åˆ—é‡Œï¼Œstill work</span></span><br><span class="line"><span class="keyword">SELECT</span> first_name, last_name</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> birth_date</span><br></pre></td></tr></table></figure>
<h1 id="LIMIT-å­å¥"><a href="#LIMIT-å­å¥" class="headerlink" title="LIMIT å­å¥"></a>LIMIT å­å¥</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">3</span> 		<span class="comment">-- è¿”å›å‰3ä¸ªrecords</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">300</span> 		<span class="comment">-- 300 &gt; #record, è¿”å›å…¨éƒ¨records</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">6</span>, <span class="number">3</span>  	<span class="comment">-- è·³è¿‡å‰6ä¸ªrecordsï¼Œè¿”å›ç¬¬7ï¼Œ8ï¼Œ9ä¸ªrecords</span></span><br></pre></td></tr></table></figure>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/04/20/20210420_SQL001/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2021/04/20/20210420_SQL001/" class="post-title-link" itemprop="url">MySQLç¬”è®°(1)--åŸºç¡€è¯­å¥</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-04-20 19:50:09 / ä¿®æ”¹æ—¶é—´ï¼š21:05:45" itemprop="dateCreated datePublished" datetime="2021-04-20T19:50:09+08:00">2021-04-20</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/04/20/20210420_SQL001/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/04/20/20210420_SQL001/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SELECT-å­å¥"><a href="#SELECT-å­å¥" class="headerlink" title="SELECT å­å¥"></a>SELECT å­å¥</h1><p>ä»ä¸€å¼ è¡¨ï¼ˆcustomersï¼‰ä¸­é€‰å–æŸäº›åˆ—</p>
<p><img src="/images/SQL1/001.png" style="zoom: 150%;"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  first_name, </span><br><span class="line">  last_name, </span><br><span class="line">  points, </span><br><span class="line">  points * <span class="number">10</span> + <span class="number">100</span> <span class="keyword">AS</span> <span class="string">"discount factor"</span>   <span class="comment">-- å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—,ASæ¥rename</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> state <span class="comment">-- DISTINCT åªä¿ç•™é‡å¤é¡¹ä¸­çš„ä¸€é¡¹</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br></pre></td></tr></table></figure>
<h1 id="WHERE-å­å¥"><a href="#WHERE-å­å¥" class="headerlink" title="WHERE å­å¥"></a>WHERE å­å¥</h1><p>è¿‡æ»¤ä½œç”¨ï¼Œæ ¹æ®æ¡ä»¶é€‰æ‹©records</p>
<p>(å„ä¸ªWHEREå­å¥åªæ˜¯æä¾›ä¸åŒçš„ç¤ºä¾‹ï¼Œè¿è¡Œæ—¶é€‰æ‹©ä¸€ä¸ªWHEREå­å¥ï¼Œå…¶ä½™æ³¨é‡Šæ‰ï¼Œä¸‹æ–‡åŒ)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> state = <span class="string">'va'</span> <span class="comment">-- vaå¤§å°å†™ä¸€æ ·çš„</span></span><br><span class="line"><span class="keyword">WHERE</span> state &lt;&gt; <span class="string">'va'</span> <span class="comment">-- not in VA</span></span><br><span class="line"><span class="keyword">WHERE</span> birth_date &gt; <span class="string">'1990-01-01'</span> <span class="comment">-- born after 1990/01/01</span></span><br></pre></td></tr></table></figure>
<p>è¿ç®—ç¬¦æœ‰ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;</span><br><span class="line">&gt;=</span><br><span class="line">&lt;</span><br><span class="line">&lt;=</span><br><span class="line">=</span><br><span class="line">(not equal)  !=  or  &lt;&gt;</span><br></pre></td></tr></table></figure>
<h1 id="AND-OR-NOT-è¿ç®—ç¬¦"><a href="#AND-OR-NOT-è¿ç®—ç¬¦" class="headerlink" title="AND, OR, NOT è¿ç®—ç¬¦"></a>AND, OR, NOT è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> (birth_date &gt; <span class="string">'1990-01-01'</span> <span class="keyword">OR</span> points &gt; <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
<p>ANDä¼˜å…ˆçº§é«˜äºOR</p>
<h1 id="IN-è¿ç®—ç¬¦"><a href="#IN-è¿ç®—ç¬¦" class="headerlink" title="IN è¿ç®—ç¬¦"></a>IN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE state = 'VA' OR state = 'GA' OR state = 'FL'</span></span><br><span class="line"><span class="comment">-- ç”¨INæ”¹å†™ï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> state <span class="keyword">IN</span> (<span class="string">'VA'</span>, <span class="string">'GA'</span>, <span class="string">'FL'</span>)</span><br><span class="line"><span class="comment">-- WHERE state NOT IN ('VA', 'GA', 'FL') -- è¿”å›ä¸åœ¨è¿™äº›å·çš„ records</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¿™æ ·æ˜¯é”™çš„ï¼šWHERE state = 'VA' OR 'GA' OR 'FL' </span></span><br><span class="line"><span class="comment">-- å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç”¨ORè¿æ¥å¸ƒå°”è¡¨è¾¾å¼state = 'VA'å’Œå­—ç¬¦ä¸²'GA'</span></span><br></pre></td></tr></table></figure>
<h1 id="BETWEEN-è¿ç®—ç¬¦"><a href="#BETWEEN-è¿ç®—ç¬¦" class="headerlink" title="BETWEEN è¿ç®—ç¬¦"></a>BETWEEN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE points &gt;= 1000 AND points &lt;=3000</span></span><br><span class="line"><span class="comment">-- æ”¹å†™ä¸ºï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> points <span class="keyword">BETWEEN</span> <span class="number">1000</span> <span class="keyword">AND</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¹Ÿå¯ç”¨äºéæ•°å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> birth_date <span class="keyword">BETWEEN</span> <span class="string">"1990-01-01"</span> <span class="keyword">AND</span> <span class="string">"2000-01-01"</span></span><br></pre></td></tr></table></figure>
<h1 id="LIKE-è¿ç®—ç¬¦"><a href="#LIKE-è¿ç®—ç¬¦" class="headerlink" title="LIKE è¿ç®—ç¬¦"></a>LIKE è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'B'æˆ–'b'å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'brush%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥â€œbrushâ€å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%b%'</span> </span><br><span class="line"><span class="comment">-- è¡¨ç¤º'b'å‰åå¯ä»¥æœ‰ä»»æ„å­—ç¬¦æ•°('b'åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾å‡ºç°çš†å¯)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'_____y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦('_'å¡«è¡¥è¡¨ç¤ºä»»æ„å­—ç¬¦)çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b____y'</span> </span><br><span class="line"><span class="comment">-- è¿è¡Œåå¾—åˆ°last nameä»¥'b'å¼€å¤´ä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦çš„record(æœ¬ä¾‹ä¸­ä¸º'Boagey')</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***SUMMARY**/</span> </span><br><span class="line">% any number of characters</span><br><span class="line">_ single character</span><br></pre></td></tr></table></figure>
<h1 id="REGEXP-è¿ç®—ç¬¦"><a href="#REGEXP-è¿ç®—ç¬¦" class="headerlink" title="REGEXP è¿ç®—ç¬¦"></a>REGEXP è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- regular expression (REGEXP) æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%field%'</span></span><br><span class="line"><span class="comment">-- WHERE last_name REGEXP 'field'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'^field'</span> </span><br><span class="line"><span class="comment">-- last name must starts with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* use '|' for multiple search pattern */</span> </span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must contains "field" or "mac" or "rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field" or contains "mac"/"rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[gim]e'</span> </span><br><span class="line"><span class="comment">-- last name must contains "ge"/"ie"/"me"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'e[gim]'</span> </span><br><span class="line"><span class="comment">-- last name must contains "eg"/"ei"/"em"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[a-h]e'</span></span><br><span class="line"><span class="comment">-- the same as WHERE last_name REGEXP '[abcdefgh]e'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">^ 	beginning</span><br><span class="line">$ 	end</span><br><span class="line">| 	logical or</span><br><span class="line">[abcd]</span><br><span class="line">[a-f]</span><br></pre></td></tr></table></figure>
<h1 id="IS-NULL-è¿ç®—ç¬¦"><a href="#IS-NULL-è¿ç®—ç¬¦" class="headerlink" title="IS NULL è¿ç®—ç¬¦"></a>IS NULL è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="literal">NULL</span>  <span class="comment">-- è¿”å›æ²¡æœ‰phone(è¯¥å­—æ®µä¸ºNULL)çš„records</span></span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="comment">-- phoneä¸ä¸ºç©º</span></span><br></pre></td></tr></table></figure>
<h1 id="ORDER-BY-å­å¥"><a href="#ORDER-BY-å­å¥" class="headerlink" title="ORDER BY å­å¥"></a>ORDER BY å­å¥</h1><p>é»˜è®¤æ˜¯æŒ‰ç…§ä¸»é”®ï¼ˆprimary keyï¼‰æ’åºï¼Œä½¿ç”¨ORDER BY å­å¥å¯ä»¥æŒ‡å®šæ’åºçš„é”®</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name        <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼å‡åºæ’åº</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name <span class="keyword">DESC</span>   <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼é™åºæ’åº</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> state <span class="keyword">DESC</span>, first_name </span><br><span class="line"><span class="comment">--å…ˆæ ¹æ®stateé™åºæ’åˆ—ï¼Œstateç›¸åŒçš„æ ¹æ®first_nameå‡åºæ’åˆ—</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- birth_dateä¸åœ¨é€‰å‡ºæ¥çš„åˆ—é‡Œï¼Œstill work</span></span><br><span class="line"><span class="keyword">SELECT</span> first_name, last_name</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> birth_date</span><br></pre></td></tr></table></figure>
<h1 id="LIMIT-å­å¥"><a href="#LIMIT-å­å¥" class="headerlink" title="LIMIT å­å¥"></a>LIMIT å­å¥</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">3</span> 		<span class="comment">-- è¿”å›å‰3ä¸ªrecords</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">300</span> 		<span class="comment">-- 300 &gt; #record, è¿”å›å…¨éƒ¨records</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">6</span>, <span class="number">3</span>  	<span class="comment">-- è·³è¿‡å‰6ä¸ªrecordsï¼Œè¿”å›ç¬¬7ï¼Œ8ï¼Œ9ä¸ªrecords</span></span><br></pre></td></tr></table></figure>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/03/12/20210312_DongAlgNote/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2021/03/12/20210312_DongAlgNote/" class="post-title-link" itemprop="url">æ•°æ®ç»“æ„ä¸ç®—æ³•ç¬”è®°(1)</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-12 10:50:09 / ä¿®æ”¹æ—¶é—´ï¼š10:49:37" itemprop="dateCreated datePublished" datetime="2021-03-12T10:50:09+08:00">2021-03-12</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/03/12/20210312_DongAlgNote/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/03/12/20210312_DongAlgNote/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ•°ç»„ä¸é“¾è¡¨"><a href="#æ•°ç»„ä¸é“¾è¡¨" class="headerlink" title="æ•°ç»„ä¸é“¾è¡¨"></a>æ•°ç»„ä¸é“¾è¡¨</h1><p><strong>æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰</strong>ã€‚</p>
<p>é‚£äº›å¤šæ ·åŒ–çš„æ•°æ®ç»“æ„ï¼Œç©¶å…¶æºå¤´ï¼Œéƒ½æ˜¯åœ¨é“¾è¡¨æˆ–è€…æ•°ç»„ä¸Šçš„ç‰¹æ®Šæ“ä½œï¼ŒAPI ä¸åŒè€Œå·²</p>
<p><strong>æ•°ç»„</strong>ç”±äºæ˜¯ç´§å‡‘è¿ç»­å­˜å‚¨,å¯ä»¥éšæœºè®¿é—®ï¼Œé€šè¿‡ç´¢å¼•å¿«é€Ÿæ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œè€Œä¸”ç›¸å¯¹èŠ‚çº¦å­˜å‚¨ç©ºé—´ã€‚ä½†æ­£å› ä¸ºè¿ç»­å­˜å‚¨ï¼Œå†…å­˜ç©ºé—´å¿…é¡»ä¸€æ¬¡æ€§åˆ†é…å¤Ÿï¼Œæ‰€ä»¥è¯´æ•°ç»„å¦‚æœè¦æ‰©å®¹ï¼Œéœ€è¦é‡æ–°åˆ†é…ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œå†æŠŠæ•°æ®å…¨éƒ¨å¤åˆ¶è¿‡å»ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ï¼›è€Œä¸”ä½ å¦‚æœæƒ³åœ¨æ•°ç»„ä¸­é—´è¿›è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œæ¯æ¬¡å¿…é¡»æ¬ç§»åé¢çš„æ‰€æœ‰æ•°æ®ä»¥ä¿æŒè¿ç»­ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ã€‚</p>
<p><strong>é“¾è¡¨</strong>å› ä¸ºå…ƒç´ ä¸è¿ç»­ï¼Œè€Œæ˜¯é æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ•°ç»„çš„æ‰©å®¹é—®é¢˜ï¼›å¦‚æœçŸ¥é“æŸä¸€å…ƒç´ çš„å‰é©±å’Œåé©±ï¼Œæ“ä½œæŒ‡é’ˆå³å¯åˆ é™¤è¯¥å…ƒç´ æˆ–è€…æ’å…¥æ–°å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ã€‚ä½†æ˜¯æ­£å› ä¸ºå­˜å‚¨ç©ºé—´ä¸è¿ç»­ï¼Œä½ æ— æ³•æ ¹æ®ä¸€ä¸ªç´¢å¼•ç®—å‡ºå¯¹åº”å…ƒç´ çš„åœ°å€ï¼Œæ‰€ä»¥ä¸èƒ½éšæœºè®¿é—®ï¼›è€Œä¸”ç”±äºæ¯ä¸ªå…ƒç´ å¿…é¡»å­˜å‚¨æŒ‡å‘å‰åå…ƒç´ ä½ç½®çš„æŒ‡é’ˆï¼Œä¼šæ¶ˆè€—ç›¸å¯¹æ›´å¤šçš„å‚¨å­˜ç©ºé—´ã€‚</p>
<h1 id="æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ"><a href="#æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ" class="headerlink" title="æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ"></a>æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ</h1><p>éå† + è®¿é—®ï¼šå¢åˆ æŸ¥æ”¹ï¼ˆ<strong>åœ¨ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå°½å¯èƒ½é«˜æ•ˆåœ°å¢åˆ æŸ¥æ”¹</strong>ï¼‰</p>
<p>æ–¹å¼ï¼šçº¿æ€§-for/whileï¼›éçº¿æ€§-é€’å½’</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/25/20201225_VisualToSound/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2020/12/25/20201225_VisualToSound/" class="post-title-link" itemprop="url">è®ºæ–‡é˜…è¯»ç¬”è®°(7)-Visual to Sound Generating Natural Sound for Videos in the Wild</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-25 20:50:09 / ä¿®æ”¹æ—¶é—´ï¼š21:41:47" itemprop="dateCreated datePublished" datetime="2020-12-25T20:50:09+08:00">2020-12-25</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Visual-Sound/" itemprop="url" rel="index"><span itemprop="name">Visual Sound</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2020/12/25/20201225_VisualToSound/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/12/25/20201225_VisualToSound/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>ä»»åŠ¡</strong>ï¼šä»è¾“å…¥çš„è§†é¢‘ä¸­ç›´æ¥é¢„æµ‹rawå£°éŸ³ä¿¡å·</p>
<p><strong>æ–¹æ³•</strong>ï¼šç¼–ç -è§£ç æ¶æ„ï¼Œå³è§†é¢‘ç¼–ç å™¨+éŸ³é¢‘ç”Ÿæˆå™¨ï¼ˆåˆ†å±‚RNNï¼‰</p>
<p><strong>å»ºæ¨¡</strong>ï¼šæ¡ä»¶ç”Ÿæˆé—®é¢˜ã€‚è®­ç»ƒä¸€ä¸ªæœ‰æ¡ä»¶çš„ç”Ÿæˆæ¨¡å‹ä»¥ä»è¾“å…¥çš„è§†é¢‘ä¸­åˆæˆrawå£°éŸ³æ³¢å½¢ã€‚</p>
<p>ä¼°è®¡æ¡ä»¶æ¦‚ç‡ï¼š</p>
<script type="math/tex; mode=display">
p(y_{1},y_{2},...,y_{n}|x_{1},x_{2},...,x_{m})</script><p>$x_{1},x_{2},â€¦,x_{m}$æ˜¯è¾“å…¥è§†é¢‘å¸§çš„è¡¨ç¤ºï¼›$y_{1},y_{2},â€¦,y_{n}$æ˜¯è¾“å‡ºå£°éŸ³æ³¢å½¢çš„å€¼ï¼ˆå–å€¼ä¸º0~255çš„æ•´æ•°åºåˆ—ï¼‰ã€‚åŸå§‹æ³¢å½¢æ ·æœ¬æ˜¯èŒƒå›´ä»-1åˆ°1çš„å®æ•°å€¼ï¼Œæ–‡ä¸­é‡æ–°ç¼©æ”¾å’Œçº¿æ€§é‡åŒ–å®ƒä»¬åˆ°256ä¸ªbinsã€‚é€šå¸¸$m&lt;&lt;n$ï¼Œå› ä¸ºéŸ³é¢‘çš„é‡‡æ ·ç‡è¿œé«˜äºè§†é¢‘çš„é‡‡æ ·ç‡ã€‚</p>
<p><img src="/images/VisualToSound/1.png" alt="1"></p>
<h2 id="Sound-Generator"><a href="#Sound-Generator" class="headerlink" title="Sound Generator"></a>Sound Generator</h2><p>é‡‡ç”¨çš„é‡‡æ ·é¢‘ç‡ä¸ºï¼š16kHz</p>
<p><strong>é—®é¢˜</strong>ï¼šåºåˆ—é•¿åº¦å¾ˆé•¿</p>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šé€‰ç”¨SampleRNNä¸ºå£°éŸ³ç”Ÿæˆå™¨ï¼ˆåŸå› ï¼šå…¶ä»ç²—åˆ°ç»†çš„ç»“æ„ä½¿æ¨¡å‹èƒ½å¤Ÿç”Ÿæˆéå¸¸é•¿çš„åºåˆ—ï¼Œæ¯ä¸€å±‚çš„å¾ªç¯ç»“æ„æ•æ‰åˆ°é¥è¿œæ ·æœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ï¼‰</p>
<p><strong>å…·ä½“</strong>ï¼š1ï¼‰ç»†èŠ‚å±‚æ˜¯å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰ï¼Œè·å–ä¸‹ä¸€ä¸ªç²—ç³™å±‚ï¼ˆä¸Šå±‚ï¼‰çš„è¾“å‡ºå’Œå‰é¢çš„$k$ä¸ªæ ·æœ¬ï¼Œä»¥ç”Ÿæˆä¸€ä¸ªæ–°æ ·æœ¬ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ³¢å½¢æ ·æœ¬ï¼ˆå®æ•°å€¼ï¼Œä»-1åˆ°1ï¼‰è¢«çº¿æ€§é‡åŒ–åˆ°ä»0åˆ°255çš„æ•´æ•°èŒƒå›´ï¼Œå¯ä»¥å°†æœ€ç»†çš„å±‚çš„MLPçœ‹æˆæ˜¯256-ç±»åˆ†ç±»å™¨ï¼Œåœ¨æ¯ä¸ªtimestepé¢„æµ‹å¾—åˆ°ä¸€ä¸ªæ ·æœ¬ï¼ˆç„¶åæ˜ å°„å›å®å€¼ï¼Œè·å¾—æœ€ç»ˆæ³¢å½¢ï¼‰ã€‚</p>
<p>2ï¼‰ç²—ç³™å±‚å¯ä»¥æ˜¯GRU, LSTMæˆ–å…¶ä»–çš„RNNå˜ä½“ã€‚åŒ…å«å¤šä¸ªæ³¢å½¢æ ·æœ¬(å›¾ä¸­ä¸º2ä¸ª)çš„èŠ‚ç‚¹æ„å‘³ç€è¯¥å±‚åŸºäºå‰ä¸€ä¸ªtimestepä»¥åŠæ›´ç²—å±‚çš„é¢„æµ‹ï¼Œåœ¨æ¯ä¸ªtimestepå…±åŒé¢„æµ‹å¤šä¸ªæ ·æœ¬ã€‚</p>
<h2 id="Video-Encoder"><a href="#Video-Encoder" class="headerlink" title="Video Encoder"></a>Video Encoder</h2><h3 id="Frame-to-frame-method"><a href="#Frame-to-frame-method" class="headerlink" title="Frame-to-frame method"></a>Frame-to-frame method</h3><script type="math/tex; mode=display">
x_{i}=V(f_{i})</script><p>$f_{i}$å’Œ$x_{i}$åˆ†åˆ«æ˜¯è§†é¢‘çš„ç¬¬$i$å¸§å’Œè¯¥å¸§çš„è¡¨å¾ã€‚$V(.)$æ˜¯åœ¨ImageNetä¸Šé¢„å…ˆè®­ç»ƒçš„VGG19ç½‘ç»œçš„fc6ç‰¹å¾æå–æ“ä½œï¼Œ$x_{i}$æ˜¯ä¸€ä¸ª4096ç»´çš„å‘é‡ã€‚åœ¨è¯¥æ¨¡å‹ä¸­ï¼Œå°†å¸§è¡¨å¾ä¸å£°éŸ³ç”Ÿæˆå™¨æœ€ç²—å±‚RNNçš„èŠ‚ç‚¹ï¼ˆæ ·æœ¬ï¼‰ç»Ÿä¸€è¿æ¥ï¼Œå¯¹è§†è§‰ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œå¦‚å›¾3(b)æ‰€ç¤ºï¼ˆå†…å®¹ä»¥ç»¿è‰²è™šçº¿æ¡†è¡¨ç¤ºï¼‰ã€‚</p>
<p><strong>è§†é¢‘ä¸éŸ³é¢‘é‡‡æ ·ç‡ä¸åŒçš„é—®é¢˜è§£å†³</strong>ï¼šå¯¹äºæ¯ä¸ª$x_{i}$ï¼Œé‡å¤$s$æ¬¡ï¼Œå…¶ä¸­</p>
<script type="math/tex; mode=display">
s=\lceil \frac{sr_{audio}}{sr_{video}}\rceil,\quad (``sr"\ means\ sampling\ rate)</script><p>åªå°†è§†è§‰ç‰¹å¾æä¾›ç»™SampleRNNçš„æœ€ç²—ç³™å±‚ï¼Œå› ä¸ºè¿™ä¸€å±‚å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæŒ‡å¯¼æ‰€æœ‰æ›´ç»†çš„å±‚çš„ç”Ÿæˆä»¥åŠæé«˜è®¡ç®—æ•ˆç‡ã€‚</p>
<h3 id="Sequence-to-sequence-method"><a href="#Sequence-to-sequence-method" class="headerlink" title="Sequence-to-sequence method"></a>Sequence-to-sequence method</h3><p>æå–VGG19ç½‘ç»œçš„fc6ç‰¹å¾ä½œä¸ºæ¯ä¸€å¸§çš„è¡¨å¾ï¼Œç„¶åç”¨RNNå¤„ç†ä½œä¸ºè§†é¢‘ç¼–ç å™¨ï¼Œä½¿ç”¨è§†é¢‘ç¼–ç å™¨çš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€åˆå§‹åŒ–å£°éŸ³å‘ç”Ÿå™¨çš„æœ€ç²—å±‚RNNçš„éšè—çŠ¶æ€ï¼Œç„¶åå¼€å§‹å£°éŸ³ç”Ÿæˆã€‚æ­¤æ—¶å£°éŸ³ç”Ÿæˆä»»åŠ¡å˜ä¸ºï¼š</p>
<script type="math/tex; mode=display">
p(y_{1},y_{2},...,y_{n}|x_{1},x_{2},...,x_{m})=\prod\limits^{n}_{i=1}p(y_{i}|H,y_{1},...,y_{i-1})</script><p>$H$è¡¨ç¤ºè§†é¢‘ç¼–ç RNNçš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€æˆ–ç­‰æ•ˆçš„å£°éŸ³å‘ç”Ÿå™¨æœ€ç²—ç³™å±‚RNNçš„åˆå§‹éšè—çŠ¶æ€ã€‚</p>
<p><strong>è§†é¢‘ä¸éŸ³é¢‘é‡‡æ ·ç‡ä¸åŒçš„é—®é¢˜è§£å†³</strong>ï¼šä¸åƒä¸Šé¢æåˆ°çš„åŸºäºå¸§çš„æ¨¡å‹ä¸­æ˜ç¡®åœ°å¼ºåˆ¶è§†é¢‘å¸§å’Œæ³¢å½¢æ ·æœ¬ä¹‹é—´çš„å¯¹é½ã€‚åœ¨è¿™ä¸ªåºåˆ—åˆ°åºåˆ—æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›æ¨¡å‹é€šè¿‡ç¼–ç å’Œè§£ç æ¥å­¦ä¹ è¿™ä¸¤ç§æ¨¡å¼ä¹‹é—´çš„å¯¹é½ã€‚</p>
<h3 id="Flow-based-method"><a href="#Flow-based-method" class="headerlink" title="Flow-based method"></a>Flow-based method</h3><p>Motivï¼šè§†è§‰é¢†åŸŸçš„è¿åŠ¨ä¿¡å·ï¼Œè™½ç„¶æœ‰æ—¶å¾ˆå¾®å°ï¼Œä½†å¯¹äºåˆæˆçœŸå®ä¸”åŒæ­¥è‰¯å¥½çš„å£°éŸ³æ˜¯è‡³å…³é‡è¦çš„ã€‚</p>
<p>æ–¹æ¡ˆï¼šå¢åŠ ä¸€ä¸ªåŸºäºå…‰æµçš„æ·±åº¦ç‰¹å¾ä»¥æ˜ç¡®æ•è·è¿åŠ¨ä¿¡å·ã€‚ä¸åºåˆ—åˆ°åºåˆ—æ–¹æ³•ä¸åŒä¹‹å¤„ä¸º</p>
<script type="math/tex; mode=display">
x_{i}=cat[V(f_{i}),F(o_{i})]</script><p>$o_{i}$æ˜¯ç¬¬$i$å¸§çš„å…‰æµï¼Œ$F(.)$æ˜¯æå–åŸºäºå…‰æµçš„æ·±åº¦ç‰¹å¾çš„å‡½æ•°ï¼ˆéå­¦ä¹ å¾—åˆ°ï¼‰ã€‚</p>
<p><a href="https://arxiv.org/pdf/1712.01393.pdf" target="_blank" rel="noopener">Visual to Sound: Generating Natural Sound for Videos in the Wild</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/25/20201225_VisuallyIndicatedSound/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2020/12/25/20201225_VisuallyIndicatedSound/" class="post-title-link" itemprop="url">è®ºæ–‡é˜…è¯»ç¬”è®°(6)-Visually Indicated Sounds</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-25 11:50:09 / ä¿®æ”¹æ—¶é—´ï¼š16:51:11" itemprop="dateCreated datePublished" datetime="2020-12-25T11:50:09+08:00">2020-12-25</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Visual-Sound/" itemprop="url" rel="index"><span itemprop="name">Visual Sound</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2020/12/25/20201225_VisuallyIndicatedSound/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/12/25/20201225_VisuallyIndicatedSound/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Sound-Representation"><a href="#Sound-Representation" class="headerlink" title="Sound Representation"></a>Sound Representation</h2><p>è®¡ç®—å£°éŸ³ç‰¹å¾çš„æ–¹æ³•ï¼šå°†å£°æ³¢$w(t)$åˆ†è§£ä¸ºå­å¸¦åŒ…ç»œ$s_{n}(t)$ï¼ˆå°†å£°æ³¢æ»¤æ³¢ç„¶ååº”ç”¨éçº¿æ€§ï¼‰ã€‚1ï¼‰åœ¨ç­‰æ•ˆçŸ©å½¢å¸¦å®½(ERB)å°ºåº¦ä¸Šåº”ç”¨40ä¸ªå¸¦é€šæ»¤æ³¢å™¨$f_{n}$(åŠ ä¸Šä¸€ä¸ªä½é€šå’Œé«˜é€šæ»¤æ³¢å™¨)ï¼Œå¹¶å–å“åº”çš„å¸Œå°”ä¼¯ç‰¹åŒ…ç»œçº¿ï¼›2ï¼‰å°†åŒ…ç»œä¸‹é‡‡åˆ°90Hzï¼ˆçº¦ä¸º3æ ·æœ¬/å¸§ï¼‰å¹¶å‹ç¼©ã€‚</p>
<script type="math/tex; mode=display">
s_{n}=D(|(w*f_{n})+jH(w*f_{n})|)^{c}</script><p>$H$æ˜¯å¸Œå°”ä¼¯ç‰¹å˜æ¢ï¼Œ$D$è¡¨ç¤ºä¸‹é‡‡æ ·ï¼Œå‹ç¼©å¸¸æ•°$c=0.3$ã€‚ç”±æ­¤äº§ç”Ÿçš„è¡¨ç¤ºè¢«ç§°ä¸ºè€³èœ—å›¾ï¼ˆcochleagramï¼‰ã€‚</p>
<p><img src="/images/VisualIndicatedSound/2.png" alt="2" style="zoom:80%;"></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæ’å‡»å£°å¦‚ä½•æ•æ‰ææ–™çš„å±æ€§?ä¸ºäº†ä»ç»éªŒä¸Šè¯„æµ‹è¿™ä¸€ç‚¹ï¼Œæ–‡ç« ä½¿ç”¨å­å¸¦åŒ…ç»œä½œä¸ºç‰¹å¾å‘é‡ï¼Œè®­ç»ƒäº†ä¸€ä¸ªçº¿æ€§æ”¯æŒå‘é‡æœºæ¥é¢„æµ‹æ•°æ®åº“ä¸­çš„å£°éŸ³ç”±å“ªä¸ªææ–™å‘å‡ºã€‚æ–‡ç« å¯¹è®­ç»ƒé›†é‡æ–°é‡‡æ ·ï¼Œä½¿æ¯ä¸ªç±»åŒ…å«ç›¸åŒæ•°é‡çš„æ’å‡»å£°(æ¯ç±»260ä¸ª)ã€‚æœ€ç»ˆå¾—åˆ°çš„ææ–™åˆ†ç±»å™¨å…·æœ‰45.8% (chance = 5.9%)çš„åˆ†ç±»å¹³å‡ç²¾åº¦(å³æ¯ç±»ç²¾åº¦å€¼çš„å¹³å‡å€¼)ï¼Œå…¶æ··æ·†çŸ©é˜µå¦‚å›¾3(b)æ‰€ç¤ºã€‚è¿™äº›ç»“æœè¡¨æ˜ï¼Œæ’å‡»å£°ä¼ è¾¾äº†æœ‰å…³ææ–™çš„é‡è¦ä¿¡æ¯ï¼Œå› æ­¤ï¼Œå¦‚æœä¸€ä¸ªç®—æ³•èƒ½å¤Ÿå­¦ä¹ ä»å›¾åƒä¸­å‡†ç¡®é¢„æµ‹è¿™äº›å£°éŸ³ï¼Œå®ƒå°±ä¼šæœ‰å…³äºææ–™ç±»åˆ«çš„éšå«çŸ¥è¯†ã€‚</p>
<h2 id="Predicting-visually-indicated-sounds"><a href="#Predicting-visually-indicated-sounds" class="headerlink" title="Predicting visually indicated sounds"></a>Predicting visually indicated sounds</h2><p>å°†æ­¤ä»»åŠ¡å»ºæ¨¡ä¸ºä¸€ä¸ªå›å½’é—®é¢˜ï¼Œç›®æ ‡æ˜¯å°†ä¸€ä¸ªè§†é¢‘å¸§åºåˆ—æ˜ å°„ä¸ºä¸€ä¸ªå£°é¢‘ç‰¹å¾åºåˆ—ã€‚ä½¿ç”¨çš„æ¨¡å‹æ˜¯RNNï¼Œä»¥é¢œè‰²å’Œè¿åŠ¨ï¼ˆmotionï¼‰ä¿¡æ¯ä½œä¸ºè¾“å…¥ï¼Œé¢„æµ‹å‡ºå£°é¢‘æ³¢å½¢çš„å­å¸¦åŒ…ç»œã€‚æœ€åï¼Œä»å£°éŸ³ç‰¹å¾ä¸­äº§ç”Ÿæ³¢å½¢ã€‚</p>
<p><img src="/images/VisualIndicatedSound/1.png" alt="1" style="zoom:80%;"></p>
<h3 id="Regressing-sound-features"><a href="#Regressing-sound-features" class="headerlink" title="Regressing sound features"></a>Regressing sound features</h3><p>è¾“å…¥å›¾åƒåºåˆ—ï¼š$I_{1}, I_{2}, â€¦, I_{N}$</p>
<p>è¾“å‡ºå£°éŸ³ç‰¹å¾åºåˆ—ï¼š$\mathop{s_{1}}\limits ^{\rightarrow}, \mathop{s_{2}}\limits ^{\rightarrow}, \mathop{s_{T}}\limits ^{\rightarrow}, where \mathop{s_{t}}\limits ^{\rightarrow}\in \mathbb{R}^{42}$</p>
<p>è¿™äº›å£°éŸ³ç‰¹å¾å¯¹åº”äºå›¾4ä¸­æ‰€ç¤ºçš„è€³èœ—å—ã€‚æ–‡ç« ä½¿ç”¨å¾ªç¯ç¥ç»ç½‘ç»œ(RNN)æ¥è§£å†³è¿™ä¸ªå›å½’é—®é¢˜ï¼Œå®ƒå°†å·ç§¯ç¥ç»ç½‘ç»œ(CNN)è®¡ç®—çš„å›¾åƒç‰¹å¾ä½œä¸ºè¾“å…¥ã€‚</p>
<p><strong>å›¾åƒè¡¨ç¤º</strong>ï¼šå¦‚ä½•è¡¨ç¤ºè¿åŠ¨ï¼ˆmotionï¼‰ä¿¡æ¯ï¼Ÿè®¡ç®—æ¯ä¸€å¸§çš„spacetimeå›¾åƒï¼Œå³ä¸‰ä¸ªé€šé“æ˜¯ä¸Šä¸€å¸§ã€å½“å‰å¸§å’Œä¸‹ä¸€å¸§ç°åº¦ç‰ˆæœ¬çš„å›¾åƒã€‚å¯¹äºæ¯ä¸€å¸§$t$ï¼Œé€šè¿‡æ‹¼æ¥å¸§$t$çš„spacetimeå›¾åƒå’Œç¬¬1å¸§çš„é¢œè‰²å›¾åƒçš„CNNç‰¹å¾æ¥æ„å»ºè¾“å…¥ç‰¹å¾å‘é‡$x_{t}$ï¼Œå³</p>
<script type="math/tex; mode=display">
x_{t}=[\phi(F_{t}),\phi(I_{1})]</script><p>æ–‡ç« ä¸­è®­ç»ƒçš„ä¸¤ç§æ–¹å¼ï¼š1ï¼‰ä»é›¶å¼€å§‹åˆå§‹åŒ–CNNï¼Œç„¶åå’ŒRNNä¸€èµ·è®­ç»ƒå®ƒï¼›2ï¼‰ç”¨ä¸€ä¸ªä¸ºImageNetåˆ†ç±»è®­ç»ƒçš„ç½‘ç»œçš„æƒå€¼åˆå§‹åŒ–CNNã€‚å½“ä½¿ç”¨é¢„è®­ç»ƒæ—¶ï¼Œä»å·ç§¯å±‚ä¸­é¢„è®¡ç®—ç‰¹å¾ï¼Œå¹¶ä»…å¯¹å®Œå…¨è¿æ¥çš„å±‚è¿›è¡Œå¾®è°ƒã€‚</p>
<p><strong>å£°éŸ³é¢„æµ‹æ¨¡å‹</strong>ï¼šä½¿ç”¨åŸºäºLSTMçš„RNNæ¨¡å‹ã€‚ä¸ºäº†è¡¥å¿è§†é¢‘å’ŒéŸ³é¢‘é‡‡æ ·ç‡ä¹‹é—´çš„å·®å¼‚ï¼Œæ–‡ç« ä¸­å¤åˆ¶æ¯ä¸ªCNNç‰¹å¾å‘é‡$k$æ¬¡ï¼ˆæ–‡ç« ä¸­ä½¿ç”¨$k=3$ï¼‰</p>
<script type="math/tex; mode=display">
k=\lfloor T/N\rfloor</script><p>ç”±æ­¤å¾—åˆ°ä¸å£°éŸ³ç‰¹å¾åºåˆ—ç­‰é•¿çš„CNNç‰¹å¾åºåˆ—$x_{1}, x_{2}, â€¦, x_{N}$ã€‚åœ¨RNNçš„æ¯ä¸ªtimestepï¼Œæ–‡ç« ä¸­ä½¿ç”¨å½“å‰å›¾åƒç‰¹å¾å‘é‡$x_{t}$æ¥æ›´æ–°éšè—å˜é‡$h_{t}$ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä»¿å°„å˜æ¢å¾—åˆ°å£°éŸ³ç‰¹å¾ã€‚ä¸ºäº†ä½¿å­¦ä¹ é—®é¢˜æ›´ç®€å•ï¼Œæ–‡ä¸­ä½¿ç”¨PCAåœ¨æ¯ä¸ªæ—¶é—´æ­¥é•¿çš„42ç»´ç‰¹å¾å‘é‡æŠ•å½±åˆ°10ç»´ç©ºé—´ï¼Œç„¶åé¢„æµ‹è¿™ä¸ªä½ç»´å‘é‡ã€‚å¯¹ç½‘ç»œè¿›è¡Œè¯„ä¼°æ—¶ï¼Œåæ±‚PCAå˜æ¢ä»¥è·å¾—å£°éŸ³ç‰¹å¾ã€‚</p>
<p>æ–‡ç« ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ä»¥Caffeå…±åŒè®­ç»ƒRNNå’ŒCNNã€‚å®ƒæœ‰åŠ©äºæ”¶æ•›å»é™¤dropoutå’Œå‰ªè¾‘å¤§çš„æ¢¯åº¦ã€‚å½“ä»å¤´å¼€å§‹è®­ç»ƒæ—¶ï¼Œæ–‡ä¸­é€šè¿‡å¯¹è§†é¢‘è¿›è¡Œè£å‰ªå’Œé•œåƒè½¬æ¢æ¥å¢å¼ºæ•°æ®ã€‚æ–‡ä¸­ä¹Ÿä½¿ç”¨å¤šä¸ªLSTMå±‚ï¼ˆæ•°é‡å–å†³äºä»»åŠ¡ï¼‰ã€‚</p>
<h3 id="Generating-a-waveform"><a href="#Generating-a-waveform" class="headerlink" title="Generating a waveform"></a>Generating a waveform</h3><p>é—®é¢˜ï¼šå¦‚ä½•ä»å£°éŸ³ç‰¹å¾ä¸­äº§ç”Ÿå£°æ³¢ï¼Ÿ</p>
<ol>
<li>ç®€å•å‚æ•°ç»¼åˆæ³•ï¼šè¿­ä»£åœ°å°†å­å¸¦åŒ…ç»œåŠ åˆ°ç™½å™ªå£°æ ·æœ¬ä¸Š(æ–‡ä¸­åªä½¿ç”¨äº†ä¸€æ¬¡è¿­ä»£)ã€‚è¿™ç§æ–¹æ³•å¯¹äºæ£€æŸ¥éŸ³é¢‘ç‰¹å¾æ‰€æ•è·çš„ä¿¡æ¯éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»£è¡¨äº†ä»ç‰¹å¾åˆ°å£°éŸ³çš„ç›´æ¥è½¬æ¢ã€‚</li>
<li>å¯¹äºäº§ç”Ÿå¯¹äºäººè€³ä¼¼æ˜¯è€Œéçš„å£°éŸ³çš„ä»»åŠ¡ï¼Œåœ¨ä»ç‰¹å¾åˆ°æ³¢å½¢çš„è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œå…ˆæ–½åŠ ä¸€ä¸ªå¼ºçš„è‡ªç„¶å£°éŸ³æ˜¯æ›´æœ‰æ•ˆçš„ã€‚å› æ­¤ä½¿ç”¨åŸºäºå®ä¾‹çš„åˆæˆæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†å£°éŸ³ç‰¹å¾çš„çª—å£æ•æ‰åˆ°è®­ç»ƒé›†ä¸­æœ€æ¥è¿‘çš„æ ·æœ¬ä¸Šã€‚æ–‡ä¸­é€šè¿‡æ‹¼æ¥é¢„æµ‹çš„å£°éŸ³ç‰¹å¾$\mathop{s_{1}}\limits ^{\rightarrow}, \mathop{s_{2}}\limits ^{\rightarrow}, â€¦, \mathop{s_{T}}\limits ^{\rightarrow}$ï¼ˆæˆ–å®ƒä»¬çš„ä¸€ä¸ªå­åºåˆ—ï¼‰å½¢æˆä¸€ä¸ªæŸ¥è¯¢å‘é‡ï¼Œåœ¨$L_{1}$è·ç¦»æµ‹é‡çš„è®­ç»ƒé›†ä¸­å¯»æ‰¾å…¶æœ€è¿‘çš„é‚»å±…ï¼Œå¹¶ä¼ é€’ç›¸åº”çš„æ³¢å½¢ã€‚</li>
</ol>
<p><a href="http://andrewowens.com/vis/" target="_blank" rel="noopener">é¡¹ç›®ç½‘å€</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/22/20201222_VisualMicrophone/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2020/12/22/20201222_VisualMicrophone/" class="post-title-link" itemprop="url">è®ºæ–‡é˜…è¯»ç¬”è®°(5)-The Visual Microphone Passive Recovery of Sound from Video</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-22 22:50:09" itemprop="dateCreated datePublished" datetime="2020-12-22T22:50:09+08:00">2020-12-22</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-12-25 10:40:43" itemprop="dateModified" datetime="2020-12-25T10:40:43+08:00">2020-12-25</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Visual-Sound/" itemprop="url" rel="index"><span itemprop="name">Visual Sound</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2020/12/22/20201222_VisualMicrophone/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/12/22/20201222_VisualMicrophone/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><strong>ç°è±¡</strong>ï¼šå£°éŸ³åˆ°è¾¾ç‰©ä½“ä¼šåœ¨ç‰©ä½“è¡¨é¢å¼•èµ·å¾®å°æŒ¯åŠ¨ã€‚</p>
<p><strong>åšæ³•</strong>ï¼šä½¿ç”¨ç‰©ä½“çš„é«˜é€Ÿè§†é¢‘æå–å¾®å°æŒ¯åŠ¨ï¼Œéƒ¨åˆ†æ¢å¤ï¼ˆé€ æˆæŒ¯åŠ¨çš„ï¼‰å£°éŸ³ã€‚</p>
<p><strong>å…·ä½“</strong>ï¼š1ï¼‰ä»ä¸€ç³»åˆ—ä¸åŒç‰¹æ€§çš„ç‰©ä½“çš„é«˜é€Ÿè¿ç»­é•œå¤´ä¸­æ¢å¤å£°éŸ³ï¼›</p>
<p>â€‹            2ï¼‰ä½¿ç”¨çœŸå®å’Œä»¿çœŸæ•°æ®æ¥è¯„æµ‹é‚£äº›å½±å“äº†å¯è§†åŒ–åœ°æ¢å¤å£°éŸ³çš„å› ç´ ï¼›</p>
<p>â€‹            3ï¼‰å£°éŸ³æ¢å¤è´¨é‡è¯„ä»·æŒ‡æ ‡ï¼šå¯ç†è§£æ€§ï¼ˆintelligibilityï¼‰ã€SNRï¼›ç›´æ¥å¯¹æ¯”è¾“å…¥å’Œæ¢å¤å‡ºæ¥çš„ä¿¡å·ï¼›</p>
<p>â€‹            4ï¼‰æ¢ç´¢å¦‚ä½•åˆ©ç”¨æ™®é€šç”¨æˆ·ç›¸æœºçš„å·å¸˜å¿«é—¨ï¼ˆrolling shutterï¼‰ä»è€Œä»æ ‡å‡†å¸§ç‡è§†é¢‘ä¸­æ¢å¤å‡ºå£°éŸ³ï¼›ä½¿ç”¨æ‰€ææ–¹æ³•çš„ç©ºé—´åˆ†è¾¨ç‡æ¥å¯è§†åŒ–å£°éŸ³å¼•èµ·çš„æŒ¯åŠ¨æ˜¯å¦‚ä½•éšç€ç‰©ä½“è¡¨é¢å˜åŒ–çš„ï¼Œä»¥ä¹‹æ¢å¤ç‰©ä½“çš„æŒ¯åŠ¨æ¨¡å¼ã€‚</p>
<p><strong>Keywords</strong>ï¼šè¿œç¨‹å£°éŸ³é‡‡é›†ï¼›è§†é¢‘ä¸­çš„å£°éŸ³ï¼›å¯è§†åŒ–å£°å­¦ã€‚</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>æè¿°</strong>ï¼šå£°éŸ³åˆ°è¾¾æŸç‰©å“ â†’ 1ï¼‰ç‰©å“è¡¨é¢è·Ÿéšå‘¨å›´ä»‹è´¨ç§»åŠ¨ OR 2ï¼‰æ ¹æ®å…¶æŒ¯åŠ¨æ¨¡å¼å‘ç”Ÿå½¢å˜ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼šå£°éŸ³å¼•èµ·ç‰©ä½“æŒ¯åŠ¨çš„ç°è±¡è¢«ç”¨äºè¿œç¨‹å£°éŸ³é‡‡é›†ï¼Œå¹¶åœ¨ç›‘è§†å’Œå®‰é˜²æ–¹é¢æœ‰é‡è¦åº”ç”¨ï¼Œå¦‚åœ¨è¿œå¤„çªƒå¬è°ˆè¯ã€‚è¿œç¨‹å£°éŸ³é‡‡é›†çš„ç°æœ‰æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯ç§¯æï¼ˆactiveï¼‰çš„ï¼Œéœ€è¦å°†ä¸€ä¸ªæ¿€å…‰æŸæˆ–patternæŠ•å°„åˆ°æŒ¯åŠ¨è¡¨é¢ã€‚</p>
<p><strong>æœ¬æ–‡è§‚å¯Ÿ</strong>ï¼šåªéœ€è¦ç‰©ä½“çš„é«˜é€Ÿè§†é¢‘ï¼Œå£°éŸ³å¼•èµ·çš„ç‰©ä½“æŒ¯åŠ¨é€šå¸¸èƒ½å¤Ÿäº§ç”Ÿè¶³å¤Ÿçš„è§†è§‰ä¿¡å·æ¥éƒ¨åˆ†æ¢å¤å‡ºè¯¥å£°éŸ³ã€‚</p>
<p><strong>æœ¬æ–‡è´¡çŒ®</strong>ï¼šæå‡ºä¸€ä¸ªæ¶ˆæçš„ä»è§†é¢‘ä¸­æ¢å¤å£°éŸ³ä¿¡å·çš„æ–¹æ³•ã€‚è§†è§‰ä¸Šæ£€æµ‹å¾®å°ç‰©ä½“æŒ¯åŠ¨â†’å°†æŒ¯åŠ¨è½¬å›éŸ³é¢‘ä¿¡å·ï¼ˆä½¿å¾—æ—¥å¸¸ç‰©å“å˜æˆæ½œè—çš„éº¦å…‹é£ï¼‰ã€‚åšæ³•ï¼š1ï¼‰ä½¿ç”¨é«˜é€Ÿæ‘„åƒæœºå°†ç‰©ä½“è§†é¢‘ï¼›2ï¼‰åœ¨ä¸€ä¸ªComplex steerable pyramid (CSP)ï¼ˆå»ºç«‹åœ¨è§†é¢‘ä¸Šï¼‰çš„ç»´åº¦ä¸Šæå–<em>å±€éƒ¨è¿åŠ¨ä¿¡å·</em>ï¼›3ï¼‰è¿™äº›å±€éƒ¨ä¿¡å·è¢«å¯¹é½å¹¶å–å¹³å‡ï¼Œå¾—åˆ°ä¸€ä¸ªå•ä¸€çš„ä¸€ç»´è¿åŠ¨ä¿¡å·ï¼Œè¯¥ä¿¡å·æ•æ‰å¯¹è±¡éšæ—¶é—´çš„<em>å…¨å±€è¿åŠ¨</em>ï¼›4ï¼‰è¿›ä¸€æ­¥æ»¤æ³¢å’Œå»å™ªï¼Œå¾—åˆ°æ¢å¤å‡ºæ¥çš„å£°éŸ³ã€‚</p>
<p><strong>å¯¹æ¯”ç§¯ææ–¹æ³•</strong>ï¼šæ¢å¤æ•ˆæœä¸å¦‚ç§¯ææ–¹æ³•ï¼›ä½†æ˜¯ä¼˜ç‚¹æœ‰ 1ï¼‰å¯¹äºçº¹ç†ç‰©ä½“å’Œå…‰ç…§è‰¯å¥½çš„åœºæ™¯ä¸éœ€è¦æä¾›ç§¯æç…§æ˜ï¼›2ï¼‰é™¤äº†é«˜é€Ÿæ‘„åƒæœºå¤–æ— éœ€é¢å¤–çš„ä¼ æ„Ÿå™¨æˆ–æ£€æµ‹æ¨¡å—ï¼›3ï¼‰æ— éœ€å›å°„æˆ–åå°„æŒ¯åŠ¨è¡¨é¢ï¼ˆåŒºåˆ«äºæ¿€å…‰éº¦å…‹é£ï¼‰ï¼›4ï¼‰æ²¡æœ‰å¯¹ç›¸å¯¹äºç›¸æœºçš„è¡¨é¢æ–¹å‘æ–½åŠ æ˜æ˜¾çš„çº¦æŸï¼›5ï¼‰äº§ç”Ÿäº†ä¸€ä¸ªå£°éŸ³çš„ç©ºé—´æµ‹é‡ï¼Œå¯ç”¨äºåˆ†æç‰©å“ä¸­å£°éŸ³å¼•èµ·çš„å½¢å˜ã€‚</p>
<p><strong>è®¨è®º</strong>ï¼šè™½ç„¶å£°éŸ³å¯ä»¥ç©¿é€å¤§å¤šæ•°ç‰©è´¨ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰©ä½“å’Œææ–™éƒ½èƒ½å¾ˆå¥½åœ°è¿›è¡Œè§†è§‰å£°éŸ³æ¢å¤ã€‚å£°æ³¢åœ¨ææ–™ä¸­çš„ä¼ æ’­å–å†³äºå¤šç§å› ç´ ï¼Œå¦‚ææ–™çš„å¯†åº¦å’Œå¯å‹ç¼©æ€§ï¼Œä»¥åŠç‰©ä½“çš„å½¢çŠ¶ã€‚æ–‡ç« è¿›è¡Œå¯¹ç…§å®éªŒï¼Œæµ‹é‡äº†ä¸åŒç‰©ä½“å’Œææ–™å¯¹å·²çŸ¥å’ŒæœªçŸ¥å£°éŸ³çš„ååº”ï¼Œå¹¶è¯„ä¼°æ–‡ç« æ‰€ææŠ€æœ¯å¯¹äºä»é«˜é€Ÿè§†é¢‘ä¸­æ¢å¤å£°éŸ³çš„èƒ½åŠ›ã€‚</p>
<h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>ä¼ ç»Ÿéº¦å…‹é£çš„å·¥ä½œåŸç†æ˜¯å°†å†…éƒ¨è†œç‰‡çš„è¿åŠ¨è½¬åŒ–ä¸ºç”µä¿¡å·ã€‚è†œç‰‡çš„è®¾è®¡ä½¿å…¶åœ¨å£°å‹ä¸‹å®¹æ˜“ç§»åŠ¨ï¼Œå› æ­¤å®ƒçš„è¿åŠ¨å¯ä»¥è¢«è®°å½•ä¸‹æ¥å¹¶è§£é‡Šä¸ºéŸ³é¢‘ã€‚<strong>æ¿€å…‰éº¦å…‹é£</strong>çš„å·¥ä½œåŸç†ä¸æ­¤ç±»ä¼¼ï¼Œä½†å®ƒæµ‹é‡çš„æ˜¯ä¸€ä¸ªé¥è¿œç‰©ä½“çš„è¿åŠ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†ç‰©ä½“ä½œä¸ºä¸€ä¸ªå¤–éƒ¨è†œç‰‡ã€‚è¿™æ˜¯é€šè¿‡è®°å½•æ¿€å…‰å¯¹ç‰©ä½“è¡¨é¢çš„åå°„æ¥å®ç°çš„ã€‚æœ€åŸºæœ¬çš„æ¿€å…‰éº¦å…‹é£è®°å½•åå°„æ¿€å…‰çš„ç›¸ä½ï¼Œä»¥æ¿€å…‰æ³¢é•¿ä½œæ¨¡å¾—åˆ°ç‰©ä½“çš„è·ç¦»ã€‚æ¿€å…‰å¤šæ™®å‹’æµ‹æŒ¯ä»ª(LDV)é€šè¿‡æµ‹é‡åå°„æ¿€å…‰çš„å¤šæ™®å‹’é¢‘ç§»æ¥ç¡®å®šåå°„é¢é€Ÿåº¦ï¼Œä»è€Œè§£å†³ç›¸ä½åŒ…è£¹çš„æ¨¡ç³Šæ€§ã€‚è¿™ä¸¤ç§ç±»å‹çš„æ¿€å…‰éº¦å…‹é£éƒ½å¯ä»¥ä»å¾ˆè¿œçš„è·ç¦»æ¢å¤é«˜è´¨é‡çš„éŸ³é¢‘ï¼Œä½†ä¾èµ–äºæ¿€å…‰å’Œæ¥æ”¶å™¨ç›¸å¯¹äºå…·æœ‰é€‚å½“åå°„æ¯”çš„åœ°é¢çš„ç²¾ç¡®å®šä½ã€‚</p>
<p>Zalevskyç­‰äººé€šè¿‡ä½¿ç”¨å¤±ç„¦é«˜é€Ÿç›¸æœºæ¥è®°å½•åå°„æ¿€å…‰æ•£æ–‘æ¨¡å¼çš„å˜åŒ–ï¼Œè§£å†³äº†å…¶ä¸­çš„ä¸€äº›å±€é™æ€§ã€‚ä»–ä»¬çš„å·¥ä½œå…è®¸æ¥æ”¶å™¨çš„å®šä½æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†ä»ç„¶ä¾èµ–äºè®°å½•åå°„æ¿€å…‰ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæœ¬æ–‡çš„æŠ€æœ¯ä¸ä¾èµ–äºä¸»åŠ¨ç…§æ˜ã€‚</p>
<p>æœ¬æ–‡æ–¹æ³•ä¾èµ–äºä»è§†é¢‘ä¸­æå–æå…¶ç»†å¾®è¿åŠ¨çš„èƒ½åŠ›ï¼Œå› è€Œä¹Ÿä¸å¯¹è¿™äº›è¿åŠ¨è¿›è¡Œæ”¾å¤§å’Œå¯è§†åŒ–çš„å·¥ä½œæœ‰å…³ã€‚è¿™äº›å·¥ä½œä¾§é‡äºå°è¿åŠ¨çš„å¯è§†åŒ–ï¼Œè€Œæœ¬æ–‡ä¾§é‡äºæµ‹é‡è¿™äº›è¿åŠ¨å¹¶åˆ©ç”¨å®ƒä»¬æ¥æ¢å¤å£°éŸ³ã€‚æœ¬æ–‡å·¥ä½œä¸­ä½¿ç”¨çš„å±€éƒ¨è¿åŠ¨ä¿¡å·æ¥è‡ªSimoncelliç­‰äººæå‡ºçš„Complex steerable pyramid (CSP)ä¸­çš„ç›¸ä½å˜åŒ–ï¼Œå› ä¸ºè¿™äº›å˜åŒ–è¢«è¯æ˜éå¸¸é€‚åˆäºè§†é¢‘ä¸­å¾®å°åŠ¨ä½œçš„æ¢å¤ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨å…¶ä»–æŠ€æœ¯æ¥è®¡ç®—å±€éƒ¨è¿åŠ¨ä¿¡å·ã€‚ä¾‹å¦‚ï¼Œç»å…¸çš„å…‰æµå’Œç‚¹ç›¸å…³æ–¹æ³•åœ¨ä¹‹å‰çš„è§†è§‰æŒ¯åŠ¨ä¼ æ„Ÿå·¥ä½œä¸­è¢«æˆåŠŸåœ°ä½¿ç”¨ã€‚ç”±äºæœ¬æ–‡æ–¹æ³•çš„è¾“å‡ºæ˜¯å•ä¸ªæŒ¯åŠ¨ç‰©ä½“çš„ä¸€ç»´è¿åŠ¨ä¿¡å·ï¼Œå› è€Œèƒ½å¤Ÿå¯¹è¾“å…¥è§†é¢‘ä¸­çš„æ‰€æœ‰åƒç´ è¿›è¡Œå¹³å‡ï¼Œå¹¶åœ¨åƒåˆ†ä¹‹ä¸€åƒç´ çš„æ•°é‡çº§ä¸Šå¤„ç†æå…¶å¾®å°çš„è¿åŠ¨ã€‚</p>
<h2 id="Recovering-Sound-from-Video"><a href="#Recovering-Sound-from-Video" class="headerlink" title="Recovering Sound from Video"></a>Recovering Sound from Video</h2><p><img src="/images/VisualSound/1.png" alt="1"></p>
<p><strong>è¾“å…¥</strong>ï¼šç‰©ä½“çš„é«˜é€Ÿè§†é¢‘ï¼ˆ1kHz~20kHzï¼‰$V(x,y,t)$</p>
<p><strong>å‡è®¾</strong>ï¼šç‰©ä½“å’Œç›¸æœºçš„ç›¸å¯¹è¿åŠ¨æ˜¯ç”±å£°éŸ³ä¿¡å·$s(t)$å¼•èµ·çš„æŒ¯åŠ¨ä¸»å¯¼çš„</p>
<p><strong>ç›®æ ‡</strong>ï¼šä»$V$å¾—åˆ°$s(t)$</p>
<p><strong>æ­¥éª¤</strong>ï¼š1ï¼‰æ ¹æ®ä¸åŒçš„æ–¹å‘$Î¸$å’Œå°ºåº¦$r$å°†$V$åˆ†è§£æˆå¤šä¸ªç©ºé—´å­å¸¦ï¼›</p>
<p>â€‹            2ï¼‰è®¡ç®—æ¯ä¸ªåƒç´ ã€æ–¹å‘å’Œå°ºåº¦ä¸Šçš„å±€éƒ¨è¿åŠ¨ä¿¡å·ï¼›é€šè¿‡ä¸€ç³»åˆ—çš„å¹³å‡å’Œå¯¹é½æ“ä½œå°†è¿™äº›è¿åŠ¨ä¿¡å·ç»„åˆèµ·æ¥ï¼Œä¸ºç‰©ä½“äº§ç”Ÿä¸€ä¸ªå•ä¸€çš„å…¨å±€è¿åŠ¨ä¿¡å·ï¼›</p>
<p>â€‹            3ï¼‰å¯¹ç‰©ä½“çš„è¿åŠ¨ä¿¡å·ä½¿ç”¨éŸ³é¢‘å»å™ªå’Œæ»¤æ³¢æŠ€æœ¯ï¼Œä»¥è·å¾—æ¢å¤å‡ºæ¥çš„å£°éŸ³ã€‚</p>
<h3 id="Computing-Local-Motion-Signals"><a href="#Computing-Local-Motion-Signals" class="headerlink" title="Computing Local Motion Signals"></a>Computing Local Motion Signals</h3><p>ä½¿ç”¨$V$çš„CSPè¡¨ç¤ºä¸­çš„ç›¸ä½å˜åŒ–æ¥è®¡ç®—å±€éƒ¨è¿åŠ¨ã€‚</p>
<p>CSPï¼šå°†$V$ä¸­çš„æ¯ä¸€å¸§æ ¹æ®ä¸åŒçš„æ–¹å‘å’Œå°ºåº¦åˆ†è§£æˆå¤æ•°å­å¸¦çš„æ»¤æ³¢å™¨ç»„ã€‚è¯¥å˜æ¢çš„åŸºç¡€æ–¹ç¨‹æ˜¯å¸¦å°ºåº¦å’Œæ–¹å‘çš„å…¼å…·ä½™å¼¦å’Œæ­£å¼¦ç›¸ä½çš„Gabor-likeå°æ³¢ã€‚æ¯ä¸€å¯¹ç±»ä½™å¼¦å’Œç±»æ­£å¼¦æ»¤æ³¢å™¨éƒ½å¯ä»¥ç”¨æ¥åˆ†ç¦»å±€éƒ¨å°æ³¢çš„æŒ¯å¹…å’Œå®ƒä»¬çš„ç›¸ä½ã€‚å…·ä½“åœ°è¯´ï¼Œæ¯ä¸ªå°ºåº¦$r$å’Œæ–¹ä½$Î¸$æ˜¯ä¸€ä¸ªå¤æ•°å›¾åƒï¼Œå¯ä»¥ç”¨å¹…å€¼$A$å’Œç›¸ä½$Ï†$è¡¨ç¤ºä¸ºï¼š</p>
<script type="math/tex; mode=display">
A(r,\theta,x,y,t)e^{i\varphi (r,\theta,x,y,t)}</script><p>å–è¿™ä¸ªç­‰å¼ä¸­è®¡ç®—çš„å±€éƒ¨ç›¸ä½$Ï†$ï¼Œä»å‚è€ƒå¸§$t_{0}$(é€šå¸¸æ˜¯è§†é¢‘çš„ç¬¬ä¸€å¸§)çš„å±€éƒ¨ç›¸ä½ä¸­å‡å»å®ƒä»¬ï¼Œè®¡ç®—ç›¸ä½å˜åŒ–</p>
<script type="math/tex; mode=display">
\varphi_{v} (r,\theta,x,y,t)=\varphi (r,\theta,x,y,t)-\varphi (r,\theta,x,y,t_{0})</script><p>å¯¹äºè¾ƒå°çš„è¿åŠ¨ï¼Œè¿™äº›ç›¸ä½å˜åŒ–è¿‘ä¼¼æ­£æ¯”äºå›¾åƒç»“æ„åœ¨ç›¸åº”æ–¹å‘å’Œå°ºåº¦ä¸Šçš„ä½ç§»ã€‚</p>
<h3 id="Computing-the-Global-Motion-Signal"><a href="#Computing-the-Global-Motion-Signal" class="headerlink" title="Computing the Global Motion Signal"></a>Computing the Global Motion Signal</h3><p>å¯¹äºCSPçš„æ¯ä¸ªå°ºåº¦$r$å’Œæ–¹ä½$Î¸$æ±‚å±€éƒ¨è¿åŠ¨ä¿¡å·çš„åŠ æƒå¹³å‡ï¼š</p>
<script type="math/tex; mode=display">
\Phi_{i}(r,\theta,t)=\sum\limits_{x,y}A(r,\theta,x,y)^{2}\varphi_{v} (r,\theta,x,y,t)</script><p>æ±‚åŠ æƒå¹³å‡çš„åŸå› ï¼šå±€éƒ¨ç›¸ä½åœ¨æ²¡æœ‰å¤ªå¤šçº¹ç†çš„åŒºåŸŸæ˜¯æ¨¡ç³Šçš„ï¼Œå¯¼è‡´è¿™äº›åŒºåŸŸçš„è¿åŠ¨ä¿¡å·æ˜¯æœ‰å™ªå£°çš„ã€‚CSPçš„æŒ¯å¹…Aç»™å‡ºäº†çº¹ç†å¼ºåº¦çš„åº¦é‡ï¼Œå› æ­¤å¯ä»¥é€šè¿‡(å¹³æ–¹)æŒ¯å¹…æ¥åŠ æƒæ¯ä¸ªå±€éƒ¨ä¿¡å·ã€‚</p>
<p>å¯¹é½ï¼š</p>
<script type="math/tex; mode=display">
t_{i}=arg\max\limits_{t_{i}}\Phi_{0}(r_{0},\theta_{0},t)^{T}\Phi_{i}(r_{i},\theta_{i},t-t_{i})</script><p>å¾—åˆ°å…¨å±€è¿åŠ¨ä¿¡å·ï¼š</p>
<script type="math/tex; mode=display">
\hat{s}(t)=\sum\limits_{i}\Phi_{i}(r_{i},\theta_{i},t-t_{i})</script><p>å½’ä¸€åŒ–åˆ°[-1,1]çš„èŒƒå›´ã€‚</p>
<h3 id="Denoising"><a href="#Denoising" class="headerlink" title="Denoising"></a>Denoising</h3><p>ç›®æ ‡ï¼šæ”¹å–„å…¨å±€è¿åŠ¨ä¿¡å·çš„SNR</p>
<p>è§‚å¯Ÿåˆ°çš„ç°è±¡ï¼šä½é¢‘çš„é«˜èƒ½é‡å™ªå£°é€šå¸¸ä¸éŸ³é¢‘ä¸ä¸€è‡´</p>
<p>æ–¹æ³•ï¼šåº”ç”¨é«˜é€šButterworthæ»¤æ³¢å™¨ï¼ˆæˆªæ–­é¢‘ç‡ä¸º20-100Hzï¼‰</p>
<p>æ»¤é™¤åŠ æ€§å™ªå£°ï¼šç›®æ ‡æ˜¯accuracyï¼Œç”¨spectral subtractionï¼›ç›®æ ‡æ˜¯å¯ç†è§£æ€§ï¼Œç”¨æ„ŸçŸ¥é©±åŠ¨çš„è¯­éŸ³å¢å¼ºç®—æ³•ï¼ˆé€šè¿‡è®¡ç®—ä¸€ä¸ªè´å¶æ–¯æœ€ä¼˜ä¼°è®¡å»å™ªä¿¡å·çš„æˆæœ¬å‡½æ•°ï¼Œè€ƒè™‘åˆ°äººç±»å¯¹è¯­éŸ³çš„æ„ŸçŸ¥ï¼‰ã€‚æœ¬æ–‡çš„ç»“æœæ˜¯è‡ªåŠ¨ä½¿ç”¨äºŒè€…ä¹‹ä¸€çš„ç®—æ³•æ¥å»å™ªçš„ã€‚</p>
<p>æ¢å¤ä¿¡å·çš„ä¸åŒé¢‘ç‡å¯èƒ½ä¼šè¢«è®°å½•å¯¹è±¡ä¸åŒåœ°è°ƒåˆ¶ã€‚ç¬¬4.3èŠ‚å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨å·²çŸ¥æµ‹è¯•ä¿¡å·æ¥æè¿°ä¸€ä¸ªç‰©ä½“å¦‚ä½•è¡°å‡ä¸åŒé¢‘ç‡ï¼Œç„¶ååœ¨æ–°çš„è§†é¢‘ä¸­ä½¿ç”¨è¯¥ä¿¡æ¯æ¥å‡è¡¡ä»åŒä¸€ç‰©ä½“(æˆ–ç±»ä¼¼ç‰©ä½“)ä¸­æ¢å¤çš„æœªçŸ¥ä¿¡å·ã€‚</p>
<h2 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h2><p>ç¬¬ä¸€ç»„å®éªŒæµ‹è¯•äº†å¯ä»¥ä»ä¸åŒç‰©ä½“ä¸Šæ¢å¤çš„é¢‘ç‡èŒƒå›´ã€‚é€šè¿‡æ‰¬å£°å™¨æ’­æ”¾çº¿æ€§æ¸å˜é¢‘ç‡çš„å£°éŸ³ä¿¡å·ï¼Œç„¶åè§‚å¯Ÿå“ªäº›é¢‘ç‡å¯ä»¥é€šè¿‡æœ¬æ–‡æŠ€æœ¯æ¢å¤ã€‚ç¬¬äºŒç»„å®éªŒé›†ä¸­åœ¨ä»è§†é¢‘ä¸­æ¢å¤äººç±»è¯­è¨€ã€‚è¿™äº›å®éªŒä½¿ç”¨äº†æ¥è‡ªTIMITæ•°æ®é›†çš„å‡ ä¸ªæ ‡å‡†è¯­éŸ³ç¤ºä¾‹ï¼Œä»¥åŠé€šè¿‡æ‰¬å£°å™¨æ’­æ”¾çš„äººç±»å—è¯•è€…çš„ç°åœºè¯­éŸ³(æ‰¬å£°å™¨è¢«ä¸€ä¸ªä¼šè¯´è¯çš„äººæ›¿æ¢)ã€‚</p>
<h3 id="Sound-Recovery-from-Different-Objects-Materials"><a href="#Sound-Recovery-from-Different-Objects-Materials" class="headerlink" title="Sound Recovery from Different Objects/Materials"></a>Sound Recovery from Different Objects/Materials</h3><p><img src="/images/VisualSound/2.png" alt="2" style="zoom:67%;"></p>
<p>åœ¨å‡ ä¹æ‰€æœ‰çš„ç»“æœä¸­ï¼Œæ¢å¤çš„ä¿¡å·åœ¨è¾ƒé«˜çš„é¢‘ç‡ä¸­æ˜¯è¾ƒå¼±çš„ã€‚è¿™æ˜¯æ„æ–™ä¹‹ä¸­çš„ï¼Œå› ä¸ºæ›´é«˜çš„é¢‘ç‡äº§ç”Ÿæ›´å°çš„ä½ç§»ï¼Œå¹¶ä¸”è¢«å¤§å¤šæ•°ææ–™ä¸¥é‡è¡°å‡ã€‚ç„¶è€Œï¼Œè¾ƒé«˜é¢‘ç‡çš„åŠŸç‡ä¸‹é™ä¸æ˜¯å•è°ƒçš„ï¼Œå¯èƒ½æ˜¯ç”±äºæŒ¯åŠ¨æ¨¡å¼çš„åˆºæ¿€ã€‚æ¯«ä¸å¥‡æ€ªï¼Œè¾ƒè½»çš„ç‰©ä½“æ›´å®¹æ˜“ç§»åŠ¨ï¼Œæ¯”æƒ°æ€§çš„ç‰©ä½“æ›´å®¹æ˜“æ”¯æŒæ›´é«˜é¢‘ç‡çš„æ¢å¤ã€‚</p>
<h3 id="Speech-Recovery"><a href="#Speech-Recovery" class="headerlink" title="Speech Recovery"></a>Speech Recovery</h3><p>è¯„æµ‹æŒ‡æ ‡ï¼š</p>
<p>(1) è¯„æµ‹accuracyï¼š Segmental Signal-to-Noise Ratio (SSNR) éšæ—¶é—´çš„å¹³å‡å±€éƒ¨ä¿¡å™ªæ¯”;</p>
<p>(2) è¯„æµ‹intelligibilityï¼š perceptually-based metric</p>
<p>(3) è¯„æµ‹æ¢å¤è´¨é‡ï¼šLog Likelihood Ratio (LLR)ï¼Œè¯„æµ‹æ¢å¤ä¿¡å·çš„è°±å½¢çŠ¶ä¸åŸå§‹å¹²å‡€ä¿¡å·çš„è°±å½¢çŠ¶æœ‰å¤šæ¥è¿‘</p>
<p><img src="/images/VisualSound/3.png" alt="3"></p>
<p>æ›´é«˜çš„å¸§ç‡å¯¼è‡´æ›å…‰æ—¶é—´å‡å°‘ï¼Œå› æ­¤å›¾åƒå™ªå£°æ›´å¤šï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ20,000FPSç»“æœå›¾æ¯”2200Hzæ—¶çš„ç»“æœå™ªå£°æ›´å¤§</p>
<p><img src="/images/VisualSound/4.png" alt="4" style="zoom:75%;"></p>
<p>VMå’ŒLDVç»“æœç›¸è¿‘ï¼Œè€ŒLDVéœ€è¦ç§¯æç…§æ˜ï¼ˆå¿…é¡»åœ¨ç‰©ä½“ä¸Šç²˜ä¸Šä¸€æ¡ååå°„èƒ¶å¸¦ä»¥ä¾¿æ¿€å…‰ä»ç‰©ä½“ä¸Šåå°„å›æ¥å›åˆ°æŒ¯åŠ¨è®¡ä¸Šï¼‰</p>
<h3 id="Transfer-Functions-and-Equalization"><a href="#Transfer-Functions-and-Equalization" class="headerlink" title="Transfer Functions and Equalization"></a>Transfer Functions and Equalization</h3><p>å¯ä»¥ä½¿ç”¨ç¬¬4.1èŠ‚ä¸­çš„æ–œå¡ä¿¡å·æ¥è¡¨å¾ç‰©ä½“çš„(å¯è§†çš„)é¢‘ç‡å“åº”ï¼Œä»¥æé«˜ä»è¯¥ç‰©ä½“çš„æ–°è§‚æµ‹ä¸­æ¢å¤çš„ä¿¡å·è´¨é‡ã€‚ç†è®ºä¸Šã€‚å¦‚æœè®¤ä¸ºç‰©ä½“æ˜¯çº¿æ€§ç³»ç»Ÿ,å¯ä»¥ä½¿ç”¨ç»´çº³åå·ç§¯ä¼°è®¡ä¸è¯¥ç³»ç»Ÿç›¸å…³è”çš„å¤æ•°ä¼ é€’å‡½æ•°ï¼Œå¹¶ä¸”ä¼ é€’å‡½æ•°å¯ä»¥ç”¨æ¥ä»¥ä¸€ç§æœ€ä¼˜çš„æ–¹å¼(åœ¨å‡æ–¹è¯¯å·®æ„ä¹‰ä¸Šçš„)è§£å·ç§¯æ–°çš„è§‚æµ‹ä¿¡å·ã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­ï¼Œè¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“å—åˆ°å™ªå£°å’Œéçº¿æ€§artifactsçš„å½±å“ã€‚å› æ­¤ï¼Œæœ¬æ–‡æè¿°äº†ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œé¦–å…ˆä½¿ç”¨è®­ç»ƒå®ä¾‹ï¼ˆçº¿æ€§æ–œå¡ï¼‰çš„çŸ­æ—¶é—´å‚…é‡Œå¶å˜æ¢åœ¨ç²—å°ºåº¦ä¸Šè®¡ç®—é¢‘ç‡ä¼ é€’ç³»æ•°ï¼Œç„¶åä½¿ç”¨è¿™äº›ä¼ é€’ç³»æ•°ä½¿æ–°çš„è§‚æµ‹ä¿¡å·ç›¸ç­‰ã€‚</p>
<p>è½¬ç§»ç³»æ•°æ˜¯ä»ä¸€å¯¹è¾“å…¥/è¾“å‡ºçš„ä¿¡å·çš„çŸ­æ—¶åŠŸç‡è°±ä¸­æå–å‡ºæ¥çš„ã€‚æ¯ä¸ªç³»æ•°å¯¹åº”äºè§‚å¯Ÿåˆ°çš„è®­ç»ƒä¿¡å·çš„çŸ­æ—¶åŠŸç‡è°±çš„ä¸€ä¸ªé¢‘ç‡ï¼Œå¹¶ä½œä¸ºéšæ—¶é—´å˜åŒ–çš„é¢‘ç‡å¹…å€¼çš„åŠ æƒå¹³å‡è¢«è®¡ç®—ã€‚æ¯ä¸€æ—¶åˆ»çš„æƒå€¼ç”±å¯¹å‡†çš„è¾“å…¥è®­ç»ƒä¿¡å·çš„çŸ­æ—¶åŠŸç‡è°±ç»™å‡ºã€‚ç”±äºè¾“å…¥ä¿¡å·ä¸€æ¬¡åªåŒ…å«ä¸€ä¸ªé¢‘ç‡ï¼Œè¿™ä¸ªåŠ æƒæ–¹æ¡ˆå¿½ç•¥äº†å›¾2(b)ä¸­æ‰€ç¤ºçš„å€é¢‘ç­‰éçº¿æ€§artifactsã€‚</p>
<p>ä¸€æ—¦æœ‰äº†ä¼ è¾“ç³»æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒä»¬æ¥å¹³è¡¡æ–°çš„ä¿¡å·ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å°†å¢ç›Šåº”ç”¨äºæ–°ä¿¡å·çŸ­æ—¶åŠŸç‡è°±çš„é¢‘ç‡ä¸Šï¼Œç„¶ååœ¨æ—¶åŸŸé‡æ–°åˆæˆä¿¡å·ã€‚åº”ç”¨äºæ¯ä¸ªé¢‘ç‡çš„å¢ç›Šä¸å…¶ç›¸åº”çš„ä¼ é€’ç³»æ•°çš„å€’æ•°æˆæ­£æ¯”ï¼Œè¯¥ç³»æ•°ä¸Šå‡åˆ°æŸä¸ªæŒ‡æ•°kã€‚</p>
<p>è¡¨2æ˜¾ç¤ºäº†åº”ç”¨ä»è–¯ç‰‡è¢‹å¯¼å‡ºçš„å‡è¡¡å™¨åˆ°ä»åŒä¸€ç‰©ä½“æ¢å¤çš„è¯­éŸ³åºåˆ—çš„ç»“æœã€‚åœ¨æ²¡æœ‰å™ªå£°çš„æƒ…å†µä¸‹ï¼Œkè®¾ä¸º1ï¼Œä½†å¹¿è°±å™ªå£°å‹ç¼©äº†ä¼°è®¡çš„ä¼ é€’ç³»æ•°çš„èŒƒå›´ã€‚ä½¿ç”¨æ›´å¤§çš„kå¯ä»¥å¼¥è¡¥è¿™ä¸€ç‚¹ã€‚åœ¨å…¶ä¸­ä¸€ä¸ªå¥³æ€§è¯­éŸ³ç¤ºä¾‹ä¸Šæ‰‹åŠ¨è°ƒæ•´kå€¼ï¼Œç„¶åå°†å¾—åˆ°çš„å‡è¡¡å™¨åº”ç”¨äºæ‰€æœ‰å…­ä¸ªè¯­éŸ³ç¤ºä¾‹ã€‚ç”±äºè¿™ç§å‡è¡¡æ˜¯ä¸ºäº†æé«˜æ¢å¤ä¿¡å·çš„å¯ä¿¡åº¦è€Œä¸æ˜¯è¯­éŸ³çš„å¯ç†è§£æ€§ï¼Œå› æ­¤ä½¿ç”¨è°±å‡æ³•æ¥å»é™¤å™ªå£°ã€‚</p>
<p><img src="/images/VisualSound/5.png" alt="5" style="zoom:75%;"></p>
<p>æ³¨æ„ï¼Œæ ¡å‡†å’Œå‡è¡¡æ˜¯å¯é€‰çš„ã€‚ç‰¹åˆ«æ˜¯ï¼Œæœ¬æ–‡ä¸­é™¤è¡¨2ä¹‹å¤–çš„æ‰€æœ‰ç»“æœéƒ½å‡å®šä¸é¢„å…ˆçŸ¥é“è¢«è®°å½•ç‰©ä½“çš„é¢‘ç‡å“åº”ã€‚</p>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p><strong>Object response (A)</strong>: ç‰©ä½“ç›¸åº”å£°éŸ³å¹¶ç§»åŠ¨ï¼Œå°†ç©ºæ°”å‹åŠ›è½¬åŒ–ä¸ºè¡¨é¢ä½ç§»ã€‚</p>
<p><strong>Processing (B)</strong>: å°†å½•åˆ¶çš„è§†é¢‘è½¬æ¢æˆæ¢å¤çš„å£°éŸ³ã€‚</p>
<h3 id="Object-response-A"><a href="#Object-response-A" class="headerlink" title="Object response (A)"></a>Object response (A)</h3><p><img src="/images/VisualSound/6.png" alt="6"></p>
<p>å›¾7(b)ï¼š300Hzçº¯éŸ³æµ‹è¯•ï¼Œå¤§å¤šæ•°ç‰©ä½“çš„è¿åŠ¨åœ¨å£°å‹ï¼ˆéŸ³é‡ï¼‰ä¸Šè¿‘ä¼¼å‘ˆçº¿æ€§ã€‚ç»“è®ºï¼šAå¯å»ºæ¨¡ä¸ºLTIç³»ç»Ÿã€‚</p>
<p>å›¾7(c)ï¼šæ–œå¡ä¿¡å·ï¼ˆ20Hzåˆ°2200Hzï¼‰æµ‹è¯•ï¼Œå°†Aå»ºæ¨¡ä¸ºLTIç³»ç»Ÿï¼Œç”¨è¿™ä¸ªæ–œå¡ä¿¡å·æ¥æ¢å¤ç³»ç»Ÿçš„è„‰å†²å“åº”ã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨ç»´çº³åå·ç§¯ç”¨å·²çŸ¥çš„è¾“å…¥å¯¹è§‚å¯Ÿåˆ°çš„æ–œå¡ä¿¡å·(è¿™ä¸€æ¬¡æ˜¯ç”±LDVè®°å½•çš„)è¿›è¡Œåå·ç§¯æ¥å®ç°çš„ã€‚å›¾7 (c)æ˜¾ç¤ºäº†ä»æ¢å¤çš„è„‰å†²å“åº”ä¸­å¾—åˆ°çš„é¢‘ç‡å“åº”ã€‚ä»è¿™å¼ å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¤§å¤šæ•°ç‰©ä½“åœ¨ä½é¢‘ç‡çš„å“åº”æ¯”é«˜é¢‘ç‡çš„å“åº”æ›´å¼º(æ­£å¦‚é¢„æœŸçš„é‚£æ ·)ï¼Œä½†æ˜¯è¿™ç§è¶‹åŠ¿ä¸æ˜¯å•è°ƒçš„ã€‚</p>
<script type="math/tex; mode=display">
D_{mm}(\omega)\approx \boldsymbol{A}(\omega)S(\omega)</script><p>$\boldsymbol{A}(\omega)$: è½¬ç§»å‡½æ•°</p>
<p>$S(\omega)$: å£°è°±</p>
<p>$D_{mm}(\omega)$: è¿åŠ¨è°±</p>
<p><a href="http://people.csail.mit.edu/mrub/VisualMic/" target="_blank" rel="noopener">é¡¹ç›®ç½‘å€</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/04/20201204_CNNinFrequence2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Purple M. Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Stone's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2020/12/04/20201204_CNNinFrequence2/" class="post-title-link" itemprop="url">è®ºæ–‡é˜…è¯»ç¬”è®°(4)ï¼šCNNé¢‘åŸŸå­¦ä¹ (2)</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-04 11:50:09 / ä¿®æ”¹æ—¶é—´ï¼š13:23:42" itemprop="dateCreated datePublished" datetime="2020-12-04T11:50:09+08:00">2020-12-04</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Deep-Learning/" itemprop="url" rel="index"><span itemprop="name">Deep Learning</span></a></span>

                
                
              
            </span>
          

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
        
      
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2020/12/04/20201204_CNNinFrequence2/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2020/12/04/20201204_CNNinFrequence2/" itemprop="commentCount"></span></a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Faster-Neural-Networks-Straight-from-JPEG"><a href="#Faster-Neural-Networks-Straight-from-JPEG" class="headerlink" title="Faster Neural Networks Straight from JPEG"></a>Faster Neural Networks Straight from JPEG</h2><h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3><p>1ã€ç¼©çŸ­å›¾åƒè§£ç æ—¶é—´ã€‚å¤§éƒ¨åˆ†å›¾ç‰‡éƒ½æ˜¯é€šè¿‡JPEGæ ¼å¼è¿›è¡Œå­˜å‚¨ï¼ŒJPEGæ ¼å¼è½¬æ¢ä¸ºRGBéœ€è¦è§£ç ã€‚è€Œå¦‚æœé€šè¿‡é¢‘åŸŸå­¦ä¹ ï¼Œè§£ç æ—¶åªéœ€è¦ä»éœå¤«æ›¼ç¼–ç ä¸­è·å–DCTç³»æ•°å³å¯ï¼Œä¸éœ€è¦å®Œå…¨è§£ç å¾—åˆ°RGBå›¾åƒï¼›</p>
<p>2ã€è®©æ¨¡å‹æ›´é«˜æ•ˆã€‚CNNæ¨¡å‹çš„ä¼˜åŠ¿æ˜¯è¡¨è¾¾èƒ½åŠ›å¼ºï¼ˆå‚æ•°å¾ˆå¤šï¼‰ï¼Œæ‰€éœ€å…ˆéªŒå°‘ã€‚ä½†æ˜¯å…ˆéªŒå°‘ï¼Œæ‰€ä»¥éœ€è¦å¤§é‡å‚æ•°ï¼Œä½¿å¾—CNNæ¨¡å‹ä¸­å­˜åœ¨å¤§é‡å†—ä½™è®¡ç®—ã€‚é¢‘åŸŸå­¦ä¹ å…¶å®æ˜¯ä¸€ä¸ªå…ˆéªŒï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒå’Œè¯¥å…ˆéªŒä¸€è‡´ï¼Œé‚£ä¹ˆè¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œæ¨¡å‹å¯ä»¥æ›´ç®€å•ï¼Œæ‰€éœ€è¦çš„è®­ç»ƒæ•°æ®å¯ä»¥æ›´å°‘ã€‚</p>
<h3 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h3><p><img src="/images/CNNinFrequence/02_method.png" alt="02_method"></p>
<h3 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h3><p>åœ¨<strong>ImageNet</strong>ä¸Šå®éªŒã€‚ç›®æ ‡æ˜¯å‡†ç¡®ç‡é«˜ä¸”è¿è¡Œé€Ÿåº¦å¿«ã€‚</p>
<h4 id="Baseline"><a href="#Baseline" class="headerlink" title="Baseline"></a>Baseline</h4><p>Vanilla ResNet-50, è¾“å…¥ä¸ºRGBå›¾åƒã€‚Top-5é”™è¯¯ç‡7.4%å·¦å³ï¼Œé€Ÿåº¦200 image/sï¼š</p>
<p><img src="/images/CNNinFrequence/02_result1.png" alt="02_result1" style="zoom: 33%;"></p>
<p>ä»¥YCbCrä¸ºè¾“å…¥ï¼Œæ•ˆæœä¸RGBå·®ä¸å¤šã€‚æœŸæœ›çš„æ•ˆæœæ˜¯åœ¨å›¾ä¸­å¾€å³ä¸‹å‘å±•ï¼ˆå³ï¼šé€Ÿåº¦å¿«ï¼›ä¸‹ï¼šé”™è¯¯ç‡ä½ï¼‰ã€‚</p>
<p>å¸Œæœ›è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼š1ï¼‰shorter ResNet-50 (å‡å°‘ç½‘ç»œå±‚æ•°)ï¼›2ï¼‰thinner ResNet-50 (å‡å°‘æ¯å±‚çš„é€šé“æ•°)</p>
<p><img src="/images/CNNinFrequence/02_result2.png" alt="02_result2"></p>
<p>ç»“è®ºï¼šshorter ResNet-50ä¼˜äºthinner ResNet-50ã€‚æµ…ç°è‰²çš„â€œRemove N ID Blocksâ€çš„çº¿å½¢æˆäº†å¸•ç´¯æ‰˜å‰æ²¿(Pareto front)ï¼Œæ˜¾ç¤ºäº†â€œnon-dominatedâ€ç½‘ç»œçš„é›†åˆï¼Œæˆ–è€…æ˜¯é‚£äº›åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§ä¹‹é—´åšå‡ºæœ€ä½³æƒè¡¡çš„ç½‘ç»œã€‚</p>
<h4 id="Training-networks-on-DCT-inputs"><a href="#Training-networks-on-DCT-inputs" class="headerlink" title="Training networks on DCT inputs"></a>Training networks on DCT inputs</h4><hr>
<p><strong>é—®é¢˜1</strong>ï¼šé’ˆå¯¹ä¸åŒçš„è¾“å…¥å°ºå¯¸å¦‚ä½•å¤„ç†ï¼Ÿ</p>
<p>RGBå›¾åƒå¤§å°ï¼š(224, 224, 3)</p>
<p>DCTç³»æ•°ï¼š 1)  Y-(28, 28, 64)ï¼›</p>
<p>â€‹                    2)  Cb/Cr-(14, 14, 64)</p>
<p><strong>è§£å†³</strong>ï¼šåœ¨è¿›å…¥ç½‘ç»œä¹‹å‰combine Yå’ŒCbã€Cr</p>
<p><img src="/images/CNNinFrequence/02_net1.png" alt="02_net1" style="zoom:50%;"></p>
<hr>
<p><strong>1.    DCT Early Merge architectures</strong>ï¼š1ï¼‰ä¸‹é‡‡Yï¼ˆâ€œDownSamplingâ€ï¼‰ï¼›2ï¼‰ä¸Šé‡‡Cbã€Crï¼ˆâ€œUpSamplingâ€ï¼‰</p>
<p><img src="/images/CNNinFrequence/02_result3.png" alt="02_result3"></p>
<p>ç»“è®ºï¼š 1ï¼‰DownSamplingï¼šfast (450 image/s) but high errorï¼›</p>
<p>â€‹            2ï¼‰ UpSamplingï¼šslower but lower error; </p>
<hr>
<p><strong>é—®é¢˜2</strong>ï¼šUpSamplingçš„é”™è¯¯ç‡æ¯”baselineé«˜</p>
<p><strong>å¯èƒ½çš„åŸå› </strong>ï¼šæ„Ÿå—é‡è¿‡å¤§ã€‚ä¼ åˆ°baseline ResNet-50çš„ä¸­é—´å±‚æ—¶æ„Ÿå—é‡çº¦ä¸º70åƒç´ ï¼›è€ŒUpSamplingæ¨¡å‹çš„ç›¸åº”æ„Ÿå—é‡è¾¾åˆ°äº†110åƒç´ ã€‚è¿™æ˜¯å› ä¸ºDCTè¾“å…¥å±‚çš„[stride, receptive field]æ˜¯[8, 8]ï¼Œè€Œç»å…¸è¾“å…¥å±‚è¯¥å€¼ä¸º [1, 1]ã€‚ ç›´è§‚åœ°è¯´ï¼Œè¦æ±‚ç½‘ç»œå­¦ä¹ 110pxå®½çš„æ„Ÿå—é‡ï¼Œä½†æ²¡æœ‰ç»™å®ƒè¶³å¤Ÿçš„å±‚æˆ–è®¡ç®—èƒ½åŠ›æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<p><strong>è§£å†³</strong>ï¼šåˆ›é€ äº†ä¸€ä¸ªReceptive Field Aware (RFA) æ¨¡å‹â†’UpSampling-RFAã€‚åšæ³•æ˜¯ç»™ç¥ç»ç½‘ç»œçš„å‰å±‚å¢åŠ é¢å¤–çš„æ­¥é•¿1æ¨¡å—ã€‚æ­¤æ—¶é€å±‚çš„æ„Ÿå—é‡å¢é•¿å˜å¾—æ›´å¹³æ»‘ï¼Œè¿‘ä¼¼ä¸baseline ResNet-50ç›¸åŒ¹é…ã€‚</p>
<p>å¦‚æœUpSamplingé€šè¿‡å¯å­¦åå·ç§¯è€Œéåƒç´ å¤åˆ¶å¾—åˆ°ï¼Œåˆ™é”™è¯¯ç‡å¯ä»¥è¿›ä¸€æ­¥é™ä½ï¼Œè¾¾åˆ°ç›®å‰ä¸ºæ­¢æœ€å¥½çš„æ¨¡å‹ï¼šDeconvolution-RFAï¼ˆé”™è¯¯ç‡6.98%ï¼›åŠ é€Ÿ1.29å€ï¼‰ã€‚</p>
<hr>
<p>æ•ˆæœï¼šæ²¿ç€DCT Early Mergeçº¿çš„å…¶ä»–æ¨¡å‹ç°åœ¨å½¢æˆäº†æ–°çš„å¸•ç´¯æ‰˜å‰æ²¿ï¼Œåœ¨è¯¯å·®å’Œé€Ÿåº¦çš„æƒè¡¡æ–¹é¢è¶…è¶Šäº†ä»¥å‰çš„æ¨¡å‹ã€‚</p>
<p><strong>2.    DCT Late Merge architectures</strong></p>
<p>å®éªŒå‘ç°å…è®¸äº®åº¦åˆ†æ”¯å¤šå±‚è®¡ç®—æ‰èƒ½è·å¾—è¾ƒé«˜çš„å‡†ç¡®ç‡ï¼Œè€Œè‰²åº¦è·¯å¾„å¯ä»¥åœ¨è¾ƒå°‘çš„è®¡ç®—å±‚æ•°ä¸‹ä¸æŸå®³å‡†ç¡®ç‡ã€‚æ¢å¥è¯è¯´ï¼Œ1) å°†Yé€šé“æ”¾åˆ°ç½‘ç»œçš„å‰é¢ï¼Œè€ŒCb/Crä¿¡æ¯åœ¨ä¸­é€”æ³¨å…¥ï¼Œå…¶æ•ˆæœä¸ 2) ä»å‰é¢å¼€å§‹å…¨éƒ¨ä¸‰ä¸ªé€šé“çš„è¿ç®— ä¸€æ ·å¥½ï¼Œè€Œæ–¹æ³•1)èŠ‚çœäº†è®¡ç®—ã€‚</p>
<p><img src="/images/CNNinFrequence/02_result4.png" alt="02_result4" style="zoom: 50%;"></p>
<p>Late-Concat-RFAï¼šreceptive field aware versionï¼›</p>
<p>Late-Concat-RFA-Thinnerï¼šé€šè¿‡ä½¿ç”¨æ›´å°‘è¿‡æ»¤å™¨è€Œè°ƒæ•´é€Ÿåº¦çš„ç‰ˆæœ¬ã€‚åŠ é€Ÿ1.77å€ï¼Œé”™è¯¯ç‡ç›¸è¿‘ã€‚</p>
<p>ç»“è®ºï¼šå¸•ç´¯æ‰˜å‰æ²¿å†æ¬¡å‰ç§»ã€‚</p>
<h3 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h3><p>æœ‰è¶£çš„æ˜¯ï¼Œé¢œè‰²ä¿¡æ¯åœ¨ç½‘ç»œåæœŸï¼ˆå½“å®ƒä¸ä»äº®åº¦ä¸­å­¦åˆ°çš„æ›´é«˜å±‚æ¬¡çš„æ¦‚å¿µç›¸ç»“åˆæ—¶ï¼‰æ‰è¢«éœ€è¦ã€‚åœ¨è¿™ä¸€ç‚¹ä¸ŠçŒœæµ‹å¯èƒ½æ˜¯å­¦ä¹ ä¸­çº§æ¦‚å¿µï¼ˆä¾‹å¦‚:è‰æˆ–ç‹—æ¯›ï¼‰éœ€è¦åœ¨å…¶ä¸ç©ºé—´ä¸Šä¸é‚£ä¹ˆç²¾ç¡®çš„é¢œè‰²ä¿¡æ¯ï¼ˆä¾‹å¦‚:ç»¿è‰²æˆ–æ£•è‰²ï¼‰ç»“åˆä¹‹å‰ï¼Œç²¾ç»†çš„äº®åº¦è¾¹ç¼˜è¿›è¡Œäº†å¥½å‡ å±‚å¤„ç†å˜æˆçº¹ç†ã€‚å¯ä»¥ä»ResNet-50ä»RGBåƒç´ å­¦ä¹ åˆ°çš„æ›´é«˜é¢‘ç‡çš„é»‘ç™½è¾¹ç¼˜å’Œæ›´ä½é¢‘ç‡ï¼ˆæˆ–å¸¸æ•°ï¼‰çš„é¢œè‰²æ£€æµ‹å™¨ä¸­é¢„æœŸè¿™ä¸ªç»“æœã€‚</p>
<p><img src="/images/CNNinFrequence/02_result5.png" alt="02_result5"></p>
<p>è®¸å¤šè¾¹ç¼˜æ£€æµ‹å™¨åŸºæœ¬ä¸Šéƒ½æ˜¯é»‘ç™½çš„ï¼Œåœ¨äº®åº¦ç©ºé—´ä¸­æ“ä½œã€‚è®¸å¤šé¢œè‰²ç‰¹å¾è¦ä¹ˆåœ¨ç©ºé—´ä¸Šæ˜¯æ’å®šçš„ï¼Œè¦ä¹ˆåœ¨é¢‘ç‡ä¸Šæ˜¯è¾ƒä½çš„ï¼Œå®ƒä»¬å¯èƒ½åªæ˜¯ç”¨æ¥å°†ç²—ç•¥çš„é¢œè‰²ä¿¡æ¯ä¼ é€’ç»™éœ€è¦å®ƒçš„æ›´é«˜å±‚æ¬¡ã€‚æˆ‘ä»¬ä»2012å¹´å°±çœ‹åˆ°è¿‡è¿™æ ·çš„æ»¤æ³¢å™¨;æˆ‘ä»¬æ˜¯å¦åº”è¯¥æœŸæœ›ç›´åˆ°ç½‘ç»œåæœŸæ‰éœ€è¦é¢œè‰²?</p>
<p><strong>é€Ÿåº¦ä¸å‡†ç¡®ç‡</strong>ï¼šé€Ÿåº¦çš„æå‡æ˜¯ç”±äºè¾“å…¥å±‚å’Œåç»­å±‚ä¸Šçš„æ•°æ®é‡è¾ƒå°ã€‚å‡†ç¡®ç‡æå‡çš„ä¸»è¦åŸå› æ˜¯ DCT è¡¨ç¤ºçš„å…·ä½“ä½¿ç”¨ï¼Œç»“æœå¯¹å›¾åƒåˆ†ç±»éå¸¸æœ‰æ•ˆã€‚åªéœ€å°† ResNet-50 çš„ç¬¬ä¸€ä¸ªå·ç§¯å±‚æ›¿æ¢ä¸ºstrideä¸º 8 çš„DCT å˜æ¢ï¼Œå³å¯è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚å®ƒç”šè‡³æ¯”å®Œå…¨ç›¸åŒå½¢çŠ¶çš„å­¦ä¹ å¾—åˆ°çš„å˜æ¢ï¼ˆlearned transformï¼‰æ•ˆæœæ›´å¥½ã€‚ä½¿ç”¨æ›´å¤§çš„æ„Ÿå—é‡å’Œstrideï¼ˆ8ï¼‰è¡¨ç°æ›´å¥½ï¼Œè€Œç¡¬ç¼–ç ç¬¬ä¸€å±‚æ¯”å­¦ä¹ å¾—åˆ°ç¬¬ä¸€å±‚æ•ˆæœæ›´å¥½ã€‚æ®‹å·®ç½‘ç»œåœ¨ 2015 å¹´å¾—åˆ° ImageNet ä¸Šæœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œåªéœ€ç”¨DCT æ›¿æ¢ç¬¬ä¸€å±‚ï¼Œå°±ä¼šè¿›ä¸€æ­¥æé«˜SOTAã€‚</p>
<p><a href="https://zhuanlan.zhihu.com/p/115584408" target="_blank" rel="noopener">CNNé¢‘åŸŸå­¦ä¹ åšå®¢è®²è§£</a></p>
<p><a href="https://papers.nips.cc/paper/2018/file/7af6266cc52234b5aa339b16695f7fc4-Paper.pdf" target="_blank" rel="noopener">Faster Neural Networks Straight from JPEG</a></p>
<p><a href="https://eng.uber.com/neural-networks-jpeg/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">Faster Neural Networks Straight from JPEG åšå®¢è®²è§£</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot; aria-label&#x3D;&quot;ä¸‹ä¸€é¡µ&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.gif"
      alt="Purple M. Stone">
  <p class="site-author-name" itemprop="name">Purple M. Stone</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/%20%7C%7C%20archive">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/%20%7C%7C%20th">
          
        
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/%20%7C%7C%20tags">
          
        
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
        </a>
      </div>
    
  </nav>
  <div class="feed-link motion-element">
    <a href="/atom.xml" rel="alternate">
      <i class="fa fa-rss"></i>RSS
    </a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Purple M. Stone</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v4.2.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.4.0</div>

        
<div class="busuanzi-count">
  <script pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
  
    <span class="post-meta-divider">|</span>
  
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
  
</div>












        
      </div>
    </footer>
  </div>

  


    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  <script src="/lib/pjax/pjax.min.js?v=0.2.8"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>

<script src="/js/utils.js?v=7.4.0.js"></script>

<script src="/js/motion.js?v=7.4.0.js"></script>


<script src="/js/schemes/pisces.js?v=7.4.0.js"></script>


<script src="/js/next-boot.js?v=7.4.0.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var id = element.id || '';
    var src = element.src || '';
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (id !=='') {
      script.id = element.id;
    }
    if (src !== '') {
      script.src = src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  








  
<script src="/js/local-search.js?v=7.4.0.js"></script>














    <div id="pjax">

  

  
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
<script type="text/x-mathjax-config">
    MathJax.Ajax.config.path['mhchem'] = '//cdn.jsdelivr.net/npm/mathjax-mhchem@3';

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        extensions: ['[mhchem]/mhchem.js'],
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: false,
    appId: 'XO7jV64HUREvBgMx83twoC5O-gzGzoHsz',
    appKey: 'Amg1FlPL6AX41b0bO42NfhcO',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn',
    path: location.pathname
  });
}, window.Valine);
</script>

    </div>
</body>
</html>

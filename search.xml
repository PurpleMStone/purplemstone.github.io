<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(9)--Python Standard Library]]></title>
    <url>%2F2021%2F05%2F12%2F20210512_Python009%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Paths]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(8)--Modules]]></title>
    <url>%2F2021%2F05%2F12%2F20210512_Python008%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ 1234567# sales.pydef calc_tax(): passdef calc_shipping(): pass 12345# app.pyfrom sales import calc_shipping, calc_taxcalc_shipping()calc_tax() æˆ–ï¼š 1234import salessales.calc_shipping()sales.calc_tax() Compiled Python Filesç¼–è¯‘åŽåœ¨__pycache__ç”Ÿæˆ sales.cpython-39.pyc æ–‡ä»¶ï¼Œå¦‚æžœsales.pyæœªä½œæ›´æ”¹ï¼Œåˆ™æ­¤æ–‡ä»¶ç›´æŽ¥ç”¨ï¼ˆç›¸å½“äºŽç¼“å­˜ï¼‰ï¼Œå¯ä»¥åŠ å¿«ç¨‹åºæ‰§è¡Œã€‚å¦‚æžœsales.pyæ”¹äº†ï¼Œåˆ™è¦é‡æ–°ç”Ÿæˆæ­¤æ–‡ä»¶ã€‚ Module Search Path123import sysprint(sys.path) 1['e:\\Stone\\Python\\HelloWorld', 'D:\\Python39\\python39.zip', 'D:\\Python39\\DLLs', 'D:\\Python39\\lib', 'D:\\Python39', 'C:\\Users\\11405\\AppData\\Roaming\\Python\\Python39\\site-packages', 'D:\\Python39\\lib\\site-packages'] Packagespackage å¯¹åº”äºŽæ–‡ä»¶å¤¹ï¼›module å¯¹åº”äºŽæ–‡ä»¶ æ¯”å¦‚åœ¨ app.py æ‰€åœ¨ç›®å½•ä¸‹æœ‰ä¸ª ecommerce æ–‡ä»¶å¤¹ï¼Œecommerce æ–‡ä»¶å¤¹å†…æœ‰å¤šä¸ªæ–‡ä»¶ï¼ŒåŒ…æ‹¬ sales.pyï¼Œå‡å¦‚æ”¹æ–‡ä»¶å¤¹å†…æœ‰æ–‡ä»¶__init__.pyï¼Œåˆ™ python ä¼šå°†æ­¤æ–‡ä»¶å¤¹è§†ä¸º package. é‚£ä¹ˆå¯ä»¥è¿™æ ·ç”¨ï¼š 12345# app.pyfrom ecommerce import salessales.calc_tax()sales.calc_shipping() Sub-packagesecommerce æ–‡ä»¶å¤¹å†…æœ‰ shopping æ–‡ä»¶å¤¹, shopping æ–‡ä»¶å¤¹å†…æœ‰æ–‡ä»¶__init__.py å’Œ sales.pyï¼Œåˆ™ï¼š 12# app.pyfrom ecommerce.shopping import sales Intra-package References123456 ecommerce -------------- shopping | / \ customer __init__.py sales.py | \ | \ __init__.py contact.py 12345# sales.pyfrom ecommerce.customer import contactfrom ..customer import contact # ..è¡¨ç¤ºçˆ¶ç›®å½•contact.contact_customer() The dir() Function1234# app.pyfrom ecommerce.shopping import salesprint(dir(sales)) è¾“å‡ºsalesçš„å„ç§æ–¹æ³•ï¼š 1['__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'calc_shipping', 'calc_tax', 'contact'] æ¯”å¦‚ï¼š 123456# app.pyfrom ecommerce.shopping import salesprint(sales.__name__)print(sales.__package__)print(sales.__file__) è¾“å‡ºï¼š 123ecommerce.shopping.salesecommerce.shoppinge:\Stone\Python\HelloWorld\ecommerce\shopping\sales.py Executing Modules as Scripts12345678910# ecommerce/shopping/sales.pyprint("Sales initialized", __name__)def calc_tax(): passdef calc_shipping(): pass 12# ecommerce/__init__.pyprint("Ecommerce initialized") 12# app.pyfrom ecommerce.shopping import sales æ‰§è¡Œ app.pyï¼Œè¾“å‡ºï¼š 12Ecommerce initializedSales initialized ecommerce.shopping.sales å¦‚æžœæ‰§è¡Œsales.py, è¾“å‡ºï¼š 1Sales initialized __main__ å¯è§__name__å¯¹äºŽä¸åŒpyæ–‡ä»¶æ˜¯ä¸åŒçš„ã€‚ å¦‚æžœåŠ ä¸Šï¼š 12if __name__ == "__main__": # bla bla bla åˆ™åªåœ¨å½“å‰pyæ–‡ä»¶è¿è¡Œæ—¶æ‰§è¡Œè¿™äº› # blablabla çš„codeã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(7)--Classes]]></title>
    <url>%2F2021%2F05%2F11%2F20210511_Python007%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ ðŸ‘‰ Class: blueprint for creating new objects â€” Human ðŸ‘‰ Object: instance of a class â€” John, Mary, Jack Creating Classes123456789class Point: def draw(self): print("draw")point = Point()print(type(point))print(isinstance(point, Point)) # åˆ¤æ–­pointæ˜¯ä¸æ˜¯Pointçš„å®žä¾‹ è¾“å‡ºç»“æžœï¼š 12&lt;class '__main__.Point'&gt;True Constructors123456789101112class Point: def __init__(self, x, y): # Constructor self.x = x self.y = y def draw(self): print(f"Point (&#123;self.x&#125;, &#123;self.y&#125;)")point = Point(1, 2)print(point.x)point.draw() self æŒ‡å‘å½“å‰ working çš„ object, æ¯”å¦‚ draw ä¸éœ€è¦æ˜¾å¼å†™ point.draw(point), ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å½“å‰çš„ object point ä½œä¸º draw() çš„å‚æ•°ã€‚ è¾“å‡ºï¼š 121Point (1, 2) Class vs Instance Attributes123456789101112131415161718192021class Point: default_color = "red" # class attribute def __init__(self, x, y): self.x = x # object/instance attribute self.y = y def draw(self): print(f"Point (&#123;self.x&#125;, &#123;self.y&#125;)")point = Point(1, 2)point.draw() # xå’Œyæ˜¯object attributeï¼Œæ¯ä¸ªobjectä¸åŒanother = Point(3, 4)another.draw()Point.default_color = "yellow" # ç›´æŽ¥ç”¨ç±»è°ƒç”¨æ›´æ”¹ã€‚ç±»ä¸­æ‰€æœ‰å®žä¾‹å…±äº«print(point.default_color)print(Point.default_color)print(another.default_color) è¾“å‡ºï¼š 12345Point (1, 2)Point (3, 4)yellowyellowyellow Class vs Instance Methods123456789101112131415class Point: def __init__(self, x, y): self.x = x self.y = y @classmethod def zero(cls): # clsæŒ‡å‘è¿™ä¸ªclassæœ¬èº« return cls(0, 0) # Point(0, 0) def draw(self): print(f"Point (&#123;self.x&#125;, &#123;self.y&#125;)")point = Point.zero() # å·¥åŽ‚æ–¹æ³•:å°†å¤æ‚çš„å¯¹è±¡æž„é€ (æ¯”å¦‚å¤šç§åˆå§‹å€¼)äº¤ç»™ç±»æ–¹æ³•åŽ»å®Œæˆpoint.draw() # è¾“å‡º Point (0, 0) Magic Methodsç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨Magic Methodsã€‚ guide book 123456789101112class Point: def __init__(self, x, y): self.x = x self.y = y def draw(self): print(f"Point (&#123;self.x&#125;, &#123;self.y&#125;)")point = Point(1, 2)print(point)print(str(point)) è¾“å‡ºï¼š 12&lt;__main__.Point object at 0x0000020E4C1A6FD0&gt;&lt;__main__.Point object at 0x0000020E4C1A6FD0&gt; è‡ªå®šä¹‰magic function __str__ï¼š 123456789101112131415class Point: def __init__(self, x, y): self.x = x self.y = y def __str__(self): return f"(&#123;self.x&#125;, &#123;self.y&#125;)" def draw(self): print(f"Point (&#123;self.x&#125;, &#123;self.y&#125;)")point = Point(1, 2)print(point)print(str(point)) è¾“å‡ºï¼š 12(1, 2)(1, 2) Comparing Objects123456789class Point: def __init__(self, x, y): self.x = x self.y = ypoint = Point(1, 2)other = Point(1, 2)print(point == other) è¾“å‡ºï¼šFalseã€‚å› ä¸ºè¿™æ ·æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªreferenceï¼Œæ˜¯ä¸åŒçš„ã€‚ æ–¹æ³•ï¼šé‡å®šä¹‰magic functions 12345678910111213141516class Point: def __init__(self, x, y): self.x = x self.y = y def __eq__(self, other): return self.x == other.x and self.y == other.y def __gt__(self, other): return self.x &gt; other.x and self.y &gt; other.ypoint = Point(10, 20)other = Point(1, 2)print(point == other)print(point &gt; other) è¿™æ—¶å°±æ˜¯æ¯”è¾ƒä¸¤ä¸ª object çš„ x å’Œ y çš„å€¼äº† Supporting Arithmetic Operations12345678910111213class Point: def __init__(self, x, y): self.x = x self.y = y def __add__(self, other): return Point(self.x + other.x, self.y + other.y)point = Point(10, 20)other = Point(1, 2)combined = point + otherprint(f"Point (&#123;combined.x&#125;, &#123;combined.y&#125;)") è¾“å‡ºï¼š 1Point (11, 22) Creating Custom Containers12345678910111213141516171819202122232425262728293031class TagCloud: def __init__(self): self.tags = &#123;&#125; def add(self, tag): self.tags[tag.lower()] = self.tags.get(tag.lower(), 0) + 1 def __getitem__(self, tag): return self.tags.get(tag.lower(), 0) def __setitem__(self, tag, count): self.tags[tag.lower()] = count def __len__(self): return len(self.tags) def __iter__(self): # make it iterable return iter(self.tags)cloud = TagCloud()cloud.add("Python")cloud.add("python")cloud.add("python")print(cloud.tags)print(cloud["python"]) # __getitem__å®žçŽ°cloud["java"] = 10 # __setitem__å®žçŽ°print(cloud.tags)print(len(cloud)) # __len__å®žçŽ° è¾“å‡ºï¼š 1234&#123;'python': 3&#125;3&#123;'python': 3, 'java': 10&#125;2 Private Memberså°†å…‰æ ‡æ”¾åˆ° tags é‚£ï¼ŒF2ï¼Œæ”¹æˆ__tagsï¼Œå›žè½¦ï¼Œæ‰€æœ‰åœ°æ–¹éƒ½æ”¹æˆ__tagsäº†ï¼Œè¿™å°±æ˜¯ private member 123456789class TagCloud: def __init__(self): self.__tags = &#123;&#125;cloud = TagCloud()print(cloud.__dict__)print(cloud._TagCloud__tags)print(cloud.__tags) è¾“å‡ºï¼š 123456&#123;'_TagCloud__tags': &#123;&#125;&#125;&#123;&#125;Traceback (most recent call last): File "e:\HelloWorld\app.py", line 24, in &lt;module&gt; print(cloud.__tags)AttributeError: 'TagCloud' object has no attribute '__tags' ä¸èƒ½ç›´æŽ¥ç”¨åå­—è°ƒç”¨ï¼Œä½†æ˜¯å®žé™…ä¸Špythonçš„ private memberè¿˜æ˜¯å¤–éƒ¨å¯è§çš„ï¼Œç”¨__dict__å°±èƒ½æŸ¥çœ‹åˆ°ï¼Œç”¨é‚£ä¸ªåå­—â€™_TagCloud__tagsâ€™ä¹Ÿè¿˜èƒ½è®¿é—®åˆ°ã€‚ PropertiesJava é£Žæ ¼çš„ getter å’Œ setterï¼Œä¸ pythonic: 1234567891011121314class Product: def __init__(self, price): self.set_price(price) def get_price(self): return self.__price def set_price(self, value): if value &lt; 0: raise ValueError("Price cannot be negative.") self.__price = valueproduct = Product(-50) pythonic codingï¼š 12345678910111213141516171819class Product: def __init__(self, price): self.price = price @property def price(self): return self.__price @price.setter def price(self, value): if value &lt; 0: raise ValueError("Price cannot be negative.") self.__price = value # price = property(get_price, set_price)product = Product(-10)print(product.price) å¦‚æžœå°†setteråˆ æŽ‰ï¼Œprice å°±æ˜¯åªè¯»çš„ã€‚ Inheritance1234567891011121314151617181920212223class Animal: def __init__(self): self.age = 1 def eat(self): print("eat")# Animal: Parent, Base# Mammal: Child, Subclass Mammal(Animal): def walk(self): print("walk")class Fish(Animal): def swim(self): print("swim")m = Mammal()m.eat()print(m.age) è¾“å‡ºï¼š 12eat1 The Object Classæ‰€æœ‰ class éƒ½ç»§æ‰¿äºŽ object ç±» 123456789101112131415161718192021class Animal: def __init__(self): self.age = 1 def eat(self): print("eat")# Animal: Parent, Base# Mammal: Child, Subclass Mammal(Animal): def walk(self): print("walk")m = Mammal()print(isinstance(m, Animal)) # Trueprint(isinstance(m, Mammal)) # Trueprint(isinstance(m, object)) # True print(issubclass(Mammal, Animal)) # Trueprint(issubclass(Mammal, object)) # True Method Overriding123456789101112131415161718192021222324class Animal: def __init__(self): print("Animal Constructor") self.age = 1 def eat(self): print("eat")# Animal: Parent, Base# Mammal: Child, Subclass Mammal(Animal): def __init__(self): super().__init__() # è°ƒç”¨çˆ¶ç±»çš„__init__(),å¦åˆ™ä¼šè¢«å­ç±»çš„è¦†ç›–æŽ‰è€Œä¸æ‰§è¡Œ print("Mammal Constructor") self.weight = 2 def walk(self): print("walk")m = Mammal()print(m.age)print(m.weight) è¾“å‡ºï¼š 1234Animal ConstructorMammal Constructor12 Multi-level InheritanceAbuse inheritance: â€‹ Employee - Person - LivingCreature - Thing make software complex Multiple InheritanceAbuse case: 12345678910111213141516class Employee: def greet(self): print("Employee Greet")class Person: def greet(self): print("Person Greet")class Manager(Employee, Person): passmanager = Manager()manager.greet() å°† class Manager(Employee, Person) ä¸­çš„çˆ¶ç±»æ¢ä¸ªé¡ºåºå°±æœ‰å®Œå…¨ä¸åŒçš„è¾“å‡ºï¼š (Employee, Person) è¾“å‡ºï¼š Employee Greet (Person, Employee) è¾“å‡ºï¼š Person Greet Good Example 123456789101112class Flyer: def fly(self): passclass Swimmer: def swim(self): passclass FlyingFish(Flyer, Swimmer): pass å­ç±»çš„ä¸¤ä¸ªçˆ¶ç±»åº”è¯¥æ˜¯æ²¡æœ‰ä»€ä¹ˆå…±åŒç‚¹çš„ï¼Œè€Œå­ç±»å…¼å…·ä¸¤ä¸ªçˆ¶ç±»çš„methodã€‚ A Good Example of Inheritance123456789101112131415161718192021222324252627class InvalidOperationError(Exception): passclass Stream: def __init__(self): self.opened = False def open(self): if self.opened: raise InvalidOperationError("Stream is already opened.") self.opened = True def close(self): if not self.opened: raise InvalidOperationError("Stream is already closed.") self.opened = Falseclass FileStream(Stream): def read(self): print("Reading data from a file.")class NetworkStream(Stream): def read(self): print("Reading data from a network.") Abstract Base Classes12345678910111213141516171819202122232425262728293031323334353637383940414243from abc import ABC, abstractmethodclass InvalidOperationError(Exception): passclass Stream(ABC): # ç»§æ‰¿è‡ªABC(æŠ½è±¡ç±»ç®€å†™) def __init__(self): self.opened = False def open(self): if self.opened: raise InvalidOperationError("Stream is already opened.") self.opened = True def close(self): if not self.opened: raise InvalidOperationError("Stream is already closed.") self.opened = False @abstractmethod def read(self): # æŠ½è±¡æ–¹æ³• passclass FileStream(Stream): def read(self): print("Reading data from a file.")class NetworkStream(Stream): def read(self): print("Reading data from a network.")class MemoryStream(Stream): def read(self): print("Reading data from the memory.")stream = MemoryStream()stream.read() ðŸ‘‰ Stream ä¸èƒ½åˆ›å»ºå®žä¾‹ ðŸ‘‰ Stream çš„å­ç±»å¿…é¡»å®žçŽ° read() ,æˆ–è€…ä¹Ÿæ˜¯æŠ½è±¡ç±» PolymorphismMany Forms 123456789101112131415161718192021222324252627from abc import ABC, abstractmethodclass UIControl(ABC): @abstractmethod def draw(self): passclass TextBox(UIControl): def draw(self): print("TextBox")class DropDownList(UIControl): def draw(self): print("DropDownList")def draw(controls): # åœ¨run-timeæ‰çŸ¥é“controlå…·ä½“æ˜¯ä»€ä¹ˆ for control in controls: control.draw()ddl = DropDownList()textbox = TextBox()draw([ddl, textbox]) # å¤šç§å¯¹è±¡å®žçŽ°ä¸€ç§æ–¹æ³• è¾“å‡ºï¼š 12DropDownListTextBox Duck TypingIf it walks and quacks like a duck, it is a duck. ä¸Šä¾‹ä¸­å¹¶ä¸éœ€è¦æŠ½è±¡ç±»UIControlã€‚åªè¦ç±»ä¸­å®žçŽ°äº†draw()æ–¹æ³•ï¼Œpythonå°±è®¤ä¸ºæ˜¯ä¸ªUIControlï¼Œå°±èƒ½æ‰§è¡Œdraw(controls)æ–¹æ³•ã€‚ 123456789101112131415161718192021from abc import ABC, abstractmethodclass TextBox: def draw(self): print("TextBox")class DropDownList: def draw(self): print("DropDownList")def draw(controls): for control in controls: control.draw()ddl = DropDownList()textbox = TextBox()draw([ddl, textbox]) Extending Built-in TypesDemo 1: æ‰©å±•strç±» 12345678class Text(str): def duplicate(self): return self + selftext = Text("Python")print(text.duplicate()) # æœ¬ç±»æ–¹æ³•print(text.lower()) # çˆ¶ç±»æ–¹æ³• è¾“å‡º: PythonPython python Demo 2: æ‰©å±•listç±» 12345678class TrackableList(list): def append(self, object): print("Append called") super().append(object) # è°ƒç”¨çˆ¶ç±»æ–¹æ³•list = TrackableList()list.append("1") è¾“å‡º: Append called Data Classeså¯¹äºŽä¸€ä¸ªåªæœ‰dataè€Œæ²¡æœ‰æ–¹æ³•çš„ç±»ï¼š 123456789101112class Point: def __init__(self, x, y): self.x = x self.y = y def __eq__(self, other) -&gt; bool: return self.x == other.x and self.y == other.yp1 = Point(1, 2)p2 = Point(1, 2)print(p1 == p2) å¯ä»¥ç”¨ namedtuple make code cleaner: 12345678910from collections import namedtuplePoint = namedtuple("Point", ["x", "y"])p1 = Point(x=1, y=2) # must be keyword argumentsp2 = Point(x=1, y=2)print(p1 == p2) # Trueprint(p1.x) # åƒç±»ä¸€æ ·è°ƒç”¨ï¼š1p1.x = 10 # AttributeError: can't set attribute åªèƒ½æ–°å»ºä¸€ä¸ªnamedtupleï¼Œç”¨p1æŒ‡å‘ï¼š 1p1 = Point(x=10, y=2)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(6)--Exceptions]]></title>
    <url>%2F2021%2F05%2F11%2F20210511_Python006%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Handling Exceptions12345678910try: age = int(input("Age: "))except ValueError as ex: print("You didn't enter a valid age.") print(ex) # è¾“å‡ºé”™è¯¯ä¿¡æ¯ print(type(ex)) # æ˜¾ç¤ºé”™è¯¯ç±»åž‹else: # æ²¡æœ‰exceptionå°±æ‰§è¡Œè¿™ä¸€å— print("No exceptions were thrown.")print("Execution continues.") è¿è¡Œç»“æžœï¼š 1234567891011&gt;python app.pyAge: 10No exceptions were thrown.Execution continues.&gt;python app.pyAge: aYou didn't enter a valid age.invalid literal for int() with base 10: 'a' &lt;class 'ValueError'&gt;Execution continues. Handling Different Exceptions1234567try: age = int(input("Age: ")) xfactor = 10 / ageexcept (ValueError, ZeroDivisionError): # å¤šç§exceptionä¹‹ä¸€å³æ‰§è¡Œ print("You didn't enter a valid age.")else: print("No exceptions were thrown.") è¾“å‡ºç»“æžœï¼š 123&gt; python app.pyAge: 0You didn't enter a valid age. Cleaning Up12345678910try: file = open("app.py") age = int(input("Age: ")) xfactor = 10 / ageexcept (ValueError, ZeroDivisionError): print("You didn't enter a valid age.")else: print("No exceptions were thrown.")finally: file.close() æ— è®ºæœ‰æ²¡æœ‰å‡ºçŽ°exceptionï¼Œéƒ½è¦é‡Šæ”¾èµ„æºï¼Œé‚£å°±æ”¾åœ¨finallyå—é‡Œï¼Œæ— è®ºæœ‰æ²¡æœ‰exceptionéƒ½ä¼šæ‰§è¡Œçš„ã€‚ The With Statementä½¿ç”¨withè¯­å¥æ‰“å¼€æ–‡ä»¶ï¼ŒéšåŽä¼šè‡ªåŠ¨é‡Šæ”¾æŽ‰ï¼Œå°±ä¸ç”¨file.close()äº†ï¼š 12with open("app.py") as file: print("File opened.") fileæœ‰__enter__å’Œ__exit__ä¸¤ä¸ªmagic functionï¼Œæœ€åŽä¼šè‡ªåŠ¨è°ƒç”¨__exit__ï¼Œæ‰€ä»¥ä¸ç”¨æ‰‹åŠ¨é‡Šæ”¾ã€‚ Raising Exceptions12345678910def calculate_xfactor(age): if age &lt;= 0: raise ValueError("Age cannot be 0 or less.") return 10 / agetry: calculate_xfactor(-1)except ValueError as error: print(error) Cost of Raising ExceptionsMosh ä¸å»ºè®®raise exceptionsï¼Œå› ä¸ºä»£ä»·æœ‰ç‚¹å¤§ã€‚ 1234567891011121314151617181920212223242526272829from timeit import timeitcode1 = """def calculate_xfactor(age): if age &lt;= 0: raise ValueError("Age cannot be 0 or less.") return 10 / agetry: calculate_xfactor(-1)except ValueError as error: pass"""code2 = """def calculate_xfactor(age): if age &lt;= 0: return None return 10 / agexfactor = calculate_xfactor(-1)if xfactor == None: pass"""print("first code=", timeit(code1, number=10000))print("second code=", timeit(code2, number=10000)) è¾“å‡ºç»“æžœï¼š 12first code= 0.0040202000000000016second code= 0.0015166999999999958 å¯ä»¥çœ‹åˆ°raise exceptionçš„ç”¨æ—¶æ˜¯æ™®é€šæ–¹æ³•çš„ä¸¤å€å¤šã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(5)--Data Structures]]></title>
    <url>%2F2021%2F05%2F09%2F20210509_Python005%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ List12345678letters = ["a", "b", "c"]matrix = [[0, 1], [2, 3]]zeros = [0] * 5 # [0,0,0,0,0]combined = zeros + letters # [0, 0, 0, 0, 0, 'a', 'b', 'c']numbers = list(range(20))chars = list("Hello World") # ['H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd']print(len(chars)) # 11 Demo 1 1234567letters = ["a", "b", "c", "d"]print(letters[0])print(letters[-1])letters[0] = "A"print(letters)print(letters[:3])print(letters[::2]) 12345ad['A', 'b', 'c', 'd']['A', 'b', 'c']['A', 'c'] Demo 2 1234numbers = list(range(10))print(numbers)print(numbers[::2])print(numbers[::-1]) # å€’åºè¾“å‡º è¾“å‡ºç»“æžœï¼š 123[0, 1, 2, 3, 4, 5, 6, 7, 8, 9][0, 2, 4, 6, 8][9, 8, 7, 6, 5, 4, 3, 2, 1, 0] Unpacking ListsDemo 1 123numbers = [1, 2, 3]first, second, third = numbers # first=1, second=2, third=3first, second, _ = numbers Demo 2 1234numbers2 = [1, 2, 3, 4, 4, 4, 4, 4, 4]first, second, *other = numbers2print(first) # 1print(other) # [3, 4, 4, 4, 4, 4, 4] ä¸Žæ­¤åŒç†ï¼š 123456789def multiply(*numbers): total = 1 for number in numbers: total *= number return totalprint(multiply(2, 3, 4, 5))print(multiply(4, 5, 6, 2, 5)) Another demo: 1234numbers2 = [1, 2, 3, 4, 4, 4, 4, 4, 9]first, *other, last = numbers2print(first, last) # 1 9print(other) # [2, 3, 4, 4, 4, 4, 4] è¾“å‡ºï¼š 12&#123;&#39;id&#39;: 1, &#39;name&#39;: &#39;John&#39;, &#39;age&#39;: 22&#125;John Looping over Lists123letters = ["a", "b", "c"]for letter in enumerate(letters): print(letter) è¾“å‡ºç»“æžœï¼š 123(0, 'a')(1, 'b')(2, 'c') unpacking tuple: 123letters = ["a", "b", "c"]for index, letter in enumerate(letters): print(index, letter) è¾“å‡ºç»“æžœï¼š 1230 a1 b2 c Adding/Removing Items12345678910111213141516171819letters = ["a", "b", "c", "d", "e"]# Addletters.append("f") # åœ¨æœ«å°¾åŠ å…¥letters.insert(0, "-") # åœ¨é¦–éƒ¨åŠ å…¥print(letters)# Removeletters.pop() # åˆ é™¤æœ€åŽä¸€ä¸ªå…ƒç´ print(letters) letters.remove("b") # åˆ é™¤ç‰¹å®šå…ƒç´ print(letters)del letters[0:3] # åˆ é™¤å¤šä¸ªå…ƒç´ print(letters)letters.clear() # æ¸…é™¤æ‰€æœ‰å…ƒç´ print(letters) è¾“å‡ºç»“æžœï¼š 12345[&#39;-&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;][&#39;-&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;][&#39;-&#39;, &#39;a&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;][&#39;d&#39;, &#39;e&#39;][] Finding Items1234letters = ["a", "b", "c"]print(letters.count("d")) # 0if "c" in letters: print(letters.index("c")) # 2 Sorting ListsDemo 1 123numbers = [3, 51, 2, 8, 6]numbers.sort(reverse=True) # å€’åºprint(numbers) è¾“å‡ºç»“æžœï¼š 1[51, 8, 6, 3, 2] Demo 2 built-in function: ä¸æ”¹å˜åŽŸæ•°ç»„ 123numbers = [3, 51, 2, 8, 6]print(sorted(numbers, reverse=True))print(numbers) è¾“å‡ºç»“æžœï¼š 12[51, 8, 6, 3, 2][3, 51, 2, 8, 6] Demo 3 12345678910111213items = [ ("product1", 10), ("product2", 9), ("product3", 12),]def sort_item(item): return item[1]items.sort(key=sort_item)print(items) è¾“å‡ºç»“æžœï¼š 1[('product2', 9), ('product1', 10), ('product3', 12)] Lambdasæ”¹é€ ä¸Šè¿°çš„ä¾‹å­(Demo 3)ï¼š 123456789items = [ ("product1", 10), ("product2", 9), ("product3", 12),]items.sort(key=lambda item: item[1])print(items) è¯­æ³•ï¼š 1lambda parameters:expression Map Function12345678910111213141516items = [ ("product1", 10), ("product2", 9), ("product3", 12),]# prices = []# for item in items:# prices.append(item[1])# print(prices)# A better wayprices = list(map(lambda item: item[1], items))print(prices) è¾“å‡ºï¼š 1[10, 9, 12] Filter Function12345678items = [ ("product1", 10), ("product2", 9), ("product3", 12),]filtered = list(filter(lambda item: item[1] &gt;= 10, items))print(filtered) è¾“å‡ºç»“æžœï¼š 1[(&#39;product1&#39;, 10), (&#39;product3&#39;, 12)] List Comprehension1[expression for item in items] æ”¹é€ ä¸Šé¢çš„ map function å’Œ filter function: 123prices = [item[1] for item in items]filtered = [item for item in items if item[1] &gt;= 10] Zip Function1234list1 = [1, 2, 3]list2 = [10, 20, 30]print(list(zip("abc", list1, list2))) è¾“å‡ºç»“æžœï¼š 1[(&#39;a&#39;, 1, 10), (&#39;b&#39;, 2, 20), (&#39;c&#39;, 3, 30)] StacksLIFO: Last In - First Out 123456browsing_session = []browsing_session.append(1) # åŽ‹æ ˆbrowsing_session.append(2)if not not browsing_session: print(browsing_session.pop()) # å‡ºæ ˆ QueuesFIFO: First In - First Out 1234567891011from collections import dequequeue = deque([])queue.append(1) # å…¥é˜Ÿqueue.append(2) queue.append(3)queue.popleft() # å‡ºé˜Ÿprint(queue)if not queue: # æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º print("Empty") Tuples12345# éƒ½æ˜¯tupleï¼špoint = 1, 2# point = 1,# point = ()print(type(point)) Demo 12345678910111213141516171819point = (1, 2) + (3, 4)print(point) # (1, 2, 3, 4)point = (1, 2) * 3print(point) # (1, 2, 1, 2, 1, 2)point = tuple([1, 2])print(point) # (1, 2)point = tuple("hello")print(point) # ('h', 'e', 'l', 'l', 'o')point = (1, 2, 3)print(point[0:2]) # (1, 2)x, y, z = pointif 10 in point: print("exists") Swapping Variables1234567x = 10y = 11z = xx = yy = zprint(x, y) # 11 10 simpler way: 12x, y = y, xprint(x, y) å®žé™…ä¸Šæ˜¯å…ˆå®šä¹‰äº†ä¸€ä¸ªtupleï¼Œç„¶åŽç»™x, yèµ‹å€¼ï¼Œå³ x, y = (11, 10) Arrays12345678from array import arraynumbers = array("i", [1, 2, 3])# numbers[0] = 1.0 # TypeError: integer argument expected, got floatlist1 = [1.0, 1, 2, 3]print(type(list1[0])) # &lt;class 'float'&gt;print(type(list1[1])) # &lt;class 'int'&gt; arrays å¯ä»¥è°ƒç”¨ append, pop, index ç­‰ä¸Ž lists ç›¸åŒçš„ built-in functionï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ç§æ•°æ®ç±»åž‹ï¼ˆç”±å‚æ•° typecode å¦‚ â€iâ€œ æŒ‡å®šï¼‰ è€Œä¸€ä¸ª list é‡Œé¢å¯ä»¥æœ‰å¤šç§æ•°æ®ç±»åž‹ï¼š 123list1 = [1.0, 1, 2, 3]list1.append("hello")print(list1) # [1.0, 1, 2, 3, 'hello'] Setsä¸€ä¸ª set å†…ä¸èƒ½æœ‰é‡å¤é¡¹ 123numbers = [1, 1, 2, 3, 4]first = set(numbers)print(first) # &#123;1, 2, 3, 4&#125; 1234567second = &#123;1, 4&#125;second.add(5)print(second) # &#123;1, 4, 5&#125;second.remove(5)len(second) print(second) # &#123;1, 4&#125; Demo 123456789numbers = [1, 1, 2, 3, 4]first = set(numbers)second = &#123;1, 5&#125;print(first | second) # åœ¨firstæˆ–åœ¨secondprint(first &amp; second) # åœ¨firstä¹Ÿåœ¨secondprint(first - second) # åœ¨firstä¸åœ¨secondprint(first ^ second) # åœ¨firstæˆ–åœ¨secondä½†ä¸åŒæ—¶åœ¨ä¸¤ä¸ªset è¾“å‡ºç»“æžœï¼š 1234&#123;1, 2, 3, 4, 5&#125;&#123;1&#125;&#123;2, 3, 4&#125;&#123;2, 3, 4, 5&#125; setæ˜¯æ— åºçš„ï¼Œä¸èƒ½ç”¨indexï¼Œå¦‚first[0]æ˜¯ä¸åˆæ³•çš„ 12if 1 in first: # åˆ¤æ–­seté‡Œæ˜¯å¦æœ‰æŸå…ƒç´  print("yes") Dictionaryåˆ›å»º 123# Two ways to create a dictionarypoint = &#123;"x": 1, "y": 2&#125;point = dict(x=1, y=2) å¢žæ”¹ 1234point["x"] = 10 # modify elementprint(point) # &#123;'x': 10, 'y': 2&#125;point["z"] = 20 # create new elementprint(point) # &#123;'x': 10, 'y': 2, 'z': 20&#125; èŽ·å– 12print(point.get("a")) # Noneprint(point.get("a", 0)) # 0 (è‹¥æ²¡æœ‰æŒ‡å®šçš„key,åˆ™è¿”å›žæŒ‡å®šå€¼0) åˆ é™¤ 12del point["x"] # åˆ é™¤å…ƒç´ print(point) # &#123;'y': 2, 'z': 20&#125; for loop 12345678for key in point: print(key, point[key])for item in point.items(): # è¿”å›žtuple print(item)for key, value in point.items(): print(key, value) è¿”å›žï¼š 123456y 2z 20('y', 2)('z', 20)y 2z 20 Dictionary Comprehensions12345# values = []# for x in range(5):# values.append(x * 2)values = [x * 2 for x in range(5)] # ä½œç”¨åŒä¸Š setã€dictionary çš„ï¼š 12345values = &#123;x * 2 for x in range(5)&#125;print(values) # &#123;0, 2, 4, 6, 8&#125;values = &#123;x: x * 2 for x in range(5)&#125;print(values) # &#123;0: 0, 1: 2, 2: 4, 3: 6, 4: 8&#125; Generatorsç”¨äºŽæœ‰å¤§é‡ï¼ˆæ— é™ï¼‰å…ƒç´ ï¼Œè¦èŠ‚çœå†…å­˜ç©ºé—´çš„æƒ…å½¢ 1234567from sys import getsizeofvalues = (x * 2 for x in range(100000)) # generatorprint("gen:", getsizeof(values))values = [x * 2 for x in range(100000)] # listprint("list:", getsizeof(values)) è¾“å‡ºï¼š 12gen: 112list: 800984 å¯¹äºŽ generator object, æ— è®ºæœ‰å¤šå°‘å…ƒç´ ï¼Œéƒ½åªå 112çš„ä½ç½®ï¼ˆå°±ç®—åªæœ‰ä¸€ä¸ªå…ƒç´ ä¹Ÿæ˜¯ï¼‰ã€‚generator object åœ¨è¿­ä»£æ—¶æ‰ç”Ÿæˆå…ƒç´ ï¼Œè€Œä¸æ˜¯å°†æ‰€æœ‰çš„å…ƒç´ éƒ½å­˜åœ¨å†…å­˜ä¸­ã€‚ Unpacking OperatorDemo 1 123numbers = [1, 2, 3]print(numbers) # [1, 2, 3]print(*numbers) # 1 2 3 numbers æ˜¯ä¸€ä¸ªlist, è€Œ *numbers æ˜¯ unpack ä¹‹åŽçš„3ä¸ªç‹¬ç«‹çš„æ•° Demo 2 123values = list(range(5))values = [*range(5), *"Hello"] print(values) # [0, 1, 2, 3, 4, 'H', 'e', 'l', 'l', 'o'] Demo 3 ç»„åˆä¸¤ä¸ªlistsï¼š 1234first = [1, 2]second = [3]values = [*first, "a", *second, *"Hello"]print(values) # [1, 2, 'a', 3, 'H', 'e', 'l', 'l', 'o'] Demo 4 ç»„åˆä¸¤ä¸ªå­—å…¸ï¼š 1234first = &#123;"x": 1&#125;second = &#123;"x": 10, "y": 2&#125;combined = &#123;**first, **second, "z": 1&#125;print(combined) # &#123;'x': 10, 'y': 2, 'z': 1&#125; ç›¸åŒ key å€¼çš„å…ƒç´  (â€œxâ€) å–æœ€åŽä¸€ä¸ªå…ƒç´ çš„ value (10) Exerciseå¾—å‡ºä¸€ä¸ªå¥å­ä¸­å‡ºçŽ°é¢‘çŽ‡æœ€é«˜çš„å­—æ¯ï¼š 123456789101112131415161718from pprint import pprintsentence = "This is a common interview question"char_frequency = &#123;&#125;for char in sentence: if char in char_frequency: char_frequency[char] += 1 else: char_frequency[char] = 1pprint(char_frequency, width=1) # ä¸€è¡Œåªæ‰“å°ä¸€ä¸ªchar_frequency_sorted = sorted( char_frequency.items(), key=lambda kv: kv[1], reverse=True)print(char_frequency_sorted[0]) è¾“å‡ºï¼š 123456789101112131415161718&#123;' ': 5, 'T': 1, 'a': 1, 'c': 1, 'e': 3, 'h': 1, 'i': 5, 'm': 2, 'n': 3, 'o': 3, 'q': 1, 'r': 1, 's': 3, 't': 2, 'u': 1, 'v': 1, 'w': 1&#125;('i', 5) æˆ‘çš„æ”¹è¿›ï¼š 123456789101112#char_frequency = &#123;&#125;#for char in sentence:# if char in char_frequency:# char_frequency[char] += 1# else:# char_frequency[char] = 1# pprint(char_frequency, width=1) # ä¸€è¡Œåªæ‰“å°ä¸€ä¸ªchar_frequency = &#123;&#125;for char in sentence: char_frequency[char] = char_frequency.get(char, 0) + 1pprint(char_frequency, width=1)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(4)--Functions]]></title>
    <url>%2F2021%2F05%2F06%2F20210506_Python004%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Arguments1234567def greet(first_name, last_name): print(f"Hi &#123;first_name&#125; &#123;last_name&#125;") print("Welcome aboard")greet("Stone", "Purple")greet("Stephen", "Curry") Types of Functions12ðŸ‘‰ 1 - Perform a taskðŸ‘‰ 2 - Return a value 12345678910111213def greet(name): """ Type 1 function """ print(f"Hi &#123;name&#125;")def get_greeting(name): """ Type 2 function """ return f"Hi &#123;name&#125;"message = get_greeting("Stone")file = open("content.txt", "w")file.write(message) python return None by default. 1print(greet("Stone")) è¾“å‡ºç»“æžœï¼š 1None Types of ArgumentsKeyword Arguments123456def increment(number, by): return number + by# more readable: by=...print(increment(2, by=1)) Default Arguments12345def increment(number, by=1): return number + byprint(increment(2)) æ‰€æœ‰ optional arguments åº”è¯¥åœ¨æ—  default value çš„ argument åŽé¢ *argsè¾“å…¥å‚æ•°æ•°é‡å¯å˜(å­˜æˆä¸€ä¸ªtupleï¼Œä¸”iterable) 123456789def multiply(*numbers): total = 1 for number in numbers: total *= number return totalprint(multiply(2, 3, 4, 5))print(multiply(4, 5, 6, 2, 5)) è¾“å‡º 121201200 **argsæ‰“åŒ… keyword arguments æˆ dict ç»™å‡½æ•°ä½“è°ƒç”¨ 123456def save_user(**user): print(user) print(user["name"])save_user(id=1, name="John", age=22) è¾“å‡ºï¼š 12&#123;&#39;id&#39;: 1, &#39;name&#39;: &#39;John&#39;, &#39;age&#39;: 22&#125;John Scopeå±€éƒ¨å˜é‡å±€éƒ¨å¯è§ å…¨å±€å˜é‡å…¨å±€å¯è§ 123456789message = "a"def greet(name): message = "b"greet("Stone")print(message) è¾“å‡ºç»“æžœï¼š 1a å› ä¸º Python å°† greet å‡½æ•°å†…çš„ message è§†ä¸º local variableï¼Œå°½ç®¡å®ƒä¸Žå…¨å±€å˜é‡åŒåã€‚ Debugging12345ðŸ‘‰ F9 -- è®¾ç½®æ–­ç‚¹ðŸ‘‰ F5 -- å¼€å§‹è°ƒè¯•ðŸ‘‰ F10 -- ä¸‹ä¸€æ­¥ðŸ‘‰ F11 -- è¿›å…¥ function å†…å•æ­¥ debugðŸ‘‰ Shift+F11 -- é€€å‡º function å†…å•æ­¥ debug VSCode Tricks (Windows)12345678ðŸ‘‰ Home å…‰æ ‡ç§»åˆ°è¡Œé¦–ðŸ‘‰ End å…‰æ ‡ç§»åˆ°è¡Œå°¾ðŸ‘‰ Ctrl+Home å…‰æ ‡ç§»åˆ°æ–‡ä»¶å¤´ðŸ‘‰ Ctrl+End å…‰æ ‡ç§»åˆ°æ–‡ä»¶å°¾ðŸ‘‰ Ctrl+L é€‰æ‹©å½“å‰è¡ŒðŸ‘‰ Alt+â†‘orâ†“ ä»£ç ä¸Šç§»æˆ–ä¸‹ç§»ðŸ‘‰ Shift+Alt+â†“ é€‰ä¸­æŸï¼ˆå‡ ï¼‰è¡ŒåŽç”¨æ­¤ç»„åˆé”®å¤åˆ¶ç²˜è´´ðŸ‘‰ Ctrl+&#x2F; å¤šè¡Œæ³¨é‡Š]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(3)--Control Flow]]></title>
    <url>%2F2021%2F05%2F06%2F20210506_Python003%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Comparison Operators123456789101112&gt;&gt;&gt; 10 &gt; 3True&gt;&gt;&gt; 10 &gt;= 3True&gt;&gt;&gt; 10 &lt; 20True&gt;&gt;&gt; 10 == 10True&gt;&gt;&gt; 10 == "10" False&gt;&gt;&gt; 10 != "10" True 12345678&gt;&gt;&gt; "bag" &gt; "apple" True&gt;&gt;&gt; "bag" == "BAG" False&gt;&gt;&gt; ord("b") 98 &gt;&gt;&gt; ord("B") 66 Chaining Comparison Operators1234# age should be between 18 and 65age = 22if 18 &lt;= age &lt; 65: print("Eligible") Conditional Statements123456789101112temperature = 15if temperature &gt; 30: print("It is warm") print("Drink water")elif temperature &gt; 20: print("It's nice")else: print("It's cold") print("Done") Ternary Operator12345678910age = 2# if age &gt;= 18:# message = "Eligible"# else:# message = "Not eligible"message = "Eligible" if age &gt;= 18 else "Not eligible"print(message) Logical Operators12345678910# logical operators: and, or, nothigh_income = Truegood_credit = Falsestudent = Falseif (high_income or good_credit) and not student: print("Eligible")else: print("Not eligible") Short-circuit Evaluationå¤šæ¡ä»¶åˆ¤æ–­æ—¶ï¼š and å‰é¢çš„ expression ä¸º False, åˆ™ä¸å†(æ‰§è¡Œ)åˆ¤æ–­åŽé¢çš„expression or å‰é¢çš„ expression ä¸º True, åˆ™ä¸å†(æ‰§è¡Œ)åˆ¤æ–­åŽé¢çš„expression For Loops12for number in range(1, 10, 2): # step: 2 print("Attempt", number, number * ".") è¾“å‡ºï¼š 12345Attempt 1 .Attempt 3 ...Attempt 5 .....Attempt 7 .......Attempt 9 ......... Forâ€¦Else12345678successful = Falsefor number in range(3): print("Attempt") if successful: print("Successful") breakelse: print("Attempted 3 times and failed.") å¦‚æžœä¸€ç›´æ²¡æœ‰æ‰§è¡Œbreakï¼Œå°±æ‰§è¡Œä¸‹é¢çš„else è¾“å‡ºç»“æžœï¼š 1234AttemptAttemptAttemptAttempted 3 times and failed Nested Loops123for x in range(5): for y in range(3): print(f"(&#123;x&#125;, &#123;y&#125;)") è¾“å‡ºç»“æžœ 123456789101112131415(0, 0)(0, 1)(0, 2)(1, 0)(1, 1)(1, 2)(2, 0)(2, 1)(2, 2)(3, 0)(3, 1)(3, 2)(4, 0)(4, 1)(4, 2) Iterables123456# Iterable : range(), string, list...for x in "Python": print(x)for x in [1, 2, 3, 4]: print(x) è¾“å‡ºï¼š 12345678910Python1234 While Loops1234command = ""while command.lower() != "quit": command = input("&gt;") print("ECHO", command) è¾“å‡ºç»“æžœï¼š 123456&gt;2+2ECHO 2+2&gt;3*4 ECHO 3*4&gt;quit ECHO quit Infinite Loops12345while True: command = input("&gt;") print("ECHO", command) if command.lower() == "quit": break Exerciseç¼–å†™ä¸€æ®µcodeï¼Œè¾“å‡º1~10ä¹‹é—´ï¼ˆä¸å«10ï¼‰çš„å¶æ•°ï¼Œå¦‚ä¸‹ï¼š 123452468We have 4 even numbers]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(2)--åŸºæœ¬ç±»åž‹]]></title>
    <url>%2F2021%2F05%2F06%2F20210506_Python002%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Primitive Types1234students_count = 1000rating = 4.99is_published = False # case sensitive (åŒºåˆ†å¤§å°å†™)course_name = "Python Programming" String123456course_name = "Python Programming"message = """Hi JohnThis is Stone from Chinablablabla""" 12345678course_name = "Python Programming"print(len(course_name)) # 18print(course_name[0]) # Pprint(course_name[-1]) # gprint(course_name[0:3]) # Pytprint(course_name[0:]) # Python Programmingprint(course_name[:3]) # Pytprint(course_name[:]) # Python Programming Escape Sequencesè½¬ä¹‰å­—ç¬¦ 123course_name = "Python \"Programming"print(course_name) # Python "Programming# \" \' \\ \n Formatted Strings12345first = "Stone"last = "Purple"full = f"&#123;first&#125; &#123;last&#125;"print(full) # Stone Purpleprint(f"&#123;len(first)&#125; &#123;2 + 2&#125;") # 5 4 String Methods123456789course = " Python Programming"print(course.upper())print(course.lower())print(course.title())print(course.strip()) # lstrip, rstripprint(course.find("Pro"))print(course.replace("P", "J"))print("Pro" in course)print("swift" not in course) è¾“å‡ºç»“æžœï¼š 12345678 PYTHON PROGRAMMING python programming Python ProgrammingPython Programming9 Jython JrogrammingTrueTrue Numbers123456789101112x = 1x = 1.1x = 1 + 2j # complex number# + - * / % // **print(10 / 3) # 3.3333333333333335print(10 // 3) # 3print(10 ** 3) # 1000x = 10x = x + 3x += 3 Working with Numbers123456import mathprint(round(2.9)) # 3print(abs(-2.9)) # 2.9print(math.ceil(2.2)) # 3 Type Conversion1234x = input("x: ")print(type(x))y = int(x) + 1 # type conversionprint(f"x: &#123;x&#125;, y: &#123;y&#125;") 123x: 2&lt;class 'str'&gt;x: 2, y: 3 å¯¹äºŽbool(x)ï¼Œä¸º False çš„æƒ…å†µåªæœ‰ï¼šâ€œâ€ï¼Œ0ï¼ŒNone 1print(bool("")) # False QuizðŸ‘‰ What are the primitive types in Python? ðŸ‘‰ What are the results? 123fruit = "Apple"print(fruit[1])print(fruit[1:-1]) ðŸ‘‰ What are the results? 12print(10 % 3)print(bool("False"))]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Pythonè¯¾ç¨‹ç¬”è®°(1)--VSCodeçš„Pythonæ‰©å±•ä½¿ç”¨]]></title>
    <url>%2F2021%2F05%2F06%2F20210506_Python001%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ ä½¿ç”¨VSCodeï¼šç”¨ctrl+`è°ƒå‡ºterminal 1print("*" * 10) # print ********** (10 times) on the terminal Python Extensionåœ¨VSCodeä¸‹è½½pythonæ‰©å±• ðŸ‘‰ Linting: finding potential errors in our code ðŸ‘‰ Debugging ðŸ‘‰ Autocompletion: help us write code faster ðŸ‘‰ Code Formatting ðŸ‘‰ Unit Testing ðŸ‘‰ Code Snippets: reusable code blocks Lintingä¸‹è½½pylintï¼Œæ˜¾ç¤ºé”™è¯¯æç¤º ctrl+shift+Mï¼šè°ƒå‡ºproblemæ˜¾ç¤ºæ¡†ï¼Œå¯ä»¥æ˜¾ç¤ºæ‰€æœ‰é”™è¯¯å¤„ ctrl+shift+Pï¼šæœç´¢ Formatting CodePython Enhancement Proposals (PEPs) PEP 8 123#Examplex=1 #uglyx = 1 #PEP 8 suggests. ctrl+shift+P æœç´¢formatï¼Œé€‰æ‹© format documentï¼Œæç¤ºä¸‹è½½ï¼Œå°±ä¸‹è½½ ç„¶åŽåœ¨File &gt; Preference &gt; Setting æœç´¢ formatOnSave, å‹¾é€‰ã€‚ è¿™æ ·åœ¨save pythonæ–‡ä»¶çš„æ—¶å€™ï¼Œå°±è‡ªåŠ¨reformatäº†ã€‚ Running Python Codeä¸‹è½½code runner extension, ctrl+alt+n ç›´æŽ¥è¿è¡Œ Python ImplementationPythonæŒ‡ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œä½†æ˜¯pythonçš„å®žçŽ°æ˜¯ä¸€ä¸ªprogram 1234CPython C å®žçŽ°Jython Java å®žçŽ°IronPython C# å®žçŽ°PyPy Subset of Python æ¯”å¦‚ä½ æƒ³åœ¨ python ä¸­åŠ ä¸€äº› Java ä»£ç ï¼Œæœ€å¥½ç”¨ Jython è€Œä¸æ˜¯ CPython How Python Code Is ExecutedC â†’ C Compiler â†’ Machine Code â†’ Processor Machine Code å¯¹ Processor ç‰¹å®šï¼Œwindows æœºå™¨æ— æ³•è¯†åˆ« Macçš„ machine code. Java åˆ™å¯ä»¥åœ¨ä¸åŒçš„ platform è¿è¡Œç›¸åŒçš„codeï¼š Java â†’ Compiler â†’ Java Bytecode â†’ Java Virtual Machine â†’ Machine Code æ¯”å¦‚ Windows JVM â†’ Windows Machine Code Python é‡‡ç”¨äº†ç›¸åŒçš„æ–¹æ³•ï¼š Pythonâ†’ CPython â†’ Python Bytecode â†’ Python Virtual Machine â†’ Machine Code 12345 CPython â†’ Python Bytecode &#x2F;Python \ Jython â†’ Java Bytecode æ‰€ä»¥ç”¨ Jython å¯ä»¥åœ¨ python code ä¸­æ¤å…¥ä¸€äº› Java code. QuizðŸ‘‰ What is an expression? ðŸ‘‰ What is an syntax error? ðŸ‘‰ What does a linter do?]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>job notes-python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Gitè¯¾ç¨‹ç¬”è®°(6)--Rewriting History]]></title>
    <url>%2F2021%2F04%2F29%2F20210429_Git006%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Why Rewrite History?1234------ Bad History ------ðŸ‘‰ Poor commit messagesðŸ‘‰ Large commitsðŸ‘‰ Small commits æˆ‘ä»¬æƒ³è¦ clean historyï¼Œ çŸ¥é“æˆ‘ä»¬æ”¹äº†å•¥ 123456------------- Tools -------------ðŸ‘‰ Squash small, related commitsðŸ‘‰ Split large commitsðŸ‘‰ Reword commit messagesðŸ‘‰ Drop unwanted commitsðŸ‘‰ Modify commits The Golden Rule of Rewriting History1DON&#39;T REWRITE PUBLIC HISTORY! Example of a Bad History12345678910(master)$ git log --oneline --all --graph* 475ea30 (HEAD -&gt; master) .* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit 1234567817de14d åº”è¯¥æ˜¯Render restaurants on the map.(å°‘äº†ä¸€ä¸ªon)127cf78 Fix a typoæ˜¯ä¸€ä¸ªnoise of historyï¼Œåº”è¯¥åˆåˆ°17de14dåŽ»24f3009 ä¹Ÿåº”è¯¥åˆåˆ°17de14dåŽ»ï¼Œå½¢æˆä¸€ä¸ªå•ä¸€é€»è¾‘çš„commit175d394 åº”è¯¥åœ¨17de14dä¹‹å‰commitï¼Œæ²¡æœ‰referenceæ€Žä¹ˆä½¿ç”¨è¿™ä¸ªmapï¼Ÿdb94b15 noise of historyï¼Œæ‰”æŽ‰æˆ–è€…æ›´æ”¹æäº¤ä¿¡æ¯b0201fc åº”è¯¥åˆ†æˆä¸¤ä¸ªcommit688a4d0 åŒdb94b15475ea30 ä¸çŸ¥é“å¹²äº†å•¥ï¼Œæ‰”æŽ‰å§ Undoing Commitssoftï¼šç›¸å½“äºŽå›žåˆ°git commitä¹‹å‰çš„çŠ¶æ€â†’Removes the commit only mixedï¼šç›¸å½“äºŽå›žåˆ°git addä¹‹å‰çš„çŠ¶æ€ï¼Œå³è¿˜æ²¡æ”¾è¿›staging areaâ†’Unstages files hardï¼šæœ€åˆçš„èµ·ç‚¹ï¼Œå•¥éƒ½è¿˜æ²¡å¹²â†’Discards local changes 123456789101112(master)$ git reset --hard HEAD~1HEAD is now at 688a4d0 WIP(master)$ git log --oneline --all --graph* 688a4d0 (HEAD -&gt; master) WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit å¥½çš„ï¼Œæœ€è¿‘çš„commitå°±æ‰”æŽ‰äº†ï¼Œä»¿ä½›æ²¡æœ‰å­˜åœ¨è¿‡ã€‚ Reverting Commitså¦‚æžœcommitå·²ç»share with othersï¼Œå°±ä¸èƒ½ç›´æŽ¥resetäº†ï¼Œè€Œæ˜¯ç”¨revertï¼Œä¿ç•™logä¸­çš„è®°å½•ã€‚ å°†æœ€è¿‘çš„ä¸‰æ¡commitæ’¤é”€ï¼ˆååšï¼‰ï¼Œå…¶ä¸­ HEAD~3 æŒ‡çš„æ˜¯175d394ï¼Œæ˜¯ä¸å«åœ¨å†…çš„ï¼ˆæ˜¯ä¸ä¼šè¢«ååšçš„ï¼‰ï¼š 1234567(master)$ git revert HEAD~3..HEAD[master 12ad6f2] Revert "WIP" 1 file changed, 1 deletion(-)[master 83527ab] Revert "Update terms of service and Google Map SDK version." 1 file changed, 1 deletion(-)[master 667bde8] Revert "WIP" 1 file changed, 1 deletion(-) ä½†æ˜¯è¿™å°±æœ‰ä¸‰æ¡commit historyäº†ï¼Œä¸€ç‚¹éƒ½ä¸cleanï¼š 123456789101112(master)$ git log --oneline --all --graph* 667bde8 (HEAD -&gt; master) Revert "WIP"* 83527ab Revert "Update terms of service and Google Map SDK version."* 12ad6f2 Revert "WIP"* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit æ‰€ä»¥å¯ä»¥ä¸commitï¼Œååšçš„è®°å½•éƒ½åœ¨staging areaé‡Œï¼š 1234(master)$ git revert --no-commit HEAD~3..(master|REVERTING)$ git status -sM file1.txt ç”¨â€”continueæ¥ç»§ç»­ï¼Œå¹¶æ‰‹åŠ¨å°†commit messageæ”¹ä¸ºâ€Revert bad code.â€œï¼š 123(master|REVERTING)$ git revert --continue[master 5322dae] Revert bad code. 1 file changed, 3 deletions(-) è¿™æ ·å°±åªæœ‰ä¸€æ¡historyå•¦ï¼š 12345678910(master)$ git log --oneline --all --graph* 5322dae (HEAD -&gt; master) Revert bad code.* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit Recovering Lost Commitsä¸å°å¿ƒresetäº†HEADï¼š 12(master)$ git reset --hard HEAD~6HEAD is now at 127cf78 Fix a typo logéƒ½æ²¡äº†å’‹åŠžï¼š 1234(master)$ git log --oneline --all --graph* 127cf78 (HEAD -&gt; master) Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit å…¶å®žäººå®¶Gitç»™ä½ å­˜å¾—å¥½å¥½çš„å‘¢ï¼š 1234567891011121314151617181920(master)$ git reflog127cf78 (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to HEAD~65322dae HEAD@&#123;1&#125;: commit: Revert bad code.688a4d0 HEAD@&#123;2&#125;: reset: moving to HEAD~3667bde8 HEAD@&#123;3&#125;: revert: Revert "WIP"83527ab HEAD@&#123;4&#125;: revert: Revert "Update terms of service and Google Map SDK version."12ad6f2 HEAD@&#123;5&#125;: revert: Revert "WIP"688a4d0 HEAD@&#123;6&#125;: reset: moving to 688a4d0fd52d6e HEAD@&#123;7&#125;: revert: Revert "Update terms of service and Google Map SDK version."f2139a9 HEAD@&#123;8&#125;: revert: Revert "WIP"688a4d0 HEAD@&#123;9&#125;: reset: moving to HEAD~1475ea30 HEAD@&#123;10&#125;: commit: .688a4d0 HEAD@&#123;11&#125;: commit: WIPb0201fc HEAD@&#123;12&#125;: commit: Update terms of service and Google Map SDK version.db94b15 HEAD@&#123;13&#125;: commit: WIP175d394 HEAD@&#123;14&#125;: commit: Add a reference to Google Map SDK.24f3009 HEAD@&#123;15&#125;: commit: Change the color of restaurant icons.127cf78 (HEAD -&gt; master) HEAD@&#123;16&#125;: commit: Fix a typo17de14d HEAD@&#123;17&#125;: commit: Render restaurants the map.00315a1 HEAD@&#123;18&#125;: commit (initial): Initial commit ç”¨ commit ID æˆ–è€… entry ID éƒ½å¯ä»¥æ¢å¤ï¼ˆæ­¤å¤„ç”¨entry IDï¼‰ï¼š 12345678910111213(master)$ git reset --hard HEAD@&#123;1&#125;HEAD is now at 5322dae Revert bad code.(master)$ git log --oneline --all --graph* 5322dae (HEAD -&gt; master) Revert bad code.* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit å‡å¦‚æœ‰ä¸ªPointeræ˜¯featureï¼š 1$ git reflog show feature å¯ä»¥çœ‹åˆ°è¿™ä¸ªpointerçš„æ‰€æœ‰åŽ†å²ã€‚ Amending CommitAmending the Last Commitå‡å¦‚çŽ°åœ¨æœ‰ä¸ª commitï¼š 1234567(master)$ echo cafes &gt;&gt; file1.txt(master)$ git commit -am "Render cafes on the map"warning: LF will be replaced by CRLF in file1.txt.The file will have its original line endings in your working directory[master b4c943f] Render cafes on the map 1 file changed, 1 insertion(+) äº¤äº†ä¹‹åŽå‘çŽ°æˆ‘ä»¬ä¸æ˜¯æƒ³å†™ cafesï¼Œè€Œæ˜¯æƒ³å†™ blue cafes å•Šï¼Œä½†æ˜¯è¿™æ˜¯ä¸ªå°é”™ï¼Œèƒ½ä¸èƒ½å°ä¿®è¡¥ï¼Ÿå½“ç„¶å¯ä»¥ã€‚ å…ˆæ‰“å¼€ file1.txt ç¼–è¾‘ï¼Œç„¶åŽå­˜å…¥ staging areaï¼Œæœ€åŽä½¿ç”¨ â€”amend é€‰é¡¹ commitï¼Œcommit message ä¸å˜ï¼š 12345678(master)$ code file1.txt(master)$ git add .(master)$ git commit --amend[master a60e09a] Render cafes on the map Date: Fri Apr 30 14:38:19 2021 +0800 1 file changed, 1 insertion(+) å¯ä»¥çœ‹åˆ°è¿˜æ˜¯è¿™æ¡commitï¼Œä½†æ˜¯file1.txté‡Œçš„å†…å®¹å·²ç»æ”¹è¿‡æ¥äº†ï¼š 12345678910111213141516171819202122232425262728(master)$ git log --oneline --all --graph* a60e09a (HEAD -&gt; master) Render cafes on the map* 5322dae Revert bad code.* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit(master)$ git show HEADcommit a60e09a0bff95afbb3c83ca20591cec3c9afe638 (HEAD -&gt; master)Author: Stone &lt;masaike@qq.com&gt;Date: Fri Apr 30 14:38:19 2021 +0800 Render cafes on the mapdiff --git a/file1.txt b/file1.txtindex cb224a0..c44f4be 100644--- a/file1.txt+++ b/file1.txt@@ -3,3 +3,4 @@ restaurants fix a typo color-red ref-of-sdk+blue cafes //-------çœ‹è¿™é‡Œ----------- å‡å¦‚æ˜¯æƒ³å¢žåŠ ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè¿˜æ˜¯ä¸€æ ·çš„æ“ä½œï¼š 1234567891011121314151617181920212223(master)$ echo hello &gt; file2.txt(master)$ git add .warning: LF will be replaced by CRLF in file2.txt.The file will have its original line endings in your working directory(master)$ git commit --amend[master 5bbe8a7] Render cafes on the map Date: Fri Apr 30 14:38:19 2021 +0800 2 files changed, 2 insertions(+) create mode 100644 file2.txt(master)$ git log --oneline --all --graph* 5bbe8a7 (HEAD -&gt; master) Render cafes on the map* 5322dae Revert bad code.* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit çœ‹åˆ°åœ¨HEADæŒ‡å‘çš„commité‡Œï¼Œä¸ä»…æœ‰file1.txtçš„å†…å®¹ä¿®æ”¹ï¼Œè¿˜èƒ½çœ‹åˆ°æ–°å¢žäº†ä¸€ä¸ªfile2.txtçš„æ–‡ä»¶ï¼š 1234567891011121314151617181920212223(master)$ git show HEADcommit 5bbe8a7f4cabf9011ff28c32e97e0c4a79f10f8f (HEAD -&gt; master)Author: Stone &lt;masaike@qq.com&gt;Date: Fri Apr 30 14:38:19 2021 +0800 Render cafes on the mapdiff --git a/file1.txt b/file1.txtindex cb224a0..c44f4be 100644--- a/file1.txt+++ b/file1.txt@@ -3,3 +3,4 @@ restaurants fix a typo color-red ref-of-sdk+blue cafesdiff --git a/file2.txt b/file2.txtnew file mode 100644index 0000000..ce01362--- /dev/null+++ b/file2.txt@@ -0,0 +1 @@+hello å¦‚æžœè¿™ä¸ªfile2.txtæ˜¯ä¸å°å¿ƒåŠ ä¸ŠåŽ»çš„ï¼Œå…¶å®žä¸è¦ï¼Œå°±å…ˆå›žåˆ°å‰ä¸€ä¸ªçŠ¶æ€ï¼Œæ­¤æ—¶ä¿®æ”¹åœ¨æœ¬åœ°ç›®å½•ï¼Œä½†ä¸åœ¨staging areaï¼ˆç”¨git statusæŸ¥çœ‹æ˜¯çº¢è‰²çš„ï¼‰: 1234567(master)$ git reset --mixed HEAD~1Unstaged changes after reset:M file1.txt(master)$ git status -s M file1.txt?? file2.txt åˆ åŽ»untracked fileï¼Œå† add åˆ° staging areaï¼Œæœ€åŽcommitå°±è¡Œäº†ã€‚æ­¤æ—¶commitçš„å°±åªæœ‰file1.txtçš„å†…å®¹ä¿®æ”¹ï¼Œè€Œæ²¡æœ‰æ–°å¢žfile2.txtï¼š 12345678910111213141516171819202122232425262728293031323334353637(master)$ git clean -fdRemoving file2.txt(master)$ git add .(master)$ git commit -m "Render cafes on the map."[master e47642a] Render cafes on the map. 1 file changed, 1 insertion(+)(master)$ git log --oneline --all --graph* e47642a (HEAD -&gt; master) Render cafes on the map.* 5322dae Revert bad code.* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit(master)$ git show HEADcommit e47642a4cd59cfec5697d82acbbfa7372547823e (HEAD -&gt; master)Author: Stone &lt;masaike@qq.com&gt;Date: Fri Apr 30 14:42:11 2021 +0800 Render cafes on the map.diff --git a/file1.txt b/file1.txtindex cb224a0..c44f4be 100644--- a/file1.txt+++ b/file1.txt@@ -3,3 +3,4 @@ restaurants fix a typo color-red ref-of-sdk+blue cafes Amending an Ealier Commitéœ€è¦rebaseåˆ°æƒ³è¦ä¿®æ”¹çš„commitã€‚ REBASING REWRITES HISTORY. åŽŸå§‹çš„historyï¼š å‡å¦‚çŽ°åœ¨æƒ³ä¿®æ”¹commit Bï¼Œå°±å˜æˆB*äº†ã€‚è€Œhistoryæ˜¯ä¸å¯å˜çš„ï¼Œcommit Cä¸èƒ½ä»¥commit B*ä¸ºparent commitï¼Œåªèƒ½åˆ›å»ºä¸€ä¸ªä¸ŽCä¸€æ‘¸ä¸€æ ·çš„commit C*ï¼Œç„¶åŽä»¥commit B*ä¸ºparent commitï¼Œcommit DåŒç†ã€‚æ‰€ä»¥ï¼Œè™½ç„¶åªæœ‰Bè¦æ”¹ï¼Œä½†å®žé™…ä¸ŠCå’ŒDéƒ½è¦é‡æ–°åˆ›å»ºã€‚ æˆ‘ä»¬çŽ°åœ¨æƒ³ä¿®æ”¹commit IDä¸º 175d394 çš„commitï¼š 12345678910111213141516171819202122232425262728(master)$ git log --oneline --all --graph* e47642a (HEAD -&gt; master) Render cafes on the map.* 5322dae Revert bad code.* 688a4d0 WIP* b0201fc Update terms of service and Google Map SDK version.* db94b15 WIP* 175d394 Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit(master)$ git show 175d394commit 175d3944118590daf26ba25c46da4061c0ad641bAuthor: Stone &lt;1140525895@qq.com&gt;Date: Fri Apr 30 10:01:56 2021 +0800 Add a reference to Google Map SDK.diff --git a/file1.txt b/file1.txtindex 1cd7c63..cb224a0 100644--- a/file1.txt+++ b/file1.txt@@ -2,3 +2,4 @@ hello restaurants fix a typo color-red+ref-of-sdk //----------çœ‹è¿™é‡Œ-------------- é¦–å…ˆè¦rebaseåˆ°å®ƒçš„ä¸Šä¸€ä¸ªcommitï¼Œå³IDä¸º24f3009çš„commitï¼Œåœ¨å¼¹å‡ºçš„çª—å£æ”¹pickä¸ºeditï¼š 123456789(master)$ git rebase -i 24f3009Stopped at 175d394... Add a reference to Google Map SDK.You can amend the commit now, with git commit --amendOnce you are satisfied with your changes, run git rebase --continue æ‰€ä»¥ä¼šéœ€è¦ä½ editå®Œè¿™ä¸ªcommitç”¨â€”amendä¿®æ­£äº†å†continueã€‚ ä¿®æ”¹å†…å®¹æ˜¯å¢žåŠ ä¸€ä¸ªæ–‡ä»¶license.txtï¼š 123456789(master|REBASE 1/6)$ echo license &gt; license.txt(master|REBASE 1/6)$ git add .(master|REBASE 1/6)$ git commit --amend[detached HEAD 0eb205c] Add a reference to Google Map SDK. Date: Fri Apr 30 10:01:56 2021 +0800 2 files changed, 2 insertions(+) create mode 100644 license.txt å¯ä»¥çœ‹åˆ°åˆ†äº†æ”¯äº†ï¼š 12345678910111213(master|REBASE 1/6)$ git log --oneline --all --graph* 0eb205c (HEAD) Add a reference to Google Map SDK.| * e47642a (master) Render cafes on the map.| * 5322dae Revert bad code.| * 688a4d0 WIP| * b0201fc Update terms of service and Google Map SDK version.| * db94b15 WIP| * 175d394 Add a reference to Google Map SDK.|/* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit ç»§ç»­rebaseï¼ŒæŠŠåŽé¢çš„commitè°ƒæ•´å®Œæˆï¼ˆç®€å•çš„pickï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ä»Žä¿®æ”¹çš„é‚£æ¡commitå¼€å§‹ï¼ŒIDå…¨å˜äº†ï¼Œå°½ç®¡æ“ä½œä¸ºpickçš„commitå†…å®¹æœªå˜ï¼ˆå…¶å®žæ˜¯é‡æ–°åˆ›å»ºäº†è¿™äº›commitï¼‰ï¼š 1234567891011121314(master|REBASE 1/6)$ git rebase --continueSuccessfully rebased and updated refs/heads/master.(master)$ git log --oneline --all --graph* 0d35c4a (HEAD -&gt; master) Render cafes on the map.* 6f2b578 Revert bad code.* fce1354 WIP* a3f2e62 Update terms of service and Google Map SDK version.* e67e73d WIP* 0eb205c Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit æ£€æŸ¥ä¸€ä¸‹ï¼Œç¡®å®žä¿®æ”¹æˆåŠŸäº†ï¼š 1234567891011121314151617181920212223(master)$ git show 0eb205ccommit 0eb205cde3b4c6d852681d59d2821914f3a37a69Author: Stone &lt;1140525895@qq.com&gt;Date: Fri Apr 30 10:01:56 2021 +0800 Add a reference to Google Map SDK.diff --git a/file1.txt b/file1.txtindex 1cd7c63..cb224a0 100644--- a/file1.txt+++ b/file1.txt@@ -2,3 +2,4 @@ hello restaurants fix a typo color-red+ref-of-sdkdiff --git a/license.txt b/license.txt //----æ–°å¢žlicense.txt---new file mode 100644index 0000000..8da8489--- /dev/null+++ b/license.txt@@ -0,0 +1 @@+license Dropping a Commitæ¯”å¦‚æˆ‘ä»¬æƒ³åˆ æŽ‰ 6f2b578ï¼Œfce1354 å’Œ e67e73d çš„commitï¼š 1234567891011(master)$ git log --oneline --all --graph* 0d35c4a (HEAD -&gt; master) Render cafes on the map.* 6f2b578 Revert bad code. //-------------* fce1354 WIP //-------------* a3f2e62 Update terms of service and Google Map SDK version.* e67e73d WIP //-------------* 0eb205c Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit rebaseåˆ°0eb205cï¼Œåœ¨å¼¹å‡ºçš„çª—å£ç›´æŽ¥åˆ æŽ‰ç¬¬1ï¼Œ3ï¼Œ4è¡Œå°±è¡Œäº†ï¼š 123456789(master)$ git rebase -i 0eb205cerror: could not apply a3f2e62... Update terms of service and Google Map SDK version.Resolve all conflicts manually, mark them as resolved with"git add/rm &lt;conflicted_files&gt;", then run "git rebase --continue".You can instead skip this commit: run "git rebase --skip".To abort and get back to the state before "git rebase", run "git rebase --abort".Could not apply a3f2e62... Update terms of service and Google Map SDK version.Auto-merging file1.txtCONFLICT (content): Merge conflict in file1.txt æœ‰å†²çªå°±è§£å†³å†²çªï¼š 123456789101112131415161718192021222324252627(master|REBASE 1/2)$ git mergetoolMerging:file1.txtNormal merge conflict for 'file1.txt': &#123;local&#125;: modified file &#123;remote&#125;: modified file(master|REBASE 1/2)$ git rebase --continue[detached HEAD b153f53] Update terms of service and Google Map SDK version. 1 file changed, 1 insertion(+)error: could not apply 0d35c4a... Render cafes on the map.Resolve all conflicts manually, mark them as resolved with"git add/rm &lt;conflicted_files&gt;", then run "git rebase --continue".You can instead skip this commit: run "git rebase --skip".To abort and get back to the state before "git rebase", run "git rebase --abort".Could not apply 0d35c4a... Render cafes on the map.Auto-merging file1.txtCONFLICT (content): Merge conflict in file1.txt(master|REBASE 2/2)$ git mergetoolMerging:file1.txtNormal merge conflict for 'file1.txt': &#123;local&#125;: modified file &#123;remote&#125;: modified file å¥½äº†ï¼š 12345678910111213(master|REBASE 2/2)$ git rebase --continue[detached HEAD 3b55d73] Render cafes on the map. 1 file changed, 1 insertion(+), 1 deletion(-)Successfully rebased and updated refs/heads/master.(master)$ git log --oneline --all --graph* 3b55d73 (HEAD -&gt; master) Render cafes on the map.* b153f53 Update terms of service and Google Map SDK version.* 0eb205c Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit Rewording Commit Messagesæ¯”å¦‚è¦ä¿®æ”¹17de14då’Œb153f53çš„commit messageï¼š 12345678(master)$ git log --oneline --all --graph* 3b55d73 (HEAD -&gt; master) Render cafes on the map.* b153f53 Update terms of service and Google Map SDK version.* 0eb205c Add a reference to Google Map SDK.* 24f3009 Change the color of restaurant icons.* 127cf78 Fix a typo* 17de14d Render restaurants the map.* 00315a1 Initial commit é¦–å…ˆrebaseåˆ°17de14dçš„parent commitï¼ˆç”¨^è¡¨ç¤ºï¼‰ï¼Œåœ¨å¼¹å‡ºçš„çª—å£å°†å¯¹åº”çš„è¿™ä¸¤æ¡çš„commandç”±pickæ”¹ä¸ºrewordï¼ˆæ­¤å¤„ä¸å±•ç¤ºï¼‰ï¼Œå…³é—­æ­¤çª—å£ã€‚ç„¶åŽåˆæœ‰ä¸¤æ¬¡å¼¹çª—ï¼Œç›´æŽ¥ä¿®æ”¹messageå³å¯ã€‚ 123456789(master)$ git rebase -i 17de14d^[detached HEAD 38b49e0] Render restaurants on the map. Date: Fri Apr 30 09:59:03 2021 +0800 1 file changed, 1 insertion(+)[detached HEAD dd32e6e] Add a reference to Google Map SDK v1.0.0. Date: Fri Apr 30 10:01:56 2021 +0800 2 files changed, 2 insertions(+) create mode 100644 license.txtSuccessfully rebased and updated refs/heads/master. çœ‹çœ‹ï¼Œæ”¹å¥½äº†ï¼š 12345678(master)$ git log --oneline --all --graph* 526429c (HEAD -&gt; master) Render cafes on the map.* e3efdfd Update terms of service and Google Map SDK version.* dd32e6e Add a reference to Google Map SDK v1.0.0. //-----v1.0.0------* 1ca0331 Change the color of restaurant icons.* cacde15 Fix a typo* 38b49e0 Render restaurants on the map. //------on--------* 00315a1 Initial commit ä¾ç„¶ï¼Œ00315a1ä¹‹åŽçš„å…¨éƒ¨commitï¼ŒIDéƒ½å˜äº†ã€‚ Re-ordering Commits12345678(master)$ git log --oneline --all --graph* 2879b9f (HEAD -&gt; master) Render cafes on the map.* 95cd9e7 Update terms of service and Google Map SDK version.* 398859b Add a reference to Google Map SDK v1.0.0.* 1ca0331 Change the color of restaurant icons.* cacde15 Fix a typo* 38b49e0 Render restaurants on the map.* 00315a1 Initial commit è¦å°†398859bè°ƒåˆ°38b49e0å‰é¢åŽ»ï¼š git rebaseåŽå¼¹å‡ºçš„çª—å£å°†398859bå¯¹åº”è¡Œç§»åˆ°æœ€ä¸Šè¾¹ï¼ˆé€‰ä¸­è¯¥è¡Œï¼ŒAtl+â†‘ è°ƒæ•´ï¼‰ï¼š 1234567891011(master)$ git rebase -i 00315a1Successfully rebased and updated refs/heads/master.(master)$ git log --oneline --all --graph* 3a8e00e (HEAD -&gt; master) Render cafes on the map.* 7a97000 Update terms of service and Google Map SDK version.* 031bd2e Change the color of restaurant icons.* f8bce71 Fix a typo* 8eb9241 Render restaurants on the map. //---------------* 2e926d2 Add a reference to Google Map SDK v1.0.0. //---------------* 00315a1 Initial commit Squashing Commits12345678(master)$ git log --oneline --all --graph* 3a8e00e (HEAD -&gt; master) Render cafes on the map.* 7a97000 Update terms of service and Google Map SDK version.* 031bd2e Change the color of restaurant icons.* f8bce71 Fix a typo* 8eb9241 Render restaurants on the map.* 2e926d2 Add a reference to Google Map SDK v1.0.0.* 00315a1 Initial commit å¸Œæœ›å°†8eb9241ï¼Œf8bce71ï¼Œ031bd2eåˆå¹¶æˆä¸€æ¡commitã€‚ Method 1: squashgit rebaseä¹‹åŽå¼¹å‡ºçš„çª—å£æ”¹pickä¸ºsquashè¡¨ç¤ºè¯¥æ¡commitä¸Žå‰ä¸€æ¡commitåˆå¹¶ï¼š å…³é—­è¯¥çª—å£ï¼Œä¹‹åŽå¼¹å‡ºçš„çª—å£ï¼Œåˆ é™¤f8bce71ï¼Œ031bd2eçš„commit messageï¼Œåªç•™ä¸‹8eb9241çš„commit messageã€‚ 12345(master)$ git rebase -i 2e926d2[detached HEAD dffab6e] Render restaurants on the map. Date: Fri Apr 30 09:59:03 2021 +0800 1 file changed, 3 insertions(+)Successfully rebased and updated refs/heads/master. 123456(master)$ git log --oneline --all --graph* 42732b9 (HEAD -&gt; master) Render cafes on the map.* 56eb52d Update terms of service and Google Map SDK version.* dffab6e Render restaurants on the map.* 2e926d2 Add a reference to Google Map SDK v1.0.0.* 00315a1 Initial commit Nice. Method 2: fixupgit rebase -i å¼¹å‡ºçª—å£ï¼Œç”¨fixupï¼Œå°±ä¸éœ€è¦æ‰‹åŠ¨åˆ æ”¹commit messageï¼ˆGitä¸ä¼špickç”¨äº†fixupçš„é‚£ä¸€æ¡çš„messageï¼‰ã€‚è€Œæ˜¯ç›´æŽ¥å°±ç”¨8eb9241çš„commit messageï¼š logåŒä¸Šã€‚ Splitting a Commitå°†549d310æ‹†æˆä¸¤ä¸ªï¼š 123456(master)$ git log --oneline --all --graph* de27a35 (HEAD -&gt; master) Render cafes on the map.* 549d310 Update terms of service and Google Map SDK version.* 8014c85 Render restaurants on the map.* 2e926d2 Add a reference to Google Map SDK v1.0.0.* 00315a1 Initial commit pickæ”¹ä¸ºedit 12345678910111213141516171819202122(master)$ git rebase -i 549d310^Stopped at 549d310... Update terms of service and Google Map SDK version.You can amend the commit now, with git commit --amendOnce you are satisfied with your changes, run git rebase --continue(master|REBASE 1/2)$ git log --oneline --all --graph* de27a35 (master) Render cafes on the map.* 549d310 (HEAD) Update terms of service and Google Map SDK version.* 8014c85 Render restaurants on the map.* 2e926d2 Add a reference to Google Map SDK v1.0.0.* 00315a1 Initial commit(master|REBASE 1/2)$ git reset HEAD^ //---defaultï¼šmixed-------(master|REBASE 1/2)$ git status -s //------éƒ½æ˜¯çº¢è‰²çš„çŠ¶æ€------- M file1.txt?? sdkversion.txt åˆ†ä¸¤æ¬¡æäº¤ä¸¤ä¸ªä¸åŒçš„ä¿®æ”¹ï¼š 12345678910111213141516171819202122232425(master|REBASE 1/2)$ git add file1.txt(master|REBASE 1/2)$ git commit -m "Add terms of service."[detached HEAD 1d17606] Add terms of service. 1 file changed, 4 insertions(+)(master|REBASE 1/2)$ git add .(master|REBASE 1/2)$ git commit -m "Update Google Map SDK version."[detached HEAD 55d127c] Update Google Map SDK version. 1 file changed, 1 insertion(+) create mode 100644 sdkversion.txt(master|REBASE 1/2)$ git log --oneline --all --graph* ed8737e (HEAD) Update Google Map SDK version.* 44220a0 Add terms of service.| * de27a35 (master) Render cafes on the map.| * 549d310 Update terms of service and Google Map SDK version.|/* 8014c85 Render restaurants on the map.* 2e926d2 Add a reference to Google Map SDK v1.0.0.* 00315a1 Initial commit(master|REBASE 1/2)$ git rebase --continueSuccessfully rebased and updated refs/heads/master. æ•´æŒºå¥½ï¼š 1234567(master)$ git log --oneline --all --graph* a6ea6fd (HEAD -&gt; master) Render cafes on the map.* ed8737e Update Google Map SDK version. //---------------* 44220a0 Add terms of service. //---------------* 8014c85 Render restaurants on the map.* 2e926d2 Add a reference to Google Map SDK v1.0.0.* 00315a1 Initial commit]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>job notes-git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Gitè¯¾ç¨‹ç¬”è®°(5)--Collaboration]]></title>
    <url>%2F2021%2F04%2F27%2F20210427_Git005%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ WorkflowsðŸ‘‰ Centralized: a single repositoryðŸ‘‰ Distributedï¼ševery developer has a repository âˆš Centralized Workflowå¹³æ—¶ä¸Žä¸­å¤®æœåŠ¡å™¨äº¤äº’ï¼Œä¸‡ä¸€ä¸­å¤®æœåŠ¡å™¨ç˜«ç—ªï¼Œå„repositoryä¹‹é—´å¯ä»¥äº¤äº’ã€‚ ä¸­å¤®æœåŠ¡å™¨æ”¾åœ¨å“ªï¼Ÿ ðŸ‘‰ private server ðŸ‘‰ cloud, å¦‚ GitHubï¼ŒGitLab å…·ä½“åœºæ™¯ï¼š John å’Œ Amy éƒ½å°† repository æ‹·è´åˆ°æœ¬åœ° John commitäº†ä¸€äº›å†…å®¹ï¼Œæƒ³ share ç»™ Amyï¼Œå°±ä»Žæœ¬åœ° repository æ‹·è´åˆ°ä¸­å¤® repository Amy å°†è¿™äº› commit ä»Žä¸­å¤® repository pull åˆ°æœ¬åœ° å¦‚æžœå’Œ Amy è‡ªå·±çš„ commit æœ‰ conflictï¼ŒAmy è§£å†³ä¹‹åŽ push åˆ°ä¸­å¤® repository Integration-Managerå¤šç”¨äºŽOpen-source projectã€‚é€šå¸¸æœ‰ maintainer ç®¡ç† project repositoryï¼Œå…¶ä»–çš„ contributors ä¸èƒ½ç›´æŽ¥ commit åˆ° project repositoryã€‚ Fork project repository åˆ°è‡ªå·±çš„ repositoryï¼Œç„¶åŽæ‹·è´åˆ°æœ¬åœ° Contributor å°†è‡ªå·±çš„ commit push åˆ° repository Contributor å‘ maintainer å‘å‡º pull requestï¼Œå¸Œæœ›åœ¨ project repository commit è‡ªå·±çš„è´¡çŒ® Maintainer åŒæ„çš„è¯å°±ä»Ž contributor çš„ repository pull åˆ°è‡ªå·±çš„æœ¬åœ°ç›®å½• Maintainer review è¿‡è¿™äº› commit è§‰å¾—æ²¡é—®é¢˜ï¼Œå°±å¯ä»¥ push åˆ° project repository äº†ã€‚ Cloning a Repositoryæ‹·è´è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°ï¼Œä»“åº“ç›®å‰åªæœ‰ä¸€ä¸ªcommitï¼š 1234567891011$ git clone https://github.com/PurpleMStone/Mars.git MarsProjectCloning into 'MarsProject'...remote: Enumerating objects: 3, done.remote: Counting objects: 100% (3/3), done.remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0Receiving objects: 100% (3/3), done.$ cd MarsProject/(master)$ git log --oneline --all --graph* 7216ded (HEAD -&gt; master, origin/master, origin/HEAD) Initial commit origin æŒ‡ä»£çš„æ˜¯è¿œç¨‹ä»“åº“ï¼š 123(master)$ git remote -vorigin https:&#x2F;&#x2F;github.com&#x2F;PurpleMStone&#x2F;Mars.git (fetch)origin https:&#x2F;&#x2F;github.com&#x2F;PurpleMStone&#x2F;Mars.git (push) Fetching 12(master)$ git log --oneline --all --graph* 7216ded (HEAD -&gt; master, origin/master, origin/HEAD) Initial commit åœ¨ remote repository è¿›è¡Œä¿®æ”¹ï¼ˆupdate README.mdï¼Œå¢žåŠ äº†ç¬¬äºŒè¡Œï¼‰: 12# MarsA new line of code ç”¨ git fetch èŽ·å–åˆ°æœ¬åœ°ï¼Œæ­¤æ—¶ origin/master å‰è¿›äº†ï¼Œä½†æ˜¯æœ¬åœ° master è¿˜æ²¡åŠ¨ï¼š 1234567891011121314(master)$ git fetchremote: Enumerating objects: 5, done.remote: Counting objects: 100% (5/5), done.remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0Unpacking objects: 100% (3/3), 645 bytes | 1024 bytes/s, done.From https://github.com/PurpleMStone/Mars 7216ded..e27337b master -&gt; origin/master(master)$ git log --oneline --all --graph* e27337b (origin/master, origin/HEAD) Update README.md* 7216ded (HEAD -&gt; master) Initial commit(master)$ git branch -vv* master 7216ded [origin/master: behind 1] Initial commit ç”±äºŽæ²¡æœ‰diverse branchï¼Œ ç›´æŽ¥è®©æœ¬åœ° master fast-forward merge origin/master å°±è¡Œäº†ï¼š 12345678910111213141516(master)$ git merge origin/masterUpdating 7216ded..e27337bFast-forward README.md | 3 ++- 1 file changed, 2 insertions(+), 1 deletion(-)(master)$ git log --oneline --all --graph* e27337b (HEAD -&gt; master, origin/master, origin/HEAD) Update README.md* 7216ded Initial commit(master)$ git branch -vv* master e27337b [origin/master] Update README.md(master)$ cat README.md# MarsA new line of code è€Œå¦‚æžœæœ‰ diverse branchï¼Œå¯èƒ½ merge çš„æ—¶å€™ä¼šæœ‰ conflictï¼Œè§£å†³äº†å† merge å°±è¡Œäº†ã€‚ Pulling1pull &#x3D; fetch + merge æ¯”å¦‚åœ¨æœ¬åœ°æœ‰ä¸ªcommit B, åœ¨ remote repository æœ‰ä¸ª commit Cï¼š 123456789101112131415(master)$ echo hello &gt; file1.txt(master)$ git add .warning: LF will be replaced by CRLF in file1.txt.The file will have its original line endings in your working directory(master)$ git commit -m "Add file1.txt"[master ce83c2f] Add file1.txt 1 file changed, 1 insertion(+) create mode 100644 file1.txt(master)$ git log --oneline --all --graph* ce83c2f (HEAD -&gt; master) Add file1.txt* e27337b (origin/master, origin/HEAD) Update README.md* 7216ded Initial commit åœ¨ remote repository å°† README.md update äº†ä¸¤æ¬¡ï¼ˆcommit C ï¼‰ã€‚ çŽ°åœ¨å¯ä»¥ç”¨ git pull èŽ·å– commit C å¹¶è¿›è¡Œ 3-way merge: 123456789101112131415161718192021(master)$ git pullremote: Enumerating objects: 8, done.remote: Counting objects: 100% (8/8), done.remote: Compressing objects: 100% (4/4), done.remote: Total 6 (delta 0), reused 0 (delta 0), pack-reused 0Unpacking objects: 100% (6/6), 1.28 KiB | 1024 bytes/s, done.From https://github.com/PurpleMStone/Mars e27337b..4085604 master -&gt; origin/masterMerge made by the 'recursive' strategy. README.md | 2 ++ 1 file changed, 2 insertions(+)(master)$ git log --oneline --all --graph* b6e7d23 (HEAD -&gt; master) Merge branch 'master' of https://github.com/PurpleMStone/Mars|\| * 4085604 (origin/master, origin/HEAD) Update README.md| * 3e40ffc Update README.md* | ce83c2f Add file1.txt|/* e27337b Update README.md* 7216ded Initial commit ä¹Ÿå¯ä»¥ç”¨ git pull â€”rebase å°† B rebaseï¼Œç„¶åŽå°±æ˜¯ linear history äº†ï¼š 1234567891011121314151617(master)$ git log --oneline --all --graph* ce83c2f (HEAD -&gt; master) Add file1.txt| * 4085604 (origin/master, origin/HEAD) Update README.md| * 3e40ffc Update README.md|/* e27337b Update README.md* 7216ded Initial commit(master)$ git pull --rebaseSuccessfully rebased and updated refs/heads/master.(master)$ git log --oneline --all --graph* ec68ae1 (HEAD -&gt; master) Add file1.txt* 4085604 (origin/master, origin/HEAD) Update README.md* 3e40ffc Update README.md* e27337b Update README.md* 7216ded Initial commit Pushingå°†æœ¬åœ°çš„ commit push åˆ° remote repositoryï¼Œç„¶åŽ remote repository çš„ master ä¼š move forwardï¼Œç„¶åŽ origin/master ä¼š move forward. 1(master)$ git push æœ‰äº›æƒ…å†µï¼Œpush ä¼šè¢«æ‹’ç»ï¼š å¦‚æƒ³å°†C push åˆ° remoteï¼Œä½†æ˜¯æ­¤æ—¶åˆ«äººpushäº†ä¸ªDåˆ°remoteï¼ŒGitä¸ºäº†é˜²æ­¢ä½ overwriteåˆ«äººçš„workï¼Œå°±ä¸è®©pushï¼š å¦‚æžœç”¨ 1$ git push -f remoteå°±ä¼šä¸¢æŽ‰Dï¼Œç„¶åŽè®©C pushåˆ°remote, remote çš„ master æŒ‡å‘Cã€‚ï¼ˆåˆ«ç”¨ï¼Œè°¨æ…Žï¼‰ å¥½çš„åšæ³•æ˜¯ï¼šç”¨ git pull åœ¨æœ¬åœ°å­˜ä¸‹ Dï¼Œç„¶åŽç”¨ 3-way merge æˆ– rebase çš„æ–¹æ³•ç»“åˆ local master å’Œ Dï¼Œæœ‰å†²çªå°±è§£å†³å†²çªï¼Œç„¶åŽå† git push åˆ° remote repositoryã€‚è¿™æ ·ï¼Œlocal å’Œremote å°±ä¸€è‡´äº†ã€‚ Storing Credentialswindows åœ¨ https://github.com/Microsoft/Git-Credential-Manager-for-Windows ä¸‹è½½ ä¸ç”¨æ¯æ¬¡ push éƒ½ç™»å½•ä¸€æ¬¡ã€‚ Sharing Tagsç»™æœ€è¿‘çš„ä¸€æ¬¡ commit åŠ tagï¼Œå¹¶ä¸”share åˆ° github ä¸ŠåŽ»ï¼š 1234567891011121314(master)$ git tag v1.0(master)$ git log --oneline --all --graph* 125409a (HEAD -&gt; master, tag: v1.0, origin/master, origin/HEAD) add file2.txt* ec68ae1 Add file1.txt* 4085604 Update README.md* 3e40ffc Update README.md* e27337b Update README.md* 7216ded Initial commit(master)$ git push origin v1.0Total 0 (delta 0), reused 0 (delta 0), pack-reused 0To https://github.com/PurpleMStone/Mars.git * [new tag] v1.0 -&gt; v1.0 æ›´æ–° github çš„é¡µé¢ä¼šå‘çŽ°å¤šäº†ä¸€ä¸ª tagã€‚ åˆ é™¤tag: 123$ git push origin --delete v1.0To https://github.com/PurpleMStone/Mars.git - [deleted] v1.0 æ›´æ–° github çš„é¡µé¢ä¼šå‘çŽ°è¿™ä¸ª tagè¢«åˆ äº†ã€‚ä½†æ˜¯åœ¨æœ¬åœ°ç›®å½•ï¼Œtagè¿˜åœ¨ï¼š 12345678910$ git log --oneline --all --graph* 125409a (HEAD -&gt; master, tag: v1.0, origin/master, origin/HEAD) add file2.txt* ec68ae1 Add file1.txt* 4085604 Update README.md* 3e40ffc Update README.md* e27337b Update README.md* 7216ded Initial commit$ git tag -d v1.0Deleted tag 'v1.0' (was 125409a) Releasesåœ¨ github ä¸Šrelease, ä¼šç»™å½“å‰ commit ç‰ˆæœ¬æ‰“ä¸€ä¸ª tagã€‚ åŠ ä¸ŠRelease Notesã€‚ å¦‚æžœè¿˜ä¸æ˜¯stableçš„ç‰ˆæœ¬ï¼Œå‹¾ä¸Šâ€œPre-releaseâ€ã€‚ Sharing brancheså¢žåŠ åˆ†æ”¯åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œgit push çš„æŠ¥é”™ä¿¡æ¯æ„æ€æ˜¯è¿™ä¸ªbranch æ²¡æœ‰ link to origin çš„ branchï¼š 12345678(master)$ git switch -C feature/change-passwordSwitched to a new branch 'feature/change-password'(feature/change-password)$ git pushfatal: The current branch feature/change-password has no upstream branch.To push the current branch and set the remote as upstream, use git push --set-upstream origin feature/change-password -vv æŸ¥çœ‹å½“å‰çš„æœ¬åœ°åˆ†æ”¯ä¸Žè¿œç¨‹åˆ†æ”¯çš„å…³è”å…³ç³» -r æŸ¥çœ‹tracked branch (è¿œç¨‹åˆ†æ”¯)ï¼š 1234567(feature/change-password)$ git branch -vv* feature/change-password 125409a add file2.txt master 125409a [origin/master] add file2.txt(feature/change-password)$ git branch -r origin/HEAD -&gt; origin/master origin/master å°†æ–°åˆ†æ”¯pushä¸ŠåŽ»ï¼ˆ-uä¸­çš„uæ˜¯upstreamçš„æ„æ€ï¼‰ï¼š 123456789(feature/change-password)$ git push -u origin feature/change-passwordTotal 0 (delta 0), reused 0 (delta 0), pack-reused 0remote:remote: Create a pull request for 'feature/change-password' on GitHub by visiting:remote: https://github.com/PurpleMStone/Mars/pull/new/feature/change-passwordremote:To https://github.com/PurpleMStone/Mars.git * [new branch] feature/change-password -&gt; feature/change-passwordBranch 'feature/change-password' set up to track remote branch 'feature/change-password' from 'origin'. å†æŸ¥çœ‹ä¸€ä¸‹ï¼š æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯å…³è”èµ·æ¥äº†ï¼Œgithubä¸Šä¹Ÿèƒ½çœ‹åˆ°æ–°å¢žçš„åˆ†æ”¯ 12345678(feature/change-password)$ git branch -vv* feature/change-password 125409a [origin/feature/change-password] add file2.txt master 125409a [origin/master] add file2.txt(feature/change-password)$ git branch -r origin/HEAD -&gt; origin/master origin/feature/change-password origin/master åˆ é™¤åˆ†æ”¯åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š 1234567(feature/change-password)$ git push -d origin feature/change-passwordTo https://github.com/PurpleMStone/Mars.git - [deleted] feature/change-password(feature/change-password)$ git branch -r origin/HEAD -&gt; origin/master origin/master ä½†æ˜¯æœ¬åœ°åˆ†æ”¯è¿˜åœ¨ï¼Œè¦åˆ‡æ¢å›žmasteråˆ†æ”¯åˆ æŽ‰ï¼š 12345678910111213(feature/change-password)$ git branch -vv* feature/change-password 125409a [origin/feature/change-password: gone] add file2.txt master 125409a [origin/master] add file2.txt(feature/change-password)$ git switch masterSwitched to branch 'master'Your branch is up to date with 'origin/master'.(master)$ git branch -d feature/change-passwordDeleted branch feature/change-password (was 125409a).(master)$ git branch* master Collaboration Workflow12æœ¬Demoå±•ç¤ºäº†ä¸¤ä¸ªcontributoræ˜¯å¦‚ä½•é€šè¿‡GitHubæ¥åä½œçš„åä½œè€…ï¼šðŸ‘‰ æˆ‘ ðŸ‘‰ Amy 1. æˆ‘æ¥åˆ›å»ºæ–°åˆ†æ”¯åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯feature/change-passwordï¼Œç„¶åŽåœ¨æœ¬åœ°ç›®å½•ä¸‹ï¼š 123456789101112(master)$ git fetchFrom https://github.com/PurpleMStone/Mars * [new branch] feature/change-passwork -&gt; origin/feature/change-passwork * [new tag] v1.0 -&gt; v1.0(master)$ git branch* master(master)$ git branch -r origin/HEAD -&gt; origin/master origin/feature/change-passwork origin/master æˆ‘ä»¬åªå¾—åˆ°ä¸€ä¸ªremote tacked branch origin/feature/change-passworkï¼Œè€Œæœ¬åœ°æ²¡æœ‰ä¸€ä¸ªbranchæ˜¯feature/change-passworkã€‚ åˆ›å»ºä¸€ä¸ªfeature/change-passworkåˆ†æ”¯ï¼Œç›¸å½“äºŽä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘remote branch origin/feature/change-passworkï¼š 123(master)$ git switch -C feature/change-passwork origin/feature/change-passworkSwitched to a new branch 'feature/change-passwork'Branch 'feature/change-passwork' set up to track remote branch 'feature/change-passwork' from 'origin'. 2. å¦ä¸€ä¸ªcontributorçŽ°åœ¨æ¯”å¦‚è¯´æœ‰å¦ä¸€ä¸ªåä½œè€…Amyï¼Œå°†è¿™ä¸ªåº“cloneä¸‹æ¥ï¼š 12345678910Amy$ git clone https://github.com/PurpleMStone/Mars.gitCloning into 'Mars'...remote: Enumerating objects: 17, done.remote: Counting objects: 100% (17/17), done.remote: Compressing objects: 100% (10/10), done.remote: Total 17 (delta 1), reused 4 (delta 0), pack-reused 0Receiving objects: 100% (17/17), done.Resolving deltas: 100% (1/1), done.Amy$ cd Mars æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼Œä¾ç„¶åªæœ‰ä¸€ä¸ªmasterï¼Œæ‰€ä»¥ä¹Ÿè¦åˆ›å»ºä¸€ä¸ªfeature/change-passworkåˆ†æ”¯ï¼Œç›¸å½“äºŽä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘remote branch origin/feature/change-passworkï¼š 1234567Amy/Mars (master)$ git branch* masterAmy/Mars (master)$ git switch -C feature/change-passwork origin/feature/change-passworkSwitched to a new branch 'feature/change-passwork'Branch 'feature/change-passwork' set up to track remote branch 'feature/change-passwork' from 'origin'. åœ¨è¿™ä¸ªåˆ†æ”¯ä¸‹è¿›è¡Œä¿®æ”¹å¹¶commitï¼Œç„¶åŽpushåˆ°githubï¼Œå¯ä»¥åœ¨ github çš„è¯¥åˆ†æ”¯ä¸‹çœ‹åˆ°è¿™ä¸ªä¿®æ”¹ 12345678910111213141516Amy/Mars (feature/change-passwork)$ echo password &gt; file1.txtAmy/Mars (feature/change-passwork)$ git commit -am "Update file1"[feature/change-passwork 244f7a7] Update file1 1 file changed, 1 insertion(+), 1 deletion(-)Amy/Mars (feature/change-passwork)$ git pushEnumerating objects: 5, done.Counting objects: 100% (5/5), done.Delta compression using up to 4 threadsCompressing objects: 100% (2/2), done.Writing objects: 100% (3/3), 306 bytes | 306.00 KiB/s, done.Total 3 (delta 0), reused 0 (delta 0), pack-reused 0To https://github.com/PurpleMStone/Mars.git 125409a..244f7a7 feature/change-passwork -&gt; feature/change-passwork 3. æˆ‘æ¥Mergeè¿™æ—¶æœ¬äººå°†GitHubçš„å˜åŒ–pullåˆ°æœ¬åœ°ï¼Œå¹¶ä¸”å‘çŽ°HEADæŒ‡å‘feature/change-passworkåˆ†æ”¯ 123456789101112131415161718192021(feature/change-passwork)$ git pullremote: Enumerating objects: 5, done.remote: Counting objects: 100% (5/5), done.remote: Compressing objects: 100% (2/2), done.remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0Unpacking objects: 100% (3/3), 286 bytes | 0 bytes/s, done.From https://github.com/PurpleMStone/Mars 125409a..244f7a7 feature/change-passwork -&gt; origin/feature/change-passworkUpdating 125409a..244f7a7Fast-forward file1.txt | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-)(feature/change-passwork)$ git log --oneline --all --graph* 244f7a7 (HEAD -&gt; feature/change-passwork, origin/feature/change-passwork) Update file1* 125409a (tag: v1.0, origin/master, origin/HEAD, master) add file2.txt* ec68ae1 Add file1.txt* 4085604 Update README.md* 3e40ffc Update README.md* e27337b Update README.md* 7216ded Initial commit çŽ°åœ¨å¸Œæœ›å°†åˆ†æ”¯mergeåˆ°masterï¼Œå¯ä»¥å‘çŽ°æ˜¯ä¸€ä¸ªFast-forward mergeï¼Œå¹¶ä¸”æŸ¥çœ‹logï¼Œä¸¤ä¸ªåˆ†æ”¯åœ¨æœ¬åœ°ç¡®å®žæ˜¯mergeäº†ï¼Œä½†æ˜¯originçš„è¿œç¨‹masteråˆ†æ”¯è¿˜æ˜¯åŽŸæ ·ï¼š 123456789101112131415161718(feature/change-passwork)$ git switch masterSwitched to branch 'master'Your branch is up to date with 'origin/master'.(master)$ git merge feature/change-passworkUpdating 125409a..244f7a7Fast-forward file1.txt | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-)(master)$ git log --oneline --all --graph* 244f7a7 (HEAD -&gt; master, origin/feature/change-passwork, feature/change-passwork) Update file1* 125409a (tag: v1.0, origin/master, origin/HEAD) add file2.txt* ec68ae1 Add file1.txt* 4085604 Update README.md* 3e40ffc Update README.md* e27337b Update README.md* 7216ded Initial commit è¿™å°±éœ€è¦ç”¨ git push æäº¤mergeæ›´æ”¹ã€‚å†æ¬¡æŸ¥çœ‹logï¼Œè¿œç¨‹åˆ†æ”¯ä¹Ÿmergeäº†ã€‚å¹¶ä¸”githubä¸Šä¹Ÿå¯çœ‹åˆ°mergeç»“æžœï¼ˆfeature/change-passworkçš„commit mergeåˆ°masterä¸Šäº†ï¼‰ã€‚ 12345678910111213(master)$ git pushTotal 0 (delta 0), reused 0 (delta 0), pack-reused 0To https://github.com/PurpleMStone/Mars.git 125409a..244f7a7 master -&gt; master(master)$ git log --oneline --all --graph* 244f7a7 (HEAD -&gt; master, origin/master, origin/feature/change-passwork, origin/HEAD, feature/change-passwork) Update file1* 125409a (tag: v1.0) add file2.txt* ec68ae1 Add file1.txt* 4085604 Update README.md* 3e40ffc Update README.md* e27337b Update README.md* 7216ded Initial commit 4. æˆ‘æ¥åˆ é™¤åˆ†æ”¯æ—¢ç„¶ merge äº†ï¼Œåˆ†æ”¯ç•™ç€ä¹Ÿæ²¡ç”¨äº†ï¼Œå’±å°±æŠŠè¿™åˆ†æ”¯åˆ äº†å§ï¼Œå…ˆåˆ  remote branchï¼Œå†åˆ  local branchï¼š 12345678910(master)$ git push -d origin feature/change-passworkTo https://github.com/PurpleMStone/Mars.git - [deleted] feature/change-passwork(master)$ git branch feature/change-passwork* master(master)$ git branch -d feature/change-passworkDeleted branch feature/change-passwork (was 244f7a7). çœ‹çœ‹æ˜¯ä¸æ˜¯çœŸçš„åˆ äº†ï¼š 123456(master)$ git branch* master(master)$ git branch -r origin/HEAD -&gt; origin/master origin/master NICE. 5. å¦ä¸€ä¸ªcontributorçš„åŒæ­¥git pull èŽ·å–GitHubå˜åŒ–ï¼š 1234567Amy/Mars (master)$ git pullFrom https://github.com/PurpleMStone/Mars 125409a..244f7a7 master -&gt; origin/masterUpdating 125409a..244f7a7Fast-forward file1.txt | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-) æœ¬åœ°è¿˜æœ‰è¿™ä¸ªbranchï¼Œåˆ æŽ‰ï¼š 123456Amy/Mars (master)$ git branch feature/change-passwork* masterAmy/Mars (master)$ git branch -d feature/change-passworkDeleted branch feature/change-passwork (was 244f7a7). ä¼šå‘çŽ°originè¿˜æœ‰è¿™ä¸ªbranchï¼š 1234Amy/Mars (master)$ git branch -r origin/HEAD -&gt; origin/master origin/feature/change-passwork origin/master å¯ä»¥è¿™æ ·ç§»é™¤ï¼ˆå¯ä»¥åˆ·æ–°æœ¬åœ°ä»“åº“ä¸Žè¿œç¨‹ä»“åº“ï¼Œä¿æŒè¿™äº›æ”¹åŠ¨çš„åŒæ­¥ï¼‰ï¼š 12345678Amy/Mars (master)$ git remote prune originPruning originURL: https://github.com/PurpleMStone/Mars.git * [pruned] origin/feature/change-passworkAmy/Mars (master)$ git branch -r origin/HEAD -&gt; origin/master origin/master]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>job notes-git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Gitè¯¾ç¨‹ç¬”è®°(4)--Branching]]></title>
    <url>%2F2021%2F04%2F26%2F20210426_Git004%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ What are Branches? masteråˆ†æ”¯ä¸€èˆ¬å­˜ç€stableçš„commitç‰ˆæœ¬ï¼Œå¦ä¸€ä¸ªåˆ†æ”¯å¦‚featureå­˜ç€è¿˜ä¸stableçš„ç‰ˆæœ¬ï¼Œç­‰åˆ°æ”¹åˆ°å®Œå–„äº†ï¼Œæ‰å°†featureåˆ†æ”¯mergeåˆ°masterä¸­ã€‚ MASTERæŒ‡é’ˆæŒ‡å‘masteråˆ†æ”¯ä¸­æœ€è¿‘commitçš„ç‰ˆæœ¬ï¼Œå…¶ä»–åˆ†æ”¯åŒç†ã€‚ HEADæŒ‡é’ˆå¯ä»¥æŒ‡å‘masterï¼Œä¹Ÿå¯ä»¥æŒ‡å‘featureï¼Œç”¨äºŽæ–¹ä¾¿åœ°è°ƒæ•´working branchã€‚ Working with Branchesåˆ›å»ºåˆ†æ”¯ï¼š 1$ git branch bugfix æŸ¥çœ‹çŽ°æœ‰åˆ†æ”¯ï¼Œå…¶ä¸­æ ‡*çš„è¡¨ç¤ºå½“å‰working branchï¼š 123$ git branch bugfix* master ä¹Ÿå¯ä»¥è¿™æ ·æŸ¥çœ‹å½“å‰working branchï¼š 123$ git statusOn branch masternothing to commit, working tree clean åˆ‡æ¢åˆ°bugfix branchï¼š 12$ git switch bugfixSwitched to branch 'bugfix' Shortcutï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ 1$ git switch -C bugfix -Cè¡¨ç¤ºcreating é‡å‘½ååˆ†æ”¯ï¼š 123(bugfix)$ git branch -m bugfix bugfix-signup-form(bugfix-signup-form)$ å‡å¦‚åœ¨åˆ›å»ºè¿™ä¸ªbugfix-signup-formåˆ†æ”¯ä¹‹å‰ï¼Œåœ¨masteråˆ›å»ºäº†ä¸€ä¸ªaudience.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1234AUDIENCEThis course is for anyone who wants to learn Git.No prior experience is required. åˆ›å»ºå¹¶åˆ‡æ¢å½“å‰åˆ†æ”¯ä¸ºbugfix-signup-formåˆ†æ”¯ä¹‹åŽå°†è¯¥æ–‡ä»¶çš„å†…å®¹æ”¹ä¸ºï¼š 123WHO THIS COURSE IS FOR ======================This course is for anyone who wants to learn Git. å¹¶æäº¤æ›´æ”¹ï¼š 1234567(bugfix-signup-form)$ code audience.txt(bugfix-signup-form)$ git add .(bugfix-signup-form)$ git commit -m "fix the bug that prevented the users from signing up"[bugfix-signup-form 7a5cdb3] fix the bug that prevented the users from signing up 1 file changed, 3 insertions(+), 4 deletions(-) æŸ¥çœ‹ä¸€ä¸‹ï¼ŒHEADæŒ‡å‘å½“å‰åˆ†æ”¯ï¼š 123(bugfix-signup-form)$ git log --oneline7a5cdb3 (HEAD -&gt; bugfix-signup-form) fix the bug that prevented the users from signing up82ca774 (master) add audience.txt åˆ‡æ¢å›žmasteråˆ†æ”¯å¹¶æŸ¥çœ‹audience.txtå†…å®¹ï¼š 1234(bugfix-signup-form)$ git switch masterSwitched to branch 'masterâ€˜(master)$ code audience.txt å‘çŽ°audience.txtå†…å®¹ä¾ç„¶æ˜¯æ—§ç‰ˆçš„ï¼š 1234AUDIENCEThis course is for anyone who wants to learn Git.No prior experience is required. æŸ¥çœ‹ä¿®æ”¹logï¼Œä¼šå‘çŽ°çœ‹ä¸åˆ°bugfix-signup-formåˆ†æ”¯çš„æ›´æ”¹logï¼š 12(master)$ git log --oneline82ca774 (HEAD -&gt; master) add audience.txt é™¤éžç”¨â€”allï¼š 123(master)$ git log --oneline --all7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up82ca774 (HEAD -&gt; master) add audience.txt å¦‚æžœæƒ³åˆ é™¤bugfix-signup-formåˆ†æ”¯ï¼Œç”±äºŽè¿˜æ²¡mergeï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚è‹¥ç¡®å®šçœŸçš„è¦åˆ ï¼Œç”¨-Dï¼š 123(master)$ git branch -d bugfix-signup-formerror: The branch 'bugfix-signup-form' is not fully merged.If you are sure you want to delete it, run 'git branch -D bugfix-signup-form'. Comparing Branchesåœ¨å°†åˆ†æ”¯mergeåˆ°masterä¹‹å‰ï¼Œå…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼š 123456(master)$ git log master..bugfix-signup-formcommit 7a5cdb3ea29a72530f598fa7fee1358a6c4dcb23 (bugfix-signup-form)Author: Stone &lt;masaike@qq.com&gt;Date: Fri Apr 23 21:56:15 2021 +0800 fix the bug that prevented the users from signing up æŸ¥çœ‹å…·ä½“æ”¹äº†å•¥å†…å®¹ï¼ˆç”±äºŽå½“å‰åˆ†æ”¯å°±æ˜¯master, master..ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ï¼‰ï¼š 123456789101112131415(master)$ git diff master..bugfix-signup-formdiff --git a/audience.txt b/audience.txtindex 01fd2e1..ecbc229 100644--- a/audience.txt+++ b/audience.txt@@ -1,4 +1,3 @@-AUDIENCE--This course is for anyone who wants to learn Git.-No prior experience is required.\ No newline at end of file+WHO THIS COURSE IS FOR+======================+This course is for anyone who wants to learn Git.\ No newline at end of file çœ‹ç®€ç•¥çš„ä¿®æ”¹çŠ¶æ€ä¿¡æ¯ï¼š 12(master)$ git diff --name-status bugfix-signup-formM audience.txt Stashingbugfix-signup-formåˆ†æ”¯å¯¹audience.txtä¿®æ”¹åŽï¼Œè¯¥åˆ†æ”¯å°šæœªmergeåˆ°masteråˆ†æ”¯ï¼Œæ­¤æ—¶masteråˆ†æ”¯å´åˆå¯¹audience.txtè¿›è¡Œäº†ä¿®æ”¹ï¼Œæ­¤æ—¶ä¸å…è®¸åˆ‡æ¢åˆ°åˆ†æ”¯ï¼š 1234567(master)$ git switch bugfix-signup-formerror: Your local changes to the following files would be overwritten by checkout: audience.txtPlease commit your changes or stash them before you switch branches.Aborting(master)$ å¦‚æžœæˆ‘ä»¬è¿˜ä¸æƒ³commitåœ¨masteråˆ†æ”¯å¯¹audience.txtçš„ä¿®æ”¹ï¼Œå¯ä»¥å…ˆç”¨stashä¿å­˜å·¥ä½œçŽ°åœºï¼š 12(master)$ git stash push -m "New tax rules."Saved working directory and index state On master: New tax rules. By default, new untracked files are not included in the stash, è¦ç”¨-aæ”¾å…¥stash: 12345678910(master)$ echo hello &gt; newfile.txt(master)$ git status -s?? newfile.txt(master)$ git stash push -m "My new stash with newfile1.txt"No local changes to save //------è¿™æ ·ä¸è¡Œçš„--------------(master)$ git stash push -am "My new stash"Saved working directory and index state On master: My new stash æŸ¥çœ‹stash: 123(master)$ git stash liststash@&#123;0&#125;: On master: My new stashstash@&#123;1&#125;: On master: New tax rules. Stashingäº†å°±å¯ä»¥æˆåŠŸåˆ‡æ¢åˆ†æ”¯äº†ï¼š 12(master)$ git switch bugfix-signup-formSwitched to branch 'bugfix-signup-form' åœ¨åˆ†æ”¯çš„å·¥ä½œåšå®Œï¼Œæ¢å›žmasteråˆ†æ”¯ï¼Œæƒ³æ¢å¤å·¥ä½œçŽ°åœºï¼Œå…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼ˆæ ¹æ®stashå·ï¼‰ï¼š 123(master)$ git stash show 1 audience.txt | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-) å¯ä»¥çš„è¯å°±applyåˆ°æœ¬åœ°ç›®å½•ï¼š 1(master)$ git stash apply 1 ç”¨ git stash applyæ¢å¤åŽï¼Œä¿å­˜çš„çŽ°åœºå¹¶ä¸åˆ é™¤ï¼Œéœ€è¦ç”¨git stash drop åˆ é™¤ï¼š 12(master)$ git stash drop 1Dropped refs/stash@&#123;1&#125; (92b61ede11aa9f3c076aed7c1409c7cc683e4efb) æ¸…é™¤å…¨éƒ¨stashï¼š 1(master)$ git stash clear Merging123&#x2F;******Merges*******&#x2F;ðŸ‘‰ Fast-forward merges (if branches have not diverged)ðŸ‘‰ 3-way merges (if branches have diverged) Fast-forward merges å½“å‰åˆ†æ”¯åˆå¹¶å¦ä¸€ä¸ªåˆ†æ”¯çš„æ—¶å€™ï¼Œå¦‚æžœåˆå¹¶çš„è¿‡ç¨‹ä¸­æ²¡æœ‰å†²çªï¼Œåˆ™ä¼šé€šè¿‡ç›´æŽ¥ç§»åŠ¨ä¸¤ä¸ªåˆ†æ”¯çš„æŒ‡é’ˆï¼Œæ¥è¾¾åˆ°åˆå¹¶ã€‚ åªæœ‰bugfixåˆ†æ”¯åœ¨æ”¹åŠ¨ï¼Œæ”¹åˆ°stableäº†ï¼Œç›´æŽ¥ç§»åŠ¨masteræŒ‡é’ˆåˆ°bugfixæŒ‡å‘çš„ä½ç½®ï¼Œç„¶åŽä¸¢å¼ƒbugfixæŒ‡é’ˆå°±è¡Œäº†ã€‚ 3-way merges ä¸¤ä¸ªåˆ†æ”¯éƒ½åœ¨æ”¹åŠ¨ï¼Œæœ€åŽmergeåˆ°ä¸€èµ·ã€‚ Fast-forward Merges123(master)$ git log --oneline --all --graph* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 (HEAD -&gt; master) add audience.txt 12345(master)$ git merge bugfix-signup-formUpdating 82ca774..7a5cdb3Fast-forward audience.txt | 7 +++---- 1 file changed, 3 insertions(+), 4 deletions(-) 123(master)$ git log --oneline --all --graph* 7a5cdb3 (HEAD -&gt; master, bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt No fast-forward merges merge äº† master å’Œ bugfix-signup-form åˆ†æ”¯åŽï¼Œåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯bugfix-login-formã€‚æ­¤æ—¶å‡å¦‚å¯¹å·²æœ‰æ–‡ä»¶ file1.js è¿›è¡Œ modify å¹¶ commitï¼š 123456789101112131415(master)$ git switch -C bugfix-login-formSwitched to and reset branch 'bugfix-login-form'(bugfix-login-form)$ code file1.js(bugfix-login-form)$ git add .(bugfix-login-form)$ git commit -m "update file1.js"[bugfix-login-form 1ad00a7] update file1.js 1 file changed, 1 insertion(+), 1 deletion(-)(bugfix-login-form)$ git log --oneline --all --graph* 1ad00a7 (HEAD -&gt; bugfix-login-form) update file1.js* 7a5cdb3 (master, bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt æ­¤æ—¶masterå’Œbugfix-signup-formæŒ‡å‘åŒä¸€commitï¼Œbugfix-login-form æŒ‡å‘æœ¬ modify commitã€‚ç„¶åŽç”¨ No fast-forward çš„æ–¹å¼æ¥åˆå¹¶ä¸¤åˆ†æ”¯ï¼Œå¯ä»¥çœ‹åˆ° git merge å‘½ä»¤çš„è¿”å›žç»“æžœä¸­ä¸å†æœ‰â€œFast-forwardâ€å‡ºçŽ°ã€‚ 123456789101112131415(bugfix-login-form)$ git switch masterSwitched to branch 'master'(master)$ git merge --no-ff bugfix-login-formMerge made by the 'recursive' strategy. file1.js | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-)(master)$ git log --oneline --all --graph* 9612ab4 (HEAD -&gt; master) Merge branch 'bugfix-login-form'|\| * 1ad00a7 (bugfix-login-form) update file1.js|/* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt 1234/**ä½¿ç”¨No fast-forward mergesçš„ä¼˜ç¼ºç‚¹ï¼ˆä¸¤æ´¾è§‚ç‚¹ï¼‰**/ðŸ‘‰ CONSï¼špollutes the history (those who prefer linear history)ðŸ‘‰ PROSï¼š1) True reflection of history 2) Allow reverting a feature (easier for us to undo a feature) å¦‚æžœä½¿ç”¨No fast-forward mergesï¼š çº¢è‰²æ ‡è®°çš„commit æ˜¯F1å’ŒF2çš„ç»“åˆï¼Œå¦‚æžœçº¢æ ‡çš„commitæ˜¯ä¸ªbad commit, è“æ ‡çš„commit æ˜¯å’Œçº¢æ ‡å®Œå…¨ç›¸åçš„commitï¼Œæˆ‘ä»¬åªéœ€è¦revert ä¸€ä¸ªcommitå°±è¡Œäº†ã€‚ è€Œå¦‚æžœä½¿ç”¨fast-forward mergesï¼š è¦revertä¸¤ä¸ªcommitï¼Œä¼šæ›´åŠ å¤æ‚ã€‚ 3-way mergesåˆ›å»ºæ–°åˆ†æ”¯å¹¶åœ¨æ­¤åˆ†æ”¯commitæ–°ä¿®æ”¹ï¼š 12345678910111213141516171819202122232425262728(master)$ git switch -C feature-change-passwordSwitched to a new branch 'feature-change-password'(feature-change-password)$ git log --oneline --all --graph* 9612ab4 (HEAD -&gt; feature-change-password, master) Merge branch 'bugfix-login-form'|\| * 1ad00a7 (bugfix-login-form) update file1.js|/* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt(feature-change-password)$ echo hello &gt; change-password.txt(feature-change-password)$ git add .(feature-change-password)$ git commit -m "Build the change password form."[feature-change-password 49f4f13] Build the change password form. 1 file changed, 1 insertion(+) create mode 100644 change-password.txt(feature-change-password)$ git log --oneline --all --graph* 49f4f13 (HEAD -&gt; feature-change-password) Build the change password form.* 9612ab4 (master) Merge branch 'bugfix-login-form'|\| * 1ad00a7 (bugfix-login-form) update file1.js|/* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt è¿”å›žmasteråˆ†æ”¯å¹¶åœ¨æ­¤åˆ†æ”¯commitæ–°ä¿®æ”¹ï¼š 12345678910111213141516171819(feature-change-password)$ git switch masterSwitched to branch 'master'(master)$ code audience.txt(master)$ git commit -am "Update audience.txt"[master 4aa3534] Update audience.txt 1 file changed, 1 insertion(+), 1 deletion(-)(master)$ git log --oneline --all --graph* 4aa3534 (HEAD -&gt; master) Update audience.txt| * 49f4f13 (feature-change-password) Build the change password form.|/* 9612ab4 Merge branch 'bugfix-login-form'|\| * 1ad00a7 (bugfix-login-form) update file1.js|/* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt Mergeè¿™ä¸¤ä¸ªåˆ†æ”¯ï¼š 123456789101112131415161718(master)$ git merge feature-change-passwordMerge made by the 'recursive' strategy. change-password.txt | 1 + 1 file changed, 1 insertion(+) create mode 100644 change-password.txt(master)$ git log --oneline --all --graph* 91dd8b9 (HEAD -&gt; master) Merge branch 'feature-change-password'|\| * 49f4f13 (feature-change-password) Build the change password form.* | 4aa3534 Update audience.txt|/* 9612ab4 Merge branch 'bugfix-login-form'|\| * 1ad00a7 (bugfix-login-form) update file1.js|/* 7a5cdb3 (bugfix-signup-form) fix the bug that prevented the users from signing up* 82ca774 add audience.txt Viewing the Merged BranchesæŸ¥çœ‹mergeåˆ°masterçš„branchï¼š 12345(master)$ git branch --merged bugfix-login-form bugfix-signup-form feature-change-password* master è¿™äº›åˆ†æ”¯å·²ç»mergeäº†ï¼Œå°±å¯ä»¥å®‰å…¨åœ°åˆ é™¤äº†ï¼š 12(master)$ git branch -d bugfix-login-formDeleted branch bugfix-login-form (was 1ad00a7). æŸ¥çœ‹è¿˜æ²¡mergeçš„åˆ†æ”¯ï¼š 1(master)$ git branch --no-merged Merge Conflicts1234Conflicts (difference in two branches)ðŸ‘‰ Change1, Change2ðŸ‘‰ Change, DeleteðŸ‘‰ Add1, Add2 Demo: åˆ›å»ºæ–°åˆ†æ”¯bugfix-change-passwordå¹¶æäº¤å¯¹change-password.txtçš„ä¿®æ”¹ 12345678(master)$ git switch -C bugfix-change-passwordSwitched to a new branch 'bugfix-change-password'(bugfix-change-password)$ code change-password.txt(bugfix-change-password)$ git commit -am "Update change-password.txt"[bugfix-change-password.txt 7e3da10] Update change-password.txt 1 file changed, 2 insertions(+) åˆ‡æ¢åˆ°masteråˆ†æ”¯ï¼Œæäº¤å¯¹change-password.txtçš„ä¿®æ”¹ 12345678(bugfix-change-password)$ git switch masterSwitched to branch 'master'(master)$ code change-password.txt(master)$ git commit -am "Update change-password.txt"[master adebbcf] Update change-password.txt 1 file changed, 2 insertions(+) Mergeä¸¤ä¸ªåˆ†æ”¯æ—¶å‡ºçŽ°conflict: 12345678910111213141516171819(master)$ git merge bugfix-change-passwordmerge: bugfix-change-password - not something we can merge(master)$ git merge bugfix-change-password.txtAuto-merging change-password.txtCONFLICT (content): Merge conflict in change-password.txtAutomatic merge failed; fix conflicts and then commit the result.(master|MERGING)$ git statusOn branch masterYou have unmerged paths. (fix conflicts and run "git commit") (use "git merge --abort" to abort the merge)Unmerged paths: //---------mergeå¤±è´¥çš„åŽŸå› æ‰€åœ¨------------------ (use "git add &lt;file&gt;..." to mark resolution) both modified: change-password.txtno changes added to commit (use "git add" and/or "git commit -a") çœ‹çœ‹æ–‡ä»¶ï¼š VSCodeæä¾›äº†å‡ ç§ï¼ˆå¯ä»¥ç›´æŽ¥ç‚¹å‡»çš„ï¼‰ï¼šAccept Current Changeç­‰ä¸‰ç§æ–¹æ³•æ¶ˆé™¤conflict ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ”¹ï¼Œä½†æ­¤æ—¶ä¸èƒ½å¢žåŠ æ–°çš„å†…å®¹ï¼Œåªèƒ½é€‰æ‹©ä¸¤ä¸ªåˆ†æ”¯çš„ä¿®æ”¹å†…å®¹ã€‚æœ€åŽæ”¹ä¸ºï¼š 1234hellochange in the master branch.change in the bugfix branch. è¿™å›žå°±å¯ä»¥æˆåŠŸæäº¤ï¼š 1234567891011121314(master|MERGING)$ git add change-password.txt(master|MERGING)$ git statusOn branch masterAll conflicts fixed but you are still merging. (use "git commit" to conclude merge)Changes to be committed: modified: change-password.txt (master|MERGING)$ git commit[master 74c5e1c] Merge branch 'bugfix-change-password.txt'(master)$ Visual Merge Tools123ðŸ‘‰ Kdiff ðŸ‘‰ P4MergeðŸ‘‰ WinMerge (Windows Only) åœ¨å®˜ç½‘ä¸‹è½½P4Mergeå¹¶å®‰è£…ï¼Œç„¶åŽé…ç½®ï¼ˆå®‰è£…è·¯å¾„ï¼‰ï¼š 123$ git config --global merge.tool p4merge$ git config --global mergetool.p4merge.path &quot;D:&#x2F;Program Files&#x2F;P4Merge&#x2F;p4merge.exe&quot; Aborting a Mergeæƒ³mergeå´å‘çŽ°æœ‰å†²çªï¼Œæ­¤æ—¶æ²¡æœ‰æ—¶é—´å¤„ç†å†²çªï¼Œè¦å›žåˆ°mergeä¹‹å‰çš„çŠ¶æ€ï¼š 12345678(master)$ git merge bugfix-change-passwordAuto-merging change-password.txtCONFLICT (content): Merge conflict in change-password.txtAutomatic merge failed; fix conflicts and then commit the result.(master|MERGING)$ git merge --abort(master)$ Undoing a Faulty Mergemergeäº†ä¹‹åŽå‘çŽ°è¿™ä¸ªmergeä¸åˆé€‚ï¼Œåˆä¸æƒ³mergeäº†ï¼š 1234567(master)$ git log --oneline --all --graph* bbf6499 (HEAD -&gt; master) Merge branch 'bugfix-change-password'|\| * fdfcee5 (bugfix-change-password) Update change-password.txt* | 5975f40 Update change-password.txt|/* 3c6ba48 Update change-password.txt ç”¨resetå›žåˆ°ä¸Šä¸€ä¸ªmasteræŒ‡å‘çš„commitï¼Œè¿™ä¹‹åŽçš„commitéƒ½ä¼šæ¶ˆå¤±ï¼ˆçœ‹logï¼‰ï¼š 12345678(master)$ git reset --hard HEAD~1HEAD is now at 5975f40 Update change-password.txt(master)$ git log --oneline --all --graph* 5975f40 (HEAD -&gt; master) Update change-password.txt| * fdfcee5 (bugfix-change-password) Update change-password.txt|/* 3c6ba48 Update change-password.txt çŽ°åœ¨æ²¡æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çº¢æ ‡çš„commitï¼ŒGitä¼šå°†å…¶è§†ä¸ºåžƒåœ¾ï¼Œä¸€æ®µæ—¶é—´åŽè‡ªåŠ¨å°†å…¶åˆ é™¤ï¼š ä½†æ˜¯åœ¨Gitåˆ é™¤å‰å®ƒè¿˜åœ¨ï¼Œè¿˜å¯ä»¥æ¢å¤å‡ºæ¥ï¼š 12345678910(master)$ git reset --hard bbf6499HEAD is now at bbf6499 Merge branch 'bugfix-change-password'(master)$ git log --oneline --all --graph* bbf6499 (HEAD -&gt; master) Merge branch 'bugfix-change-password'|\| * fdfcee5 (bugfix-change-password) Update change-password.txt* | 5975f40 Update change-password.txt|/* 3c6ba48 Update change-password.txt git revertæ˜¯ç”¨äºŽâ€œååšâ€æŸä¸€ä¸ªç‰ˆæœ¬ï¼Œä»¥è¾¾åˆ°æ’¤é”€è¯¥ç‰ˆæœ¬çš„ä¿®æ”¹çš„ç›®çš„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬commitäº†ä¸‰ä¸ªç‰ˆæœ¬ï¼ˆç‰ˆæœ¬ä¸€ã€ç‰ˆæœ¬äºŒã€ ç‰ˆæœ¬ä¸‰ï¼‰ï¼Œçªç„¶å‘çŽ°ç‰ˆæœ¬äºŒä¸è¡Œï¼ˆå¦‚ï¼šæœ‰bugï¼‰ï¼Œæƒ³è¦æ’¤é”€ç‰ˆæœ¬äºŒï¼Œä½†åˆä¸æƒ³å½±å“æ’¤é”€ç‰ˆæœ¬ä¸‰çš„æäº¤ï¼Œå°±å¯ä»¥ç”¨ git revert å‘½ä»¤æ¥ååšç‰ˆæœ¬äºŒï¼Œç”Ÿæˆæ–°çš„ç‰ˆæœ¬å››ï¼Œè¿™ä¸ªç‰ˆæœ¬å››é‡Œä¼šä¿ç•™ç‰ˆæœ¬ä¸‰çš„ä¸œè¥¿ï¼Œä½†æ’¤é”€äº†ç‰ˆæœ¬äºŒçš„ä¸œè¥¿ã€‚ é€‚ç”¨åœºæ™¯ï¼š å¦‚æžœæˆ‘ä»¬æƒ³æ’¤é”€ä¹‹å‰çš„æŸä¸€ç‰ˆæœ¬ï¼Œä½†æ˜¯åˆæƒ³ä¿ç•™è¯¥ç›®æ ‡ç‰ˆæœ¬åŽé¢çš„ç‰ˆæœ¬ï¼Œè®°å½•ä¸‹è¿™æ•´ä¸ªç‰ˆæœ¬å˜åŠ¨æµç¨‹ï¼Œå°±å¯ä»¥ç”¨è¿™ç§æ–¹æ³• Demo: 1234567891011121314151617181920(master)$ git log --oneline --all --graph* bbf6499 (HEAD -&gt; master) Merge branch 'bugfix-change-password'|\| * fdfcee5 (bugfix-change-password) Update change-password.txt* | 5975f40 Update change-password.txt|/* 3c6ba48 Update change-password.txt(master)$ git revert -m 1 HEAD[master 5f99ab9] Revert "Merge branch 'bugfix-change-password'" 1 file changed, 1 deletion(-)(master)$ git log --oneline --all --graph* 5f99ab9 (HEAD -&gt; master) Revert "Merge branch 'bugfix-change-password'"* bbf6499 Merge branch 'bugfix-change-password'|\| * fdfcee5 (bugfix-change-password) Update change-password.txt* | 5975f40 Update change-password.txt|/* 3c6ba48 Update change-password.txt ç”±äºŽå½“å‰commitæœ‰ä¸¤ä¸ªparent commit (å› ä¸ºæœ‰ä¸¤åˆ†æ”¯)ï¼Œæ‰€ä»¥ç”¨ -m 1 è¡¨ç¤ºå›žåˆ°ç¬¬ä¸€ä¸ªparent commit (å³ä¸Šä¸€ä¸ªmasteræŒ‡å‘çš„commit)ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„commitéƒ½ä¿ç•™äº†ã€‚ å‚è€ƒ https://blog.csdn.net/yxlshk/article/details/79944535 Squash Merging å¯èƒ½B1å’ŒB2åªæ˜¯å°æ”¹åŠ¨ï¼Œcheckpointä¹‹ç±»çš„ï¼Œæˆ‘ä»¬ä¸æƒ³è®©å®ƒä»¬polluteäº†commit history, æ‰€ä»¥ç”¨ä¸€ä¸ªæ€»çš„commitç»“åˆäº†è¿™ä¸¤ä¸ªcommitã€‚è€Œäº‹å®žä¸Šå¹¶æ²¡æœ‰mergeä¸¤ä¸ªåˆ†æ”¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940(master)$ git switch -C bugfix-photo-uploadSwitched to a new branch 'bugfix-photo-upload'(bugfix-photo-upload)$ echo bigfix &gt;&gt; audience.txt(bugfix-photo-upload)$ git commit -am "Update audience.txt"[bugfix-photo-upload c699541] Update audience.txt 1 file changed, 1 insertion(+), 1 deletion(-)(bugfix-photo-upload)$ echo bigfix &gt;&gt; file1.js(bugfix-photo-upload)$ git commit -am "Update file1.js"[bugfix-photo-upload abb7001] Update file1.js 1 file changed, 1 insertion(+), 1 deletion(-)(bugfix-photo-upload)$ git switch masterSwitched to branch 'master'(master)$ git merge --squash bugfix-photo-uploadUpdating 5f99ab9..abb7001Fast-forwardSquash commit -- not updating HEAD audience.txt | 2 +- file1.js | 2 +- 2 files changed, 2 insertions(+), 2 deletions(-)(master)$ git status -sM audience.txtM file1.js(master)$ git commit -m "Fix the bug on the photo upload page"[master 3a99538] Fix the bug on the photo upload page 2 files changed, 2 insertions(+), 2 deletions(-)(master)$ git log --oneline --all --graph* 3a99538 (HEAD -&gt; master) Fix the bug on the photo upload page| * abb7001 (bugfix-photo-upload) Update file1.js| * c699541 Update audience.txt|/* 5f99ab9 Revert "Merge branch 'bugfix-change-password'" å®žé™…ä¸Šå¹¶æ²¡æœ‰merge: 12345678910111213(master)$ git branch bugfix-change-password bugfix-photo-upload bugfix-signup-form* master(master)$ git branch --merge bugfix-change-password bugfix-signup-form* master(master)$ git branch --no-merge bugfix-photo-upload åˆ é™¤bugfix-photo-uploadåŽå¯ä»¥çœ‹åˆ°ï¼Œåªå‰©ä¸€ä¸ªæ€»çš„commitè®°å½•äº†ï¼š 123456(master)$ git branch -D bugfix-photo-uploadDeleted branch bugfix-photo-upload (was abb7001).(master)$ git log --oneline --all --graph* 3a99538 (HEAD -&gt; master) Fix the bug on the photo upload page* 5f99ab9 Revert "Merge branch 'bugfix-change-password'" Rebasingï¼ˆå›¾ä¸Ž demo ä¸ååˆ†å»åˆï¼Œåœ¨ demo ä¸­ feature åˆ†æ”¯åªæœ‰ä¸€ä¸ª commitï¼‰ åˆå§‹çŠ¶æ€ï¼šmaster å’Œ feature-shopping-cart æ˜¯ diverse çš„ï¼Œè¦ä¹ˆç”¨ 3-way merge,è¦ä¹ˆå°†feature-shopping-cart åˆ†æ”¯ rebaseï¼Œæ€»ä¹‹æ˜¯ä¸èƒ½ fast-forward merge çš„ 12345(master)$ git log --oneline --all --graph* 4026973 (HEAD -&gt; master) update toc.txt| * 34112c9 (feature-shopping-cart) add cart.txt|/* 7370c4a update å°† feature-shopping-cart åˆ†æ”¯ rebase åˆ° master æŒ‡å‘çš„ commit: 12345678910(master)$ git switch feature-shopping-cartSwitched to branch 'feature-shopping-cart'(feature-shopping-cart)$ git rebase masterSuccessfully rebased and updated refs/heads/feature-shopping-cart.(feature-shopping-cart)$ git log --oneline --all --graph* 21dc4d0 (HEAD -&gt; feature-shopping-cart) add cart.txt* 4026973 (master) update toc.txt* 7370c4a update çŽ°åœ¨å¯ä»¥ fast-forward merge äº†ï¼š 123456789101112131415(feature-shopping-cart)$ git switch masterSwitched to branch 'master'(master)$ git merge feature-shopping-cartUpdating 4026973..21dc4d0Fast-forward cart.txt | 1 + 1 file changed, 1 insertion(+) create mode 100644 cart.txt(master)$ git log --oneline --all --graph* 21dc4d0 (HEAD -&gt; master, feature-shopping-cart) add cart.txt* 4026973 update toc.txt* 7370c4a update ä½†æ˜¯ï¼Œrebasing å¾ˆæœ‰å¯èƒ½ä¼šæœ‰ conflictï¼Œå¦‚ä¸‹ä¾‹ä¸­ master å’Œ feature-shopping-cart å„è‡ªæ›´æ”¹toc.txtï¼Œå°±ä¸èƒ½å°† feature-shopping-cart rebase åˆ° masterï¼š 123456789101112131415161718192021222324252627282930(master)$ echo ocean &gt; toc.txt(master)$ git commit -am "Update toc.txt"[master f2e571a] Update toc.txt 1 file changed, 1 insertion(+), 2 deletions(-)(master)$ git switch feature-shopping-cartSwitched to branch 'feature-shopping-cart'(feature-shopping-cart)$ echo mountain &gt; toc.txt(feature-shopping-cart)$ git commit -am "add mountain to toc.txt"[feature-shopping-cart 06ee042] add mountain to toc.txt 1 file changed, 1 insertion(+), 2 deletions(-)(feature-shopping-cart)$ git log --oneline --all --graph* 06ee042 (HEAD -&gt; feature-shopping-cart) add mountain to toc.txt| * f2e571a (master) Update toc.txt|/* 21dc4d0 add cart.txt(feature-shopping-cart)$ git rebase mastererror: could not apply 06ee042... add mountain to toc.txtResolve all conflicts manually, mark them as resolved with"git add/rm &lt;conflicted_files&gt;", then run "git rebase --continue".You can instead skip this commit: run "git rebase --skip".To abort and get back to the state before "git rebase", run "git rebase --abort".Could not apply 06ee042... add mountain to toc.txtAuto-merging toc.txtCONFLICT (content): Merge conflict in toc.txt ç”¨p4mergeè§£å†³ä¸€ä¸‹conflictï¼š 123456789(feature-shopping-cart|REBASE 1/1)$ git mergetoolMerging:toc.txtNormal merge conflict for 'toc.txt': &#123;local&#125;: modified file &#123;remote&#125;: modified file(feature-shopping-cart|REBASE 1/1)$ git rebase --abort toc.txt.orig æ˜¯è§£å†³å†²çªçš„æ—¶å€™äº§ç”Ÿçš„é¢å¤–æ–‡ä»¶ï¼Œåˆ æŽ‰å°±å¥½äº†ï¼š 1234567891011121314151617(feature-shopping-cart)$ git statusOn branch feature-shopping-cartUntracked files: (use "git add &lt;file&gt;..." to include in what will be committed) toc.txt.orignothing added to commit but untracked files present (use "git add" to track)(feature-shopping-cart)$ cat toc.txt.orig&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADocean=======mountain&gt;&gt;&gt;&gt;&gt;&gt;&gt; 06ee042 (add mountain to toc.txt)(feature-shopping-cart)$ git clean -fdRemoving toc.txt.orig ä¸ºäº†ä¸äº§ç”Ÿè¿™ç§æ–‡ä»¶ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸‹ï¼š 1(feature-shopping-cart)$ git config --global mergetool.keepBackup false Cherry Picking æ¯”å¦‚ F1 æ˜¯æœ‰æ„æ€çš„commitï¼Œæˆ‘ä»¬æƒ³è¦æäº¤åˆ°masterï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰å‡†å¤‡å¥½å°†featureåˆ†æ”¯merge åˆ° master åˆ†æ”¯ï¼Œå¯ä»¥ cherry picking F1 åˆ° masterã€‚ 123456789101112131415161718192021222324252627282930313233343536(master)$ git log --oneline --all --graph* 06ee042 (feature-shopping-cart) add mountain to toc.txt| * f2e571a (HEAD -&gt; master) Update toc.txt|/* dc9b37f add toc.txt(master)$ git cherry-pick 06ee042Auto-merging toc.txtCONFLICT (content): Merge conflict in toc.txterror: could not apply 06ee042... add mountain to toc.txthint: after resolving the conflicts, mark the corrected pathshint: with 'git add &lt;paths&gt;' or 'git rm &lt;paths&gt;'hint: and commit the result with 'git commit'(master|CHERRY-PICKING)$ git mergetoolMerging:toc.txtNormal merge conflict for 'toc.txt': &#123;local&#125;: modified file &#123;remote&#125;: modified file(master|CHERRY-PICKING)$ git status -sM toc.txt(master|CHERRY-PICKING)$ git commit[master 3fcca9a] add mountain to toc.txt Date: Mon Apr 26 21:54:11 2021 +0800 1 file changed, 1 insertion(+), 1 deletion(-)(master)$ git log --oneline --all --graph* 3fcca9a (HEAD -&gt; master) add mountain to toc.txt* f2e571a Update toc.txt| * 06ee042 (feature-shopping-cart) add mountain to toc.txt|/* dc9b37f add toc.txt æœ€åŽå¯ä»¥çœ‹åˆ°masterå‰è¿›äº†ä¸€ä¸ªcommitï¼Œè€Œä¸”æ˜¯pickäº†feature-shopping-cartåˆ†æ”¯çš„commitã€‚ Picking Files from Another Branchæ˜¯ picking files, è€Œä¸æ˜¯ picking commit äº†ã€‚ 1234567891011(master)$ git switch -C feature-send-emailSwitched to a new branch 'feature-send-email'(feature-send-email)$ echo river &gt; toc.txt(feature-send-email)$ git commit -am "Update toc.txt"[feature-send-email 4680781] Update toc.txt 1 file changed, 1 insertion(+), 1 deletion(-)(feature-send-email)$ git switch masterSwitched to branch 'master' ä½¿ç”¨ git restoreï¼š 1234567(master)$ git restore --source=feature-send-email -- toc.txt(master)$ git status -s M toc.txt(master)$ cat toc.txtriver ç„¶åŽå°±å¯ä»¥åœ¨ master åˆ†æ”¯ä¸Šæäº¤äº†ã€‚]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>job notes-git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Gitè¯¾ç¨‹ç¬”è®°(3)--Browsing History]]></title>
    <url>%2F2021%2F04%2F23%2F20210423_Git003%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ Viewing the HistoryåŸºæœ¬å‘½ä»¤ï¼š 1$ git log ç”¨ â€”oneline æŸ¥çœ‹ç®€ç•¥ä¿¡æ¯ï¼Œâ€”stat æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶å¢žåˆ çš„è¡Œæ•°ï¼š 1$ git log --oneline --stat â€”patch æŸ¥çœ‹æ¯ä¸ªæ–‡ä»¶å…·ä½“çš„å†…å®¹æ›´æ”¹ï¼š 1$ git log --oneline --patch Filtering the Historyç”¨ -3 è¡¨ç¤ºåªæŸ¥çœ‹å‰ä¸‰æ¡åŽ†å²commitï¼š 12345678910111213141516171819202122232425$ git log --onelined7d9bfb (HEAD -&gt; master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 Initial commit3fd1e3e Remove unused codeb184de1 Remove unused codedd03e4e Fix the bug3b634ca add Linesa787fca add line568c0fc Initial commit.$ git log --oneline -3d7d9bfb (HEAD -&gt; master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js ç”¨ author åå­—è¿‡æ»¤ï¼š 1$ git log --oneline --author="Stone" ç”¨æ—¶é—´è¿‡æ»¤ï¼š 123$ git log --oneline --after="2021-04-21"$ git log --oneline --after="yesterday"$ git log --oneline --after="one week ago" ç”¨ commit æ—¶çš„ message è¿‡æ»¤ï¼š 12345$ git log --oneline --grep="add"fdb7fb6 add data62416e2 add files3b634ca add Linesa787fca add line ç”¨å…·ä½“æ›´æ”¹çš„å†…å®¹è¿‡æ»¤ï¼š 1234567891011$ git log --oneline -S"world" --patch0f62ff0 remove all js filesdiff --git a/file1.js b/file1.jsdeleted file mode 100644index 29887f9..0000000--- a/file1.js+++ /dev/null@@ -1,3 +0,0 @@-hello world-sky-sun æ ¹æ® ID é€‰å–æŸåŒºé—´çš„ commit åŽ†å²ï¼š 123456789101112131415161718192021222324252627$ git log --onelined7d9bfb (HEAD -&gt; master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js //----------åˆ°æ­¤ä¸ºæ­¢--------------78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data62416e2 add files //---------ä»Žè¿™ä¸Šä¸€è¡Œå¾€ä¸Š-----------fde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 Initial commit3fd1e3e Remove unused codeb184de1 Remove unused codedd03e4e Fix the bug3b634ca add Linesa787fca add line568c0fc Initial commit.$ git log --oneline 62416e2..9b82d1b9b82d1b Add file1.js78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹ commit åŽ†å²ï¼š 1234567891011$ git log --oneline file1.jsd7d9bfb (HEAD -&gt; master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data62416e2 add filesfde6777 modifiedf264740 modified å¦‚æžœæŠ¥é”™è¯´ä¸æ¸…æ¥šï¼Œå°±åœ¨æ–‡ä»¶åä¹‹å‰åŠ â€” 1$ git log --oneline -- file1.js æŸ¥çœ‹è¯¥æ–‡ä»¶çš„å…·ä½“å†…å®¹ä¿®æ”¹ï¼š 1$ git log --oneline --patch -- file1.js Formatting the Log Outputè°ƒæ•´ log æ ¼å¼ 1$ git log --pretty=format:"%Cgreen%an%Creset committed %h on %cd" 1234567891011121314151617%Cgreenswitch color to green%anauthor name%Cresetreset color%Hcommit hash%habbreviated commit hash%cdcommitter date (format respects --date= option) Creating Aliasesç»™åŠ æ ¼å¼çš„ log å‘½ä»¤èµ·ä¸ªåˆ«åï¼š 1$ git config --global alias.lg "log --pretty=format:'%an committed %h'" å°±å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨å•¦ï¼š 12345$ git lgStone committed d7d9bfbStone committed d2acf0eStone committed 9b82d1bStone committed 78daaab èµ·åˆ«åçš„å¦ä¸€ä¸ªä¾‹å­ï¼š 123$ git config --global alias.unstage "restore --staged ."$ git unstage Viewing a CommitæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š 1234567891011121314$ git show HEAD~2commit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29bAuthor: Stone &lt;masaike@qq.com&gt;Date: Thu Apr 22 19:04:57 2021 +0800 Add file1.jsdiff --git a/file1.js b/file1.jsnew file mode 100644index 0000000..ce01362--- /dev/null+++ b/file1.js@@ -0,0 +1 @@+hello æŸ¥çœ‹è¯¥commitç‰ˆæœ¬çš„æŸæ–‡ä»¶çš„å…·ä½“å†…å®¹ï¼š 12$ git show HEAD~2:file1.jshello æŸ¥çœ‹ç®€ç•¥ä¿¡æ¯ï¼š 1234567891011121314151617$ git show HEAD~2 --name-onlycommit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29bAuthor: Stone &lt;masaike@qq.com&gt;Date: Thu Apr 22 19:04:57 2021 +0800 Add file1.jsfile1.js$ git show HEAD~2 --name-statuscommit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29bAuthor: Stone &lt;masaike@qq.com&gt;Date: Thu Apr 22 19:04:57 2021 +0800 Add file1.jsA file1.js æœ€åŽä¸€è¡Œçš„A è¡¨ç¤ºâ€œaddedâ€ Viewing the Changes Across CommitsæŸ¥çœ‹ä¸¤ä¸ªcommitç‰ˆæœ¬çš„åŒºåˆ«ï¼š 123456789$ git diff HEAD~2 HEADdiff --git a/file1.js b/file1.jsindex ce01362..24defb6 100644--- a/file1.js+++ b/file1.js@@ -1 +1,2 @@ hello+A new line of code\ No newline at end of file æŸ¥çœ‹åŒºåˆ«çš„ç®€ç•¥ä¿¡æ¯ï¼š 12345$ git diff HEAD~2 HEAD --name-onlyfile1.js$ git diff HEAD~2 HEAD --name-statusM file1.js ä¸Šé¢ä»£ç å—çš„æœ€åŽä¸€è¡Œä¸­çš„â€œMâ€è¡¨ç¤ºâ€œmodifiedâ€ã€‚ æŸ¥çœ‹ä¸¤ä¸ªcommitç‰ˆæœ¬ä¸­æŸä¸ªæ–‡ä»¶çš„åŒºåˆ«ï¼š 123456789$ git diff HEAD~2 HEAD file1.jsdiff --git a/file1.js b/file1.jsindex ce01362..24defb6 100644--- a/file1.js+++ b/file1.js@@ -1 +1,2 @@ hello+A new line of code\ No newline at end of file Checking Out a CommitLASTè¡¨ç¤ºæœ€è¿‘commitï¼ŒFIRSTè¡¨ç¤ºæœ€åˆcommit: MASTERåˆ†æ”¯æŒ‡é’ˆæŒ‡å‘è¯¥åˆ†æ”¯æœ€è¿‘çš„commit: masteråªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œäº‹å®žä¸Šä¸€ä¸ªprojectå¯èƒ½ä¼šæœ‰è®¸å¤šåˆ†æ”¯ï¼Œæ‰€ä»¥è¦ç”¨HEADæŒ‡å‘å½“å‰workingçš„åˆ†æ”¯ï¼š ä½¿ç”¨ git checkout å‘½ä»¤ä¹‹åŽï¼ŒHEADæŒ‡å‘æŒ‡å®šçš„commitäº†ï¼š å…·ä½“ä¾‹å­ï¼š 12345678910111213141516171819(master)$ git checkout d6f4cc6Note: switching to 'd6f4cc6'.You are in 'detached HEAD' state. You can look around, make experimentalchanges and commit them, and you can discard any commits you make in thisstate without impacting any branches by switching back to a branch.If you want to create a new branch to retain commits you create, you maydo so (now or later) by using -c with the switch command. Example: git switch -c &lt;new-branch-name&gt;Or undo this operation with: git switch -Turn off this advice by setting config variable advice.detachedHead to falseHEAD is now at d6f4cc6 Initial commit HEADæŒ‡å‘d6f4cc6è€Œä¸æ˜¯masteräº†ï¼Œæ‰€ä»¥æ˜¯â€™detached HEADâ€™ stateã€‚ 1234567891011121314151617181920212223242526272829((d6f4cc6...))$ git log --onelined6f4cc6 (HEAD) Initial commit3fd1e3e Remove unused codeb184de1 Remove unused codedd03e4e Fix the bug3b634ca add Linesa787fca add line568c0fc Initial commit.((d6f4cc6...))$ git log --oneline --alld7d9bfb (master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 (HEAD) Initial commit3fd1e3e Remove unused codeb184de1 Remove unused codedd03e4e Fix the bug3b634ca add Linesa787fca add line568c0fc Initial commit. æ­¤æ—¶ä¸èƒ½æœ‰new commitäº†ï¼Œå› ä¸ºå¦‚æžœæœ‰new commit: å½“HEADæŒ‡å›žmasteræ—¶ï¼š è¿™ä¸ªnew commitå†ä¹Ÿæ— æ³•è¢«è®¿é—®åˆ°ï¼Œå°±æ˜¯ä¸€ä¸ªdead commitäº†ã€‚ HEADæŒ‡å›žmasterï¼š 12345((6f4cc6...))$ git checkout masterPrevious HEAD position was d6f4cc6 Initial commitSwitched to branch 'master'(master)$ Finding Bugs Using Bisectå¯ä»¥ç”¨BisectæŸ¥æ‰¾æ˜¯å“ªæ¬¡commitæœ‰bug 1234567891011121314(master)$ git log --oneline --alld7d9bfb (HEAD -&gt; master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 Initial commit å¼€å§‹ã€‚å¦‚æžœå½“å‰commitæ˜¯bad commitï¼Œå‘Šè¯‰å®ƒï¼š 123(master)$ git bisect start(master|BISECTING)$ git bisect bad æ£€æŸ¥å‘çŽ°æœ€å¼€å§‹çš„commitæ˜¯good commitï¼Œå‘Šè¯‰å®ƒï¼š 123(master|BISECTING)$ git bisect good d6f4cc6Bisecting: 5 revisions left to test after this (roughly 3 steps)[fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce] add data è¯´æ˜¯éœ€è¦æ£€æŸ¥5ä¸ªä¿®æ”¹ï¼Œå¤§æ¦‚è¦3ä¸ªæ­¥éª¤ã€‚ å¯ä»¥çœ‹åˆ°HEAD detachäº†ï¼ŒæŒ‡å‘ good commit å’Œ bad commit ä¸­é—´çš„ commitï¼š 1234567891011121314((fdb7fb6...)|BISECTING) $ git log --oneline --alld7d9bfb (master, refs/bisect/bad) refactor file1 //---------bad--------d2acf0e Refactor code9b82d1b Add file1.js78daaab Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 (HEAD) add data //---------HEAD--------62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit //---------good-------- å½“å‰commitæ˜¯good commitï¼Œå‘Šè¯‰å®ƒï¼š 123((fdb7fb6...)|BISECTING)$ git bisect goodBisecting: 2 revisions left to test after this (roughly 2 steps)[78daaab1d24ce993cbd82ab972cfeb9612369ed8] Delete file1.js è¯´æ˜¯è¿˜éœ€è¦æ£€æŸ¥2ä¸ªä¿®æ”¹ï¼Œå¤§æ¦‚è¦2ä¸ªæ­¥éª¤ã€‚ 1234567891011121314((78daaab...)|BISECTING)$ git log --oneline --alld7d9bfb (master, refs/bisect/bad) refactor file1 //---------bad--------d2acf0e Refactor code9b82d1b Add file1.js78daaab (HEAD) Delete file1.js //---------HEAD--------133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 (refs/bisect/good-fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce) add data //---------new good--------62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit //---------old good-------- Once again: 123456789101112131415161718((78daaab...)|BISECTING)$ git bisect goodBisecting: 0 revisions left to test after this (roughly 1 step)[d2acf0efae32ea3ffc555fbfc6e432a656dba66c] Refactor code((d2acf0e...)|BISECTING)$ git log --oneline --alld7d9bfb (master, refs/bisect/bad) refactor file1 //----------bad--------d2acf0e (HEAD) Refactor code //---------HEAD--------9b82d1b Add file1.js78daaab (refs/bisect/good-78daaab1d24ce993cbd82ab972cfeb9612369ed8) Delete file1.js //---------new good--------133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 (refs/bisect/good-fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce) add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit Once again: 123456789101112131415161718((d2acf0e...)|BISECTING)$ git bisect badBisecting: 0 revisions left to test after this (roughly 0 steps)[9b82d1b30e0ea17c2a63732ede1652f7ad0da29b] Add file1.js((9b82d1b...)|BISECTING)$ git log --oneline --alld7d9bfb (master) refactor file1d2acf0e (refs/bisect/bad) Refactor code9b82d1b (HEAD) Add file1.js78daaab (refs/bisect/good-78daaab1d24ce993cbd82ab972cfeb9612369ed8) Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 (refs/bisect/good-fdb7fb6ef27ebfafaa2f7941201c2492c9f9d5ce) add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 (refs/bisect/good-d6f4cc6574d699b11d91e52aa10543baf65c9af3) Initial commit ä¹Ÿå¯ä»¥ç”¨HEADï¼šå¥½çš„ï¼Œç»ˆäºŽæ‰¾åˆ°äº†ï¼š 1234567891011((9b82d1b...)|BISECTING)$ git bisect bad9b82d1b30e0ea17c2a63732ede1652f7ad0da29b is the first bad commitcommit 9b82d1b30e0ea17c2a63732ede1652f7ad0da29bAuthor: Stone &lt;masaike@qq.com&gt;Date: Thu Apr 22 19:04:57 2021 +0800 Add file1.js file1.js | 1 + 1 file changed, 1 insertion(+) create mode 100644 file1.js HEADæŒ‡å›žmasterï¼š 12345((9b82d1b...)|BISECTING)$ git bisect resetPrevious HEAD position was 9b82d1b Add file1.jsSwitched to branch 'master'(master)$ Finding Contributors Using Shortlog123456789101112131415161718192021$ git shortlog -nStone (19): Initial commit. add line add Lines Fix the bug Remove unused code Remove unused code Initial commit Refactor code Add gitignore modified modified add files add data remove all js files commit file1.ls Delete file1.js Add file1.js Refactor code refactor file1 1234567891011$ git shortlog -n -s 19 Stone$ git shortlog -n -s -e 19 Stone &lt;masaike@qq.com&gt;$ git shortlog -n -s -e --after="2020-04-21" 19 Stone &lt;masaike@qq.com&gt;$ git shortlog -n -s -e --before="2021-04-22" 12 Stone &lt;masaike@qq.com&gt; Viewing the History of a FileæŸ¥çœ‹æŸæ–‡ä»¶çš„ä¿®æ”¹åŽ†å²ï¼ˆç®€ç•¥ä¿¡æ¯ï¼‰ï¼š 1234$ git log --oneline file1.jsd7d9bfb (HEAD -&gt; master) refactor file1d2acf0e Refactor code9b82d1b Add file1.js æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹çš„çŠ¶æ€ï¼š 12345678910$ git log --oneline --stat file1.jsd7d9bfb (HEAD -&gt; master) refactor file1 file1.js | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-)d2acf0e Refactor code file1.js | 1 + 1 file changed, 1 insertion(+)9b82d1b Add file1.js file1.js | 1 + 1 file changed, 1 insertion(+) å…·ä½“ä¿¡æ¯ï¼š 123456789101112131415161718192021222324252627$ git log --oneline --patch file1.jsd7d9bfb (HEAD -&gt; master) refactor file1diff --git a/file1.js b/file1.jsindex 56f593b..24defb6 100644--- a/file1.js+++ b/file1.js@@ -1,2 +1,2 @@ hello-A new line of code+A new line of code\ No newline at end of filed2acf0e Refactor codediff --git a/file1.js b/file1.jsindex ce01362..56f593b 100644--- a/file1.js+++ b/file1.js@@ -1 +1,2 @@ hello+A new line of code9b82d1b Add file1.jsdiff --git a/file1.js b/file1.jsnew file mode 100644index 0000000..ce01362--- /dev/null+++ b/file1.js@@ -0,0 +1 @@+hello Restoring a Deleted Fileä¸å°å¿ƒåˆ é™¤äº†æ–‡ä»¶file1.jsï¼š 1234567$ git rm file1.jsrm 'file1.js'$ git commit -m "Remove file1.js"[master e2ebefd] Remove file1.js 1 file changed, 2 deletions(-) delete mode 100644 file1.js æƒ³æ¢å¤å®ƒï¼Œå°±ä»Žd7d9bfbçš„commitæ¢å¤åˆ°æœ¬åœ°ç›®å½•ï¼Œç„¶åŽé‡æ–°commitåˆ°ä»“åº“ï¼š 12345678910111213141516$ git log --oneline -- file1.jse2ebefd (HEAD -&gt; master) Remove file1.jsd7d9bfb refactor file1d2acf0e Refactor code9b82d1b Add file1.js$ git checkout d7d9bfb file1.jsUpdated 1 path from 8623496$ git status -sA file1.js$ git commit -m "Restore file1.js"[master 9328b9b] Restore file1.js 1 file changed, 2 insertions(+) create mode 100644 file1.js BlamingFind the author of a perticular line ï¼ˆçœ‹çœ‹æ˜¯è°å†™çš„çƒ‚ä»£ç ï¼‰ï¼š 12345$ git blame file1.js9328b9b8 (Stone 2021-04-23 15:10:50 +0800 1) hello49019215 (Stone 2021-04-23 15:19:09 +0800 2) A new line of code49019215 (Stone 2021-04-23 15:19:09 +0800 3) Sky49019215 (Stone 2021-04-23 15:19:09 +0800 4) Moon åŠ ä¸Š-eçœ‹é‚®ä»¶ï¼š 12345$ git blame -e file1.js9328b9b8 (&lt;masaike@qq.com&gt; 2021-04-23 15:10:50 +0800 1) hello49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 2) A new line of code49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 3) Sky49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 4) Moon åŠ ä¸Š-Lçœ‹æŸå‡ è¡Œï¼š 123$ git blame -e -L 1,2 file1.js9328b9b8 (&lt;masaike@qq.com&gt; 2021-04-23 15:10:50 +0800 1) hello49019215 (&lt;masaike@qq.com&gt; 2021-04-23 15:19:09 +0800 2) A new line of code Taggingç»™æŸæ¬¡commitåŠ ä¸ªtagï¼ˆå®žé™…ä¸Šæ˜¯ä¸ªæŒ‡å‘è¯¥commitçš„æŒ‡é’ˆï¼‰ï¼š 1$ git tag v1.0 9328b9b 1234567$ git log --oneline4901921 (HEAD -&gt; master) add 2 lines in file1.js9328b9b (tag: v1.0) Restore file1.js //----------------------------e2ebefd Remove file1.jsd7d9bfb refactor file1d2acf0e Refactor code9b82d1b Add file1.js ç„¶åŽå°±å¯ä»¥ç”¨è¿™ä¸ªtagè¡¨ç¤ºè¿™ä¸ªcommitäº†ï¼Œå¦‚ï¼š 1$ git checkout v1.0 ç»™å½“å‰commitï¼ˆå³MASTERæŒ‡å‘çš„ï¼‰èµ·ä¸ªè¯¦ç»†çš„tagï¼š 1$ git tag -a v1.1 -m "My version 1.1" æŸ¥çœ‹ç›®å‰çš„æ‰€æœ‰tagsï¼š 1234567$ git tagv1.0v1.1$ git tag -nv1.0 Restore file1.js //-----å’Œcommitä¿¡æ¯ä¸€æ ·-----v1.1 My version 1.1 //------tagä¿¡æ¯------------ åœ¨æ­¤ä¾‹ä¸­ï¼Œv1.0æ˜¯ä¸ªlightweight tagï¼Œv1.1æ˜¯ä¸ªannotated tagã€‚ annotated tagå¯ä»¥æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼šåŠ tagè€…çš„ä¿¡æ¯å’Œcommitçš„ä¿¡æ¯ï¼š 12345678910111213141516171819202122232425$ git show v1.1tag v1.1Tagger: Stone &lt;masaike@qq.com&gt;Date: Fri Apr 23 15:27:43 2021 +0800My version 1.1commit 490192157cd80c704f4f85e2b2883685e3423f91 (HEAD -&gt; master, tag: v1.1)Author: Stone &lt;masaike@qq.com&gt;Date: Fri Apr 23 15:19:09 2021 +0800 add 2 lines in file1.jsdiff --git a/file1.js b/file1.jsindex 24defb6..e27584b 100644--- a/file1.js+++ b/file1.js@@ -1,2 +1,4 @@ hello-A new line of code\ No newline at end of file+A new line of code+Sky+Moon\ No newline at end of file åˆ é™¤tagï¼š 12$ git tag -d v1.1Deleted tag 'v1.1' (was c847e27)]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>job notes-git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Moshçš„Gitè¯¾ç¨‹ç¬”è®°(2)--Creating Snapshots]]></title>
    <url>%2F2021%2F04%2F21%2F20210421_Git002%2F</url>
    <content type="text"><![CDATA[Moshçš„è¯¾ç¨‹ç½‘å€ åˆå§‹åŒ–ä¸€ä¸ªä»“åº“123mkdir Mooncd Moongit init åœ¨ç›®å½•Moonä¸‹æœ‰ä¸€ä¸ª.gitéšè—æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤çœ‹åˆ°ï¼š 1ls -a åˆ é™¤.gitï¼š 1rm -rf .git Git Workflowæœ¬åœ°directoryâ†’staging area (index)â†’repository Staging Files ç”¨ 1git status æŸ¥çœ‹ï¼Œæ ‡çº¢æ˜¯å› ä¸ºæ–°å»ºçš„ä¸¤ä¸ªtxtæ–‡ä»¶è¿˜æ²¡åœ¨staging areaä¸­ã€‚ ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†ä¸¤ä¸ªæ–‡ä»¶çš„å˜åŒ–ï¼ˆæ–°å»º/åˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æ›´æ”¹ï¼‰å­˜å…¥staging areaä¸­ï¼š 1git add file1.txt file2.txt 1git add *.txt 1git add . ä¸Šé¢ä¸‰ç§æ–¹å¼ï¼Œï¼ˆ1ï¼‰å°±addè¿™ä¸¤ä¸ªæ–‡ä»¶;ï¼ˆ2ï¼‰addæ‰€æœ‰txtæ–‡ä»¶;ï¼ˆ3ï¼‰addæ‰€æœ‰æ–‡ä»¶ ç„¶åŽå†æŸ¥çœ‹ï¼Œå°±ç»¿äº†ï¼š Committing Changesæäº¤åˆ°ä»“åº“ 1git commit -m "Initial commit." Committing Best Practices commitçš„æ—¶å€™æ–‡ä»¶çš„å˜åŒ–é‡åº”è¯¥é€‚ä¸­ï¼ˆä¸è¦å¤ªå¤šï¼Œä¹Ÿä¸è¦å¤ªå°‘ï¼‰ Commit often: æƒ³è¦è®°å½•ä¸‹æŸä¸ªçŠ¶æ€æ—¶ï¼Œå°±commit Make it mean something ä¾‹å¦‚ï¼šå¯¹äºŽä¸¤ä¸ªæ”¹å˜ (1) Bug Fix, (2) Typo æœ€å¥½ä¸è¦ä¸€èµ·commitï¼Œä¸ç„¶ä¸çŸ¥é“æ”¹äº†å•¥ï¼Œæœ€å¥½åˆ†å¼€commit Skipping the Staging Areaä½¿ç”¨ -a é€‰é¡¹è·³è¿‡git add å¯ä»¥å°†ä¸¤ä¸ªé€‰é¡¹ -a å’Œ -m åˆå¹¶å†™æˆ -am 1git commit -am "Fix the bug" Remove Files12345678910111213$ rm file1.txt$ git statusOn branch masterChanges not staged for commit: (use "git add/rm &lt;file&gt;..." to update what will be committed) (use "git restore &lt;file&gt;..." to discard changes in working directory) deleted: file1.txtno changes added to commit (use "git add" and/or "git commit -a")$ git ls-filesfile1.txtfile2.txt åœ¨æœ¬åœ°ç›®å½•ä¸‹åˆ é™¤file1.txtï¼Œä½†æ˜¯ç”¨git ls-filesæŸ¥çœ‹staging areaä¸­çš„æ–‡ä»¶ä¼šå‘çŽ°file1.txtè¿˜åœ¨å…¶ä¸­ã€‚ä½¿ç”¨git addæ›´æ–°staging areaç„¶åŽcommitï¼š 123456789101112131415$ git add file1.txt$ git ls-filesfile2.txt$ git statusOn branch masterChanges to be committed: (use "git restore --staged &lt;file&gt;..." to unstage) deleted: file1.txt$ git commit -m "Remove unused code"[master b184de1] Remove unused code 1 file changed, 7 deletions(-) delete mode 100644 file1.txt é™¤äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼ˆgit rmï¼‰ä¸€æ¬¡æ€§åˆ é™¤æœ¬åœ°ç›®å½•å’Œstaging areaä¸­çš„æ–‡ä»¶ï¼š 123456789101112131415$ git rm file2.txtrm 'file2.txt'$ git ls-files$ git statusOn branch masterChanges to be committed: (use "git restore --staged &lt;file&gt;..." to unstage) deleted: file2.txt$ git commit -m "Remove unused code"[master 3fd1e3e] Remove unused code 1 file changed, 1 deletion(-) delete mode 100644 file2.txt Renaming and Moving Files1234567891011121314151617181920212223242526$ mv file1.txt main.js$ git statusOn branch masterChanges not staged for commit: (use "git add/rm &lt;file&gt;..." to update what will be committed) (use "git restore &lt;file&gt;..." to discard changes in working directory) deleted: file1.txtUntracked files: (use "git add &lt;file&gt;..." to include in what will be committed) main.jsno changes added to commit (use "git add" and/or "git commit -a")$ git add file1.txt$ git add main.jswarning: LF will be replaced by CRLF in main.js.The file will have its original line endings in your working directory$ git statusOn branch masterChanges to be committed: (use "git restore --staged &lt;file&gt;..." to unstage) renamed: file1.txt -&gt; main.js æ–‡ä»¶çš„æ›´åæ¶‰åŠåˆ°ä¸¤ä¸ªå˜åŒ–ï¼ŒåŽŸæ–‡ä»¶file1.txtåˆ é™¤ï¼Œä»¥åŠæ–°æ–‡ä»¶main.jsçš„åˆ›å»ºã€‚ å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¾¿æ·çš„æ–¹å¼ï¼š 123456789101112$ git mv file1.txt main.js$ git statusOn branch masterChanges to be committed: (use "git restore --staged &lt;file&gt;..." to unstage) renamed: file1.txt -&gt; main.js$ git commit -m "Refactor code"[master 70800e8] Refactor code 1 file changed, 0 insertions(+), 0 deletions(-) rename file1.txt =&gt; main.js (100%) æ³¨æ„åˆ°0 insertions(+), 0 deletions(-)ï¼Œæ”¹åè€Œå·²ã€‚ Ignoring Files1234567891011$ mkdir logs$ echo hello &gt; logs/dev.log$ git statusOn branch masterUntracked files: (use "git add &lt;file&gt;..." to include in what will be committed) logs/nothing added to commit but untracked files present (use "git add" to track) ä½†æ˜¯äº‹å®žä¸Šæˆ‘ä»¬å¹¶ä¸æƒ³å°†logæ–‡ä»¶æäº¤ã€‚æ–¹æ³•ï¼šå°† logs/ å†™å…¥.gitignoreä¸­ 1$ echo logs/ &gt; .gitignore ç”¨vscodeæ‰“å¼€æ–‡ä»¶.gitignore 1$ code .gitignore å¯ä»¥åœ¨ .gitignore ä¸­çš„ä¸‹ä¸€è¡Œå†™ä¸Š*.logè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶ç±»åž‹ã€‚ç„¶åŽæäº¤ .gitignore 12345678910111213141516$ git statusOn branch masterUntracked files: (use "git add &lt;file&gt;..." to include in what will be committed) .gitignorenothing added to commit but untracked files present (use "git add" to track)$ git add .gitignorewarning: LF will be replaced by CRLF in .gitignore.The file will have its original line endings in your working directory$ git commit -m "Add gitignore"[master 9ed82f0] Add gitignore 1 file changed, 2 insertions(+) create mode 100644 .gitignore ä¹‹åŽlogæ–‡ä»¶çš„æ”¹å˜éƒ½ä¼šè¢«staging areaå¿½ç•¥äº†ï¼š 12345$ echo hello &gt; logs/main.log$ git statusOn branch masternothing to commit, working tree clean å¯ä»¥çœ‹åˆ°nothing to commitã€‚ â€‹ å¦‚æžœå·²ç»ç”¨ git add ä¸å°å¿ƒå°† log æ–‡ä»¶æäº¤åˆ° staging area äº†ï¼ˆåœ¨å†™å…¥.gitignoreä¹‹å‰å°±äº¤äº†ï¼‰ï¼Œå¯ä»¥ç”¨å‘½ä»¤åˆ é™¤ staging area ä¸­çš„æ–‡ä»¶ã€‚å…ˆ help ä¸€ä¸‹çœ‹çœ‹ç”¨å•¥é€‰é¡¹ï¼š 123456789101112$ git rm -husage: git rm [&lt;options&gt;] [--] &lt;file&gt;... -n, --dry-run dry run -q, --quiet do not list removed files --cached only remove from the index -f, --force override the up-to-date check -r allow recursive removal --ignore-unmatch exit with a zero status even if nothing matched --pathspec-from-file &lt;file&gt; read pathspec from file --pathspec-file-nul with --pathspec-from-file, pathspec elements are separated with NUL character 1$ git rm --cached -r logs/ Short Statusgit status ç»™å‡ºçš„ä¿¡æ¯æ˜“äºŽç†è§£ï¼Œä½†æ˜¯å†—é•¿ï¼š 12345678910111213141516$ echo sky &gt;&gt; file1.js$ echo sky &gt; file2.js$ git statusOn branch masterChanges not staged for commit: (use "git add &lt;file&gt;..." to update what will be committed) (use "git restore &lt;file&gt;..." to discard changes in working directory) modified: file1.jsUntracked files: (use "git add &lt;file&gt;..." to include in what will be committed) file2.jsno changes added to commit (use "git add" and/or "git commit -a") åŠ  -s é€‰é¡¹ï¼š è§‚å¯Ÿ M çš„é¢œè‰²å˜åŒ–ï¼Œgit add ä¹‹åŽ M ç”±çº¢å˜ç»¿ï¼Œ?? å˜ A 12Mï¼šè¡¨ç¤ºmodifiedAï¼šè¡¨ç¤ºadded Viewing the Staged &amp; Unstaged ChangesMotivation: æœ‰æ—¶å€™åœ¨å°†changesä¸Šä¼ åˆ°staging areaæˆ–commitåˆ°repositoryä¹‹å‰ï¼Œè¦å…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼Œæ”¹å¾—å¯¹ä¸å¯¹ã€‚ æŸ¥çœ‹staged changes (åœ¨staging areaä¸­ä½†æ˜¯è¿˜æ²¡commit)ï¼š 12345678910111213141516$ git diff --stageddiff --git a/file1.js b/file1.jsindex ce01362..7633964 100644--- a/file1.js+++ b/file1.js@@ -1 +1,3 @@ hello+sky+sundiff --git a/file2.js b/file2.jsnew file mode 100644index 0000000..f5e95e7--- /dev/null+++ b/file2.js@@ -0,0 +1 @@+sky æŸ¥çœ‹unstaged changesï¼ˆåœ¨æœ¬åœ°ç›®å½•ä¸‹ï¼Œä¸åœ¨staging areaä¸­ï¼‰ï¼š 1$ git diff æ¯”å¦‚åœ¨file1.jsä¸­å°†hello æ”¹ä¸º hello worldï¼š aæ˜¯åœ¨staging areaä¸­çš„copyï¼Œbæ˜¯æœ¬åœ°ç›®å½•ä¸‹çš„copy @@ -1,3 +1,3 @@ è¡¨ç¤ºæ—§ç‰ˆæœ¬ï¼ˆstaging areaä¸­çš„ï¼‰ä»Žç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæœ‰3è¡Œï¼ˆ-1,3ï¼‰ï¼›æ–°ç‰ˆæœ¬ï¼ˆæœ¬åœ°ç›®å½•ä¸‹çš„ï¼‰ä»Žç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæœ‰3è¡Œï¼ˆ+1,3ï¼‰ æ ‡çº¢çš„æ˜¯æ—§ç‰ˆæœ¬å†…å®¹ï¼Œæ ‡ç»¿çš„æ˜¯æ–°ç‰ˆæœ¬å†…å®¹ï¼Œç™½è‰²çš„æ˜¯æœªæ›´æ”¹å†…å®¹ã€‚ Visual Diff Tools1234ðŸ‘‰ KDiff3ðŸ‘‰ P4MergeðŸ‘‰ WinMerge (Windows Only)ðŸ‘‰ VSCode æˆ‘ä»¬é€‰ç”¨VSCodeæ¥å¯è§†åŒ–changesã€‚é…ç½®ï¼š 12345$ git config --global diff.tool vscode$ git config --global difftool.vscode.cmd "code --wait --diff $LOCAL $REMOTE"$ git config --global -e æŸ¥çœ‹unstaged changes: 1$ git difftool æŸ¥çœ‹staged changesï¼ˆæ—§ç‰ˆæœ¬æ˜¯å‰ä¸€æ¬¡æäº¤åˆ°ä»“åº“çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬æ˜¯å¦‚ä»Šåœ¨staging areaä¸­çš„ç‰ˆæœ¬ï¼‰ï¼š 1234567$ git difftool --stagedViewing (1/2): 'file1.js'Launch 'vscode' [Y/n]? yViewing (2/2): 'file2.js'Launch 'vscode' [Y/n]? y Viewing the Historyç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æäº¤åŽ†å²ï¼š 1$ git log æŸ¥çœ‹ç®€çŸ­æè¿° (æœ€è¿‘æ›´æ”¹æ˜¾ç¤ºåœ¨ä¸Šé¢)ï¼š 1$ git log --oneline æ¢æ˜¾ç¤ºé¡ºåº (æœ€è¿‘æ›´æ”¹æ˜¾ç¤ºåœ¨ä¸‹é¢): 1$ git log --oneline --reverse Viewing a Commitå¯ä»¥é€šè¿‡IDæŸ¥çœ‹åŽ†å²commitï¼Œå¦‚æžœIDå‰å‡ ä½å°±å”¯ä¸€æ ‡è¯†äº†æŸåŽ†å²commitï¼Œé‚£ä¹ˆç”¨å‰å‡ ä½å³å¯ã€‚ 1234567891011121314151617181920212223242526272829$ git log --onelinefdb7fb6 (HEAD -&gt; master) add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 Initial commit3fd1e3e Remove unused codeb184de1 Remove unused codedd03e4e Fix the bug3b634ca add Linesa787fca add line568c0fc Initial commit.$ git show 62416commit 62416e293cdb5f7334ea6dc09a8fbb0314eedcc2Author: Stone &lt;masaike@qq.com&gt;Date: Thu Apr 22 11:32:51 2021 +0800 add filesdiff --git a/file1.js b/file1.jsnew file mode 100644index 0000000..ce01362--- /dev/null+++ b/file1.js@@ -0,0 +1 @@+hello ä¹Ÿå¯ä»¥ç”¨HEADï¼š 1234567891011121314$ git show HEAD~1commit 62416e293cdb5f7334ea6dc09a8fbb0314eedcc2Author: Stone &lt;masaike@qq.com&gt;Date: Thu Apr 22 11:32:51 2021 +0800 add filesdiff --git a/file1.js b/file1.jsnew file mode 100644index 0000000..ce01362--- /dev/null+++ b/file1.js@@ -0,0 +1 @@+hello HEADæ˜¯å½“å‰commitçš„reference, HEAD~1æ˜¯æŒ‡ä»ŽHEADå¾€åŽçš„ä¸€ä¸ªcommitï¼Œæ­¤ä¾‹ä¸­å°±æ˜¯IDä¸º62416e2çš„commitã€‚ ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸåŽ†å² commit ä¸­å­˜äºŽ repository çš„å†…å®¹ï¼ˆè€Œä¸æ˜¯changesï¼‰: 12345$ git show HEAD~1:.gitignorelogs/bin/*.log*.bin ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸåŽ†å² commit ä¸­å­˜äºŽ repository çš„æ‰€æœ‰æ–‡ä»¶ï¼š 123456$ git ls-tree HEAD100644 blob 1cd4d4e7fe27c57dc89d6e68d1f535f00382e563 .gitignore040000 tree 38051ae48accaf0025a257eaa7a3a328e1f0fe56 data100644 blob 29887f938f21333a5eee9dfd0decb4b0a207d855 file1.js100644 blob f5e95e70e524ec32d0200e10ba179ab4c5f13884 file2.js100644 blob ce013625030ba8dba906f756967f9e9ca394464a main.js æ ¼å¼ï¼šID, æ–‡ä»¶ç±»åž‹, å”¯ä¸€æ ‡è¯†ç¬¦ (æ ¹æ®æ–‡ä»¶å†…å®¹ç¡®å®šçš„), æ–‡ä»¶å dataæ˜¯ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥ç±»åž‹ä¸ºtreeï¼Œé‡Œé¢æœ‰ä¸ªæ–‡ä»¶main.txtã€‚ æ ¹æ®æ–‡ä»¶å”¯ä¸€æ ‡è¯†ç¬¦æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š 1234567$ git show 3805tree 3805main.txt$ git show f5e95sky f5e95 æ˜¯ file2.js çš„å”¯ä¸€æ ‡è¯†ç¬¦çš„å‰å‡ ä½ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹åªæœ‰ä¸€è¡Œï¼Œå°±æ˜¯ sky 12345æ€»ç»“ï¼šGit ObjectsðŸ‘‰ CommitsðŸ‘‰ Blobs (Files)ðŸ‘‰ Trees (Directories)ðŸ‘‰ Tags Unstaging Filesfile1.jsæœ‰ä¸¤æ¬¡changesï¼Œæˆ‘ä»¬ç”¨ git add å°† file1.js çš„ç¬¬ä¸€ä¸ªå˜åŒ–ä¸Šä¼ åˆ° staging areaä¸­äº†ï¼Œç¬¬äºŒæ¬¡ change è¿˜åœ¨æœ¬åœ°ç›®å½•ä¸­ã€‚ æˆ‘ä»¬ä¸æƒ³åŒæ—¶ commit file1.js å’Œ file2.js ä¸¤ä¸ªæ–‡ä»¶çš„å˜åŒ–ã€‚æ‰€ä»¥è¦ undo è¿™ä¸ª git add æ“ä½œï¼š 1$ git restore --staged file1.js çŽ°åœ¨ file1.js çš„ä¸¤æ¬¡å˜åŒ–éƒ½åªåœ¨æœ¬åœ°ç›®å½•ä¸‹è€Œä¸åœ¨ staging area ä¸­äº†ã€‚ åŽŸç†ï¼šstaging area ä»Žç›®å‰çš„ repository è¯»å– file1.js ã€‚å› ä¸ºä¸¤æ¬¡å˜åŒ–éƒ½è¿˜æ²¡ commit ï¼Œrepository ä¸­çš„ file1.js å°±æ˜¯åŽŸå§‹çš„ (ä¸¤æ¬¡å˜åŒ–ä¹‹å‰çš„)ã€‚ å¦‚æžœè¦æ’¤é”€ file2.js çš„ git add æ“ä½œã€‚repository ä¸­è¿˜æ²¡æœ‰ file2.js, æ‰€ä»¥æ’¤é”€ä¹‹åŽ file2.js æ˜¯ä¸€ä¸ªuntracked file (ç”¨??è¡¨ç¤º)ã€‚ Discarding Local Changesç”¨ 1$ git restore . å¯ä»¥æ’¤é”€æœ¬åœ°ç›®å½•ä¸‹çš„æ”¹å˜ã€‚file2.js ä¾ç„¶æ˜¯untracked fileï¼Œå› ä¸ºæœ¬åœ°ç›®å½•è¦ä»Žstaging area è¯»å–ä¸Šä¸€æ¬¡çŠ¶æ€ï¼Œè€Œstaging area ä¸­æ²¡æœ‰ file2.js, å°±ä¸çŸ¥é“è¯¥åšå•¥ã€‚æ‰€ä»¥è¦ç”¨ 1$ git clean ä»Žä½ çš„å·¥ä½œç›®å½•ä¸­åˆ é™¤æ‰€æœ‰untrackedï¼Œæ²¡æœ‰è¢«ç®¡ç†è¿‡çš„æ–‡ä»¶ã€‚ å‚æ•°è¯´æ˜Žï¼š 123456789101112$ git clean -husage: git clean [-d] [-f] [-i] [-n] [-q] [-e &lt;pattern&gt;] [-x | -X] [--] &lt;paths&gt;... -q, --quiet do not print names of files removed -n, --dry-run dry run -f, --force force -i, --interactive interactive cleaning -d remove whole directories -e, --exclude &lt;pattern&gt; add &lt;pattern&gt; to ignore rules -x remove ignored files, too -X remove only ignored files Restoring a File to an Earlier Versionä¸‹é¢çš„ demo æ˜¾ç¤ºäº†åˆ é™¤äº† file1.js åŽç”¨ git restore ä»ŽåŽ†å² commit ä¸­æ¢å¤æ­¤æ–‡ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233$ git rm file1.jsrm 'file1.js'$ git status -sD file1.js$ git commit -m "Delete file1.js"[master 78daaab] Delete file1.js 1 file changed, 1 deletion(-) delete mode 100644 file1.js$ git log --oneline78daaab (HEAD -&gt; master) Delete file1.js133904b commit file1.ls0f62ff0 remove all js filesfdb7fb6 add data62416e2 add filesfde6777 modifiedf264740 modified9ed82f0 Add gitignore70800e8 Refactor coded6f4cc6 Initial commit3fd1e3e Remove unused codeb184de1 Remove unused codedd03e4e Fix the bug3b634ca add Linesa787fca add line568c0fc Initial commit.$ git restore --source=HEAD~1 file1.js$ git status -s?? file1.js]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>job notes-git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLç¬”è®°(2)--è¿žæŽ¥]]></title>
    <url>%2F2021%2F04%2F20%2F20210420_SQL002%2F</url>
    <content type="text"><![CDATA[Inner Joins (å†…è¿žæŽ¥)1234SELECT order_id, o.customer_id, first_name, last_nameFROM orders oINNER JOIN customers c ON o.customer_id = c.customer_id è¿”å›žè¡¨ordersåœ¨è¡¨customersä¸­æœ‰å¯¹åº”recordçš„é¡¹ oå’Œcåˆ†åˆ«æ˜¯orderså’Œcustomersçš„åˆ«åï¼Œä»¥ç®€åŒ–ä»£ç  å…³é”®å­—INNERå¯çœç•¥ è·¨æ•°æ®åº“è¿žæŽ¥123456USE sql_store; -- é€‰æ‹©äº†æ•°æ®åº“sql_storeä¸ºå½“å‰æ•°æ®åº“SELECT *FROM order_items oiJOIN sql_inventory.products p -- å¦ä¸€ä¸ªæ•°æ®åº“sql_inventory ON oi.product_id = p.product_id è‡ªè¿žæŽ¥å°†è¡¨å’Œè‡ªå·±è¿žæŽ¥ï¼Œä½†æ˜¯ç»™ä¸åŒçš„åˆ«åä»¥åŒºåˆ†ã€‚å¦‚ä¸‹ï¼Œmanagerä¹Ÿæ˜¯ä¸€åå‘˜å·¥ï¼Œå…¶ä¿¡æ¯ä¹Ÿåœ¨è¡¨employeesä¸­ï¼Œç”¨è‡ªè¿žæŽ¥å¯ä»¥å¾—åˆ°employeeå’ŒTAçš„managerçš„å…·ä½“å‘˜å·¥ä¿¡æ¯ã€‚ 123456789USE sql_hr; -- é€‰æ‹©äº†æ•°æ®åº“sql_hrä¸ºå½“å‰æ•°æ®åº“SELECT e.employee_id, e.first_name, m.first_name AS managerFROM employees eJOIN employees m ON e.reports_to = m.employee_id å¤šè¡¨è¿žæŽ¥12345678910111213USE sql_store;SELECT o.order_id, o.order_date, c.first_name, c.last_name, os.name AS statusFROM orders oJOIN customers c ON o.customer_id = c.customer_idJOIN order_statuses os ON o.status = os.order_status_id è¡¨orderså…ˆå’Œè¡¨customersè¿žæŽ¥ï¼Œç„¶åŽä¸Žè¡¨order_statusesè¿žæŽ¥ã€‚ IN è¿ç®—ç¬¦12345678910SELECT *FROM customers-- WHERE state = 'VA' OR state = 'GA' OR state = 'FL'-- ç”¨INæ”¹å†™ï¼šWHERE state IN ('VA', 'GA', 'FL')-- WHERE state NOT IN ('VA', 'GA', 'FL') -- è¿”å›žä¸åœ¨è¿™äº›å·žçš„ records-- è¿™æ ·æ˜¯é”™çš„ï¼šWHERE state = 'VA' OR 'GA' OR 'FL' -- å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç”¨ORè¿žæŽ¥å¸ƒå°”è¡¨è¾¾å¼state = 'VA'å’Œå­—ç¬¦ä¸²'GA' BETWEEN è¿ç®—ç¬¦12345SELECT *FROM customers-- WHERE points &gt;= 1000 AND points &lt;=3000-- æ”¹å†™ä¸ºï¼šWHERE points BETWEEN 1000 AND 3000 1234-- ä¹Ÿå¯ç”¨äºŽéžæ•°å€¼SELECT *FROM customersWHERE birth_date BETWEEN "1990-01-01" AND "2000-01-01" LIKE è¿ç®—ç¬¦1234567891011121314151617181920-- å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…SELECT *FROM customersWHERE last_name LIKE 'b%' -- å¾—åˆ°last nameä»¥'B'æˆ–'b'å¼€å¤´çš„recordsWHERE last_name LIKE 'brush%' -- å¾—åˆ°last nameä»¥â€œbrushâ€å¼€å¤´çš„recordsWHERE last_name LIKE '%b%' -- è¡¨ç¤º'b'å‰åŽå¯ä»¥æœ‰ä»»æ„å­—ç¬¦æ•°('b'åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾å‡ºçŽ°çš†å¯)WHERE last_name LIKE '%y' -- å¾—åˆ°last nameä»¥'y'ç»“å°¾çš„recordsWHERE last_name LIKE '_____y' -- å¾—åˆ°last nameä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦('_'å¡«è¡¥è¡¨ç¤ºä»»æ„å­—ç¬¦)çš„recordsWHERE last_name LIKE 'b____y' -- è¿è¡ŒåŽå¾—åˆ°last nameä»¥'b'å¼€å¤´ä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦çš„record(æœ¬ä¾‹ä¸­ä¸º'Boagey') 123/***SUMMARY**/ % any number of characters_ single character REGEXP è¿ç®—ç¬¦12345678910111213141516171819202122232425262728-- regular expression (REGEXP) æ­£åˆ™è¡¨è¾¾å¼SELECT *FROM customersWHERE last_name LIKE '%field%'-- WHERE last_name REGEXP 'field'WHERE last_name REGEXP '^field' -- last name must starts with "field"WHERE last_name REGEXP 'field$' -- last name must ends with "field"/* use '|' for multiple search pattern */ WHERE last_name REGEXP 'field|mac|rose' -- last name must contains "field" or "mac" or "rose"WHERE last_name REGEXP 'field$|mac|rose' -- last name must ends with "field" or contains "mac"/"rose"WHERE last_name REGEXP '[gim]e' -- last name must contains "ge"/"ie"/"me"WHERE last_name REGEXP 'e[gim]' -- last name must contains "eg"/"ei"/"em"WHERE last_name REGEXP '[a-h]e'-- the same as WHERE last_name REGEXP '[abcdefgh]e' 12345^ beginning$ end| logical or[abcd][a-f] IS NULL è¿ç®—ç¬¦1234SELECT *FROM customersWHERE phone IS NULL -- è¿”å›žæ²¡æœ‰phone(è¯¥å­—æ®µä¸ºNULL)çš„recordsWHERE phone IS NOT NULL -- phoneä¸ä¸ºç©º ORDER BY å­å¥é»˜è®¤æ˜¯æŒ‰ç…§ä¸»é”®ï¼ˆprimary keyï¼‰æŽ’åºï¼Œä½¿ç”¨ORDER BY å­å¥å¯ä»¥æŒ‡å®šæŽ’åºçš„é”® 1234SELECT *FROM customersORDER BY first_name -- æ ¹æ®first_nameå­—æ®µå€¼å‡åºæŽ’åºORDER BY first_name DESC -- æ ¹æ®first_nameå­—æ®µå€¼é™åºæŽ’åº 1234SELECT *FROM customersORDER BY state DESC, first_name --å…ˆæ ¹æ®stateé™åºæŽ’åˆ—ï¼Œstateç›¸åŒçš„æ ¹æ®first_nameå‡åºæŽ’åˆ— 1234-- birth_dateä¸åœ¨é€‰å‡ºæ¥çš„åˆ—é‡Œï¼Œstill workSELECT first_name, last_nameFROM customersORDER BY birth_date LIMIT å­å¥12345SELECT *FROM customersLIMIT 3 -- è¿”å›žå‰3ä¸ªrecordsLIMIT 300 -- 300 &gt; #record, è¿”å›žå…¨éƒ¨recordsLIMIT 6, 3 -- è·³è¿‡å‰6ä¸ªrecordsï¼Œè¿”å›žç¬¬7ï¼Œ8ï¼Œ9ä¸ªrecords]]></content>
      <categories>
        <category>Database</category>
      </categories>
      <tags>
        <tag>job notes-database</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQLç¬”è®°(1)--åŸºç¡€è¯­å¥]]></title>
    <url>%2F2021%2F04%2F20%2F20210420_SQL001%2F</url>
    <content type="text"><![CDATA[SELECT å­å¥ä»Žä¸€å¼ è¡¨ï¼ˆcustomersï¼‰ä¸­é€‰å–æŸäº›åˆ— 123456SELECT first_name, last_name, points, points * 10 + 100 AS "discount factor" -- å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—,ASæ¥renameFROM customers 12SELECT DISTINCT state -- DISTINCT åªä¿ç•™é‡å¤é¡¹ä¸­çš„ä¸€é¡¹FROM customers WHERE å­å¥è¿‡æ»¤ä½œç”¨ï¼Œæ ¹æ®æ¡ä»¶é€‰æ‹©records (å„ä¸ªWHEREå­å¥åªæ˜¯æä¾›ä¸åŒçš„ç¤ºä¾‹ï¼Œè¿è¡Œæ—¶é€‰æ‹©ä¸€ä¸ªWHEREå­å¥ï¼Œå…¶ä½™æ³¨é‡ŠæŽ‰ï¼Œä¸‹æ–‡åŒ) 12345SELECT *FROM customersWHERE state = 'va' -- vaå¤§å°å†™ä¸€æ ·çš„WHERE state &lt;&gt; 'va' -- not in VAWHERE birth_date &gt; '1990-01-01' -- born after 1990/01/01 è¿ç®—ç¬¦æœ‰ï¼š 123456&gt;&gt;=&lt;&lt;==(not equal) != or &lt;&gt; AND, OR, NOT è¿ç®—ç¬¦123SELECT *FROM customersWHERE NOT (birth_date &gt; '1990-01-01' OR points &gt; 1000) ANDä¼˜å…ˆçº§é«˜äºŽOR IN è¿ç®—ç¬¦12345678910SELECT *FROM customers-- WHERE state = 'VA' OR state = 'GA' OR state = 'FL'-- ç”¨INæ”¹å†™ï¼šWHERE state IN ('VA', 'GA', 'FL')-- WHERE state NOT IN ('VA', 'GA', 'FL') -- è¿”å›žä¸åœ¨è¿™äº›å·žçš„ records-- è¿™æ ·æ˜¯é”™çš„ï¼šWHERE state = 'VA' OR 'GA' OR 'FL' -- å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç”¨ORè¿žæŽ¥å¸ƒå°”è¡¨è¾¾å¼state = 'VA'å’Œå­—ç¬¦ä¸²'GA' BETWEEN è¿ç®—ç¬¦12345SELECT *FROM customers-- WHERE points &gt;= 1000 AND points &lt;=3000-- æ”¹å†™ä¸ºï¼šWHERE points BETWEEN 1000 AND 3000 1234-- ä¹Ÿå¯ç”¨äºŽéžæ•°å€¼SELECT *FROM customersWHERE birth_date BETWEEN "1990-01-01" AND "2000-01-01" LIKE è¿ç®—ç¬¦1234567891011121314151617181920-- å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…SELECT *FROM customersWHERE last_name LIKE 'b%' -- å¾—åˆ°last nameä»¥'B'æˆ–'b'å¼€å¤´çš„recordsWHERE last_name LIKE 'brush%' -- å¾—åˆ°last nameä»¥â€œbrushâ€å¼€å¤´çš„recordsWHERE last_name LIKE '%b%' -- è¡¨ç¤º'b'å‰åŽå¯ä»¥æœ‰ä»»æ„å­—ç¬¦æ•°('b'åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾å‡ºçŽ°çš†å¯)WHERE last_name LIKE '%y' -- å¾—åˆ°last nameä»¥'y'ç»“å°¾çš„recordsWHERE last_name LIKE '_____y' -- å¾—åˆ°last nameä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦('_'å¡«è¡¥è¡¨ç¤ºä»»æ„å­—ç¬¦)çš„recordsWHERE last_name LIKE 'b____y' -- è¿è¡ŒåŽå¾—åˆ°last nameä»¥'b'å¼€å¤´ä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦çš„record(æœ¬ä¾‹ä¸­ä¸º'Boagey') 123/***SUMMARY**/ % any number of characters_ single character REGEXP è¿ç®—ç¬¦12345678910111213141516171819202122232425262728-- regular expression (REGEXP) æ­£åˆ™è¡¨è¾¾å¼SELECT *FROM customersWHERE last_name LIKE '%field%'-- WHERE last_name REGEXP 'field'WHERE last_name REGEXP '^field' -- last name must starts with "field"WHERE last_name REGEXP 'field$' -- last name must ends with "field"/* use '|' for multiple search pattern */ WHERE last_name REGEXP 'field|mac|rose' -- last name must contains "field" or "mac" or "rose"WHERE last_name REGEXP 'field$|mac|rose' -- last name must ends with "field" or contains "mac"/"rose"WHERE last_name REGEXP '[gim]e' -- last name must contains "ge"/"ie"/"me"WHERE last_name REGEXP 'e[gim]' -- last name must contains "eg"/"ei"/"em"WHERE last_name REGEXP '[a-h]e'-- the same as WHERE last_name REGEXP '[abcdefgh]e' 12345^ beginning$ end| logical or[abcd][a-f] IS NULL è¿ç®—ç¬¦1234SELECT *FROM customersWHERE phone IS NULL -- è¿”å›žæ²¡æœ‰phone(è¯¥å­—æ®µä¸ºNULL)çš„recordsWHERE phone IS NOT NULL -- phoneä¸ä¸ºç©º ORDER BY å­å¥é»˜è®¤æ˜¯æŒ‰ç…§ä¸»é”®ï¼ˆprimary keyï¼‰æŽ’åºï¼Œä½¿ç”¨ORDER BY å­å¥å¯ä»¥æŒ‡å®šæŽ’åºçš„é”® 1234SELECT *FROM customersORDER BY first_name -- æ ¹æ®first_nameå­—æ®µå€¼å‡åºæŽ’åºORDER BY first_name DESC -- æ ¹æ®first_nameå­—æ®µå€¼é™åºæŽ’åº 1234SELECT *FROM customersORDER BY state DESC, first_name --å…ˆæ ¹æ®stateé™åºæŽ’åˆ—ï¼Œstateç›¸åŒçš„æ ¹æ®first_nameå‡åºæŽ’åˆ— 1234-- birth_dateä¸åœ¨é€‰å‡ºæ¥çš„åˆ—é‡Œï¼Œstill workSELECT first_name, last_nameFROM customersORDER BY birth_date LIMIT å­å¥12345SELECT *FROM customersLIMIT 3 -- è¿”å›žå‰3ä¸ªrecordsLIMIT 300 -- 300 &gt; #record, è¿”å›žå…¨éƒ¨recordsLIMIT 6, 3 -- è·³è¿‡å‰6ä¸ªrecordsï¼Œè¿”å›žç¬¬7ï¼Œ8ï¼Œ9ä¸ªrecords]]></content>
      <categories>
        <category>Database</category>
      </categories>
      <tags>
        <tag>job notes-database</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç»“æž„ä¸Žç®—æ³•ç¬”è®°(1)]]></title>
    <url>%2F2021%2F03%2F12%2F20210312_DongAlgNote%2F</url>
    <content type="text"><![CDATA[æ•°ç»„ä¸Žé“¾è¡¨æ•°æ®ç»“æž„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰ã€‚ é‚£äº›å¤šæ ·åŒ–çš„æ•°æ®ç»“æž„ï¼Œç©¶å…¶æºå¤´ï¼Œéƒ½æ˜¯åœ¨é“¾è¡¨æˆ–è€…æ•°ç»„ä¸Šçš„ç‰¹æ®Šæ“ä½œï¼ŒAPI ä¸åŒè€Œå·² æ•°ç»„ç”±äºŽæ˜¯ç´§å‡‘è¿žç»­å­˜å‚¨,å¯ä»¥éšæœºè®¿é—®ï¼Œé€šè¿‡ç´¢å¼•å¿«é€Ÿæ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œè€Œä¸”ç›¸å¯¹èŠ‚çº¦å­˜å‚¨ç©ºé—´ã€‚ä½†æ­£å› ä¸ºè¿žç»­å­˜å‚¨ï¼Œå†…å­˜ç©ºé—´å¿…é¡»ä¸€æ¬¡æ€§åˆ†é…å¤Ÿï¼Œæ‰€ä»¥è¯´æ•°ç»„å¦‚æžœè¦æ‰©å®¹ï¼Œéœ€è¦é‡æ–°åˆ†é…ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œå†æŠŠæ•°æ®å…¨éƒ¨å¤åˆ¶è¿‡åŽ»ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ï¼›è€Œä¸”ä½ å¦‚æžœæƒ³åœ¨æ•°ç»„ä¸­é—´è¿›è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œæ¯æ¬¡å¿…é¡»æ¬ç§»åŽé¢çš„æ‰€æœ‰æ•°æ®ä»¥ä¿æŒè¿žç»­ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ã€‚ é“¾è¡¨å› ä¸ºå…ƒç´ ä¸è¿žç»­ï¼Œè€Œæ˜¯é æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ•°ç»„çš„æ‰©å®¹é—®é¢˜ï¼›å¦‚æžœçŸ¥é“æŸä¸€å…ƒç´ çš„å‰é©±å’ŒåŽé©±ï¼Œæ“ä½œæŒ‡é’ˆå³å¯åˆ é™¤è¯¥å…ƒç´ æˆ–è€…æ’å…¥æ–°å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ã€‚ä½†æ˜¯æ­£å› ä¸ºå­˜å‚¨ç©ºé—´ä¸è¿žç»­ï¼Œä½ æ— æ³•æ ¹æ®ä¸€ä¸ªç´¢å¼•ç®—å‡ºå¯¹åº”å…ƒç´ çš„åœ°å€ï¼Œæ‰€ä»¥ä¸èƒ½éšæœºè®¿é—®ï¼›è€Œä¸”ç”±äºŽæ¯ä¸ªå…ƒç´ å¿…é¡»å­˜å‚¨æŒ‡å‘å‰åŽå…ƒç´ ä½ç½®çš„æŒ‡é’ˆï¼Œä¼šæ¶ˆè€—ç›¸å¯¹æ›´å¤šçš„å‚¨å­˜ç©ºé—´ã€‚ æ•°æ®ç»“æž„åŸºæœ¬æ“ä½œéåŽ† + è®¿é—®ï¼šå¢žåˆ æŸ¥æ”¹ï¼ˆåœ¨ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå°½å¯èƒ½é«˜æ•ˆåœ°å¢žåˆ æŸ¥æ”¹ï¼‰ æ–¹å¼ï¼šçº¿æ€§-for/whileï¼›éžçº¿æ€§-é€’å½’]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
      <tags>
        <tag>job notes-algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(7)-Visual to Sound Generating Natural Sound for Videos in the Wild]]></title>
    <url>%2F2020%2F12%2F25%2F20201225_VisualToSound%2F</url>
    <content type="text"><![CDATA[ä»»åŠ¡ï¼šä»Žè¾“å…¥çš„è§†é¢‘ä¸­ç›´æŽ¥é¢„æµ‹rawå£°éŸ³ä¿¡å· æ–¹æ³•ï¼šç¼–ç -è§£ç æž¶æž„ï¼Œå³è§†é¢‘ç¼–ç å™¨+éŸ³é¢‘ç”Ÿæˆå™¨ï¼ˆåˆ†å±‚RNNï¼‰ å»ºæ¨¡ï¼šæ¡ä»¶ç”Ÿæˆé—®é¢˜ã€‚è®­ç»ƒä¸€ä¸ªæœ‰æ¡ä»¶çš„ç”Ÿæˆæ¨¡åž‹ä»¥ä»Žè¾“å…¥çš„è§†é¢‘ä¸­åˆæˆrawå£°éŸ³æ³¢å½¢ã€‚ ä¼°è®¡æ¡ä»¶æ¦‚çŽ‡ï¼š p(y_{1},y_{2},...,y_{n}|x_{1},x_{2},...,x_{m})$x_{1},x_{2},â€¦,x_{m}$æ˜¯è¾“å…¥è§†é¢‘å¸§çš„è¡¨ç¤ºï¼›$y_{1},y_{2},â€¦,y_{n}$æ˜¯è¾“å‡ºå£°éŸ³æ³¢å½¢çš„å€¼ï¼ˆå–å€¼ä¸º0~255çš„æ•´æ•°åºåˆ—ï¼‰ã€‚åŽŸå§‹æ³¢å½¢æ ·æœ¬æ˜¯èŒƒå›´ä»Ž-1åˆ°1çš„å®žæ•°å€¼ï¼Œæ–‡ä¸­é‡æ–°ç¼©æ”¾å’Œçº¿æ€§é‡åŒ–å®ƒä»¬åˆ°256ä¸ªbinsã€‚é€šå¸¸$m&lt;&lt;n$ï¼Œå› ä¸ºéŸ³é¢‘çš„é‡‡æ ·çŽ‡è¿œé«˜äºŽè§†é¢‘çš„é‡‡æ ·çŽ‡ã€‚ Sound Generatoré‡‡ç”¨çš„é‡‡æ ·é¢‘çŽ‡ä¸ºï¼š16kHz é—®é¢˜ï¼šåºåˆ—é•¿åº¦å¾ˆé•¿ è§£å†³æ–¹æ³•ï¼šé€‰ç”¨SampleRNNä¸ºå£°éŸ³ç”Ÿæˆå™¨ï¼ˆåŽŸå› ï¼šå…¶ä»Žç²—åˆ°ç»†çš„ç»“æž„ä½¿æ¨¡åž‹èƒ½å¤Ÿç”Ÿæˆéžå¸¸é•¿çš„åºåˆ—ï¼Œæ¯ä¸€å±‚çš„å¾ªçŽ¯ç»“æž„æ•æ‰åˆ°é¥è¿œæ ·æœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ï¼‰ å…·ä½“ï¼š1ï¼‰ç»†èŠ‚å±‚æ˜¯å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰ï¼ŒèŽ·å–ä¸‹ä¸€ä¸ªç²—ç³™å±‚ï¼ˆä¸Šå±‚ï¼‰çš„è¾“å‡ºå’Œå‰é¢çš„$k$ä¸ªæ ·æœ¬ï¼Œä»¥ç”Ÿæˆä¸€ä¸ªæ–°æ ·æœ¬ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ³¢å½¢æ ·æœ¬ï¼ˆå®žæ•°å€¼ï¼Œä»Ž-1åˆ°1ï¼‰è¢«çº¿æ€§é‡åŒ–åˆ°ä»Ž0åˆ°255çš„æ•´æ•°èŒƒå›´ï¼Œå¯ä»¥å°†æœ€ç»†çš„å±‚çš„MLPçœ‹æˆæ˜¯256-ç±»åˆ†ç±»å™¨ï¼Œåœ¨æ¯ä¸ªtimestepé¢„æµ‹å¾—åˆ°ä¸€ä¸ªæ ·æœ¬ï¼ˆç„¶åŽæ˜ å°„å›žå®žå€¼ï¼ŒèŽ·å¾—æœ€ç»ˆæ³¢å½¢ï¼‰ã€‚ 2ï¼‰ç²—ç³™å±‚å¯ä»¥æ˜¯GRU, LSTMæˆ–å…¶ä»–çš„RNNå˜ä½“ã€‚åŒ…å«å¤šä¸ªæ³¢å½¢æ ·æœ¬(å›¾ä¸­ä¸º2ä¸ª)çš„èŠ‚ç‚¹æ„å‘³ç€è¯¥å±‚åŸºäºŽå‰ä¸€ä¸ªtimestepä»¥åŠæ›´ç²—å±‚çš„é¢„æµ‹ï¼Œåœ¨æ¯ä¸ªtimestepå…±åŒé¢„æµ‹å¤šä¸ªæ ·æœ¬ã€‚ Video EncoderFrame-to-frame method x_{i}=V(f_{i})$f_{i}$å’Œ$x_{i}$åˆ†åˆ«æ˜¯è§†é¢‘çš„ç¬¬$i$å¸§å’Œè¯¥å¸§çš„è¡¨å¾ã€‚$V(.)$æ˜¯åœ¨ImageNetä¸Šé¢„å…ˆè®­ç»ƒçš„VGG19ç½‘ç»œçš„fc6ç‰¹å¾æå–æ“ä½œï¼Œ$x_{i}$æ˜¯ä¸€ä¸ª4096ç»´çš„å‘é‡ã€‚åœ¨è¯¥æ¨¡åž‹ä¸­ï¼Œå°†å¸§è¡¨å¾ä¸Žå£°éŸ³ç”Ÿæˆå™¨æœ€ç²—å±‚RNNçš„èŠ‚ç‚¹ï¼ˆæ ·æœ¬ï¼‰ç»Ÿä¸€è¿žæŽ¥ï¼Œå¯¹è§†è§‰ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œå¦‚å›¾3(b)æ‰€ç¤ºï¼ˆå†…å®¹ä»¥ç»¿è‰²è™šçº¿æ¡†è¡¨ç¤ºï¼‰ã€‚ è§†é¢‘ä¸ŽéŸ³é¢‘é‡‡æ ·çŽ‡ä¸åŒçš„é—®é¢˜è§£å†³ï¼šå¯¹äºŽæ¯ä¸ª$x_{i}$ï¼Œé‡å¤$s$æ¬¡ï¼Œå…¶ä¸­ s=\lceil \frac{sr_{audio}}{sr_{video}}\rceil,\quad (``sr"\ means\ sampling\ rate)åªå°†è§†è§‰ç‰¹å¾æä¾›ç»™SampleRNNçš„æœ€ç²—ç³™å±‚ï¼Œå› ä¸ºè¿™ä¸€å±‚å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæŒ‡å¯¼æ‰€æœ‰æ›´ç»†çš„å±‚çš„ç”Ÿæˆä»¥åŠæé«˜è®¡ç®—æ•ˆçŽ‡ã€‚ Sequence-to-sequence methodæå–VGG19ç½‘ç»œçš„fc6ç‰¹å¾ä½œä¸ºæ¯ä¸€å¸§çš„è¡¨å¾ï¼Œç„¶åŽç”¨RNNå¤„ç†ä½œä¸ºè§†é¢‘ç¼–ç å™¨ï¼Œä½¿ç”¨è§†é¢‘ç¼–ç å™¨çš„æœ€åŽä¸€ä¸ªéšè—çŠ¶æ€åˆå§‹åŒ–å£°éŸ³å‘ç”Ÿå™¨çš„æœ€ç²—å±‚RNNçš„éšè—çŠ¶æ€ï¼Œç„¶åŽå¼€å§‹å£°éŸ³ç”Ÿæˆã€‚æ­¤æ—¶å£°éŸ³ç”Ÿæˆä»»åŠ¡å˜ä¸ºï¼š p(y_{1},y_{2},...,y_{n}|x_{1},x_{2},...,x_{m})=\prod\limits^{n}_{i=1}p(y_{i}|H,y_{1},...,y_{i-1})$H$è¡¨ç¤ºè§†é¢‘ç¼–ç RNNçš„æœ€åŽä¸€ä¸ªéšè—çŠ¶æ€æˆ–ç­‰æ•ˆçš„å£°éŸ³å‘ç”Ÿå™¨æœ€ç²—ç³™å±‚RNNçš„åˆå§‹éšè—çŠ¶æ€ã€‚ è§†é¢‘ä¸ŽéŸ³é¢‘é‡‡æ ·çŽ‡ä¸åŒçš„é—®é¢˜è§£å†³ï¼šä¸åƒä¸Šé¢æåˆ°çš„åŸºäºŽå¸§çš„æ¨¡åž‹ä¸­æ˜Žç¡®åœ°å¼ºåˆ¶è§†é¢‘å¸§å’Œæ³¢å½¢æ ·æœ¬ä¹‹é—´çš„å¯¹é½ã€‚åœ¨è¿™ä¸ªåºåˆ—åˆ°åºåˆ—æ¨¡åž‹ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›æ¨¡åž‹é€šè¿‡ç¼–ç å’Œè§£ç æ¥å­¦ä¹ è¿™ä¸¤ç§æ¨¡å¼ä¹‹é—´çš„å¯¹é½ã€‚ Flow-based methodMotivï¼šè§†è§‰é¢†åŸŸçš„è¿åŠ¨ä¿¡å·ï¼Œè™½ç„¶æœ‰æ—¶å¾ˆå¾®å°ï¼Œä½†å¯¹äºŽåˆæˆçœŸå®žä¸”åŒæ­¥è‰¯å¥½çš„å£°éŸ³æ˜¯è‡³å…³é‡è¦çš„ã€‚ æ–¹æ¡ˆï¼šå¢žåŠ ä¸€ä¸ªåŸºäºŽå…‰æµçš„æ·±åº¦ç‰¹å¾ä»¥æ˜Žç¡®æ•èŽ·è¿åŠ¨ä¿¡å·ã€‚ä¸Žåºåˆ—åˆ°åºåˆ—æ–¹æ³•ä¸åŒä¹‹å¤„ä¸º x_{i}=cat[V(f_{i}),F(o_{i})]$o_{i}$æ˜¯ç¬¬$i$å¸§çš„å…‰æµï¼Œ$F(.)$æ˜¯æå–åŸºäºŽå…‰æµçš„æ·±åº¦ç‰¹å¾çš„å‡½æ•°ï¼ˆéžå­¦ä¹ å¾—åˆ°ï¼‰ã€‚ Visual to Sound: Generating Natural Sound for Videos in the Wild]]></content>
      <categories>
        <category>Visual Sound</category>
      </categories>
      <tags>
        <tag>paper notes-visual sound</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(6)-Visually Indicated Sounds]]></title>
    <url>%2F2020%2F12%2F25%2F20201225_VisuallyIndicatedSound%2F</url>
    <content type="text"><![CDATA[Sound Representationè®¡ç®—å£°éŸ³ç‰¹å¾çš„æ–¹æ³•ï¼šå°†å£°æ³¢$w(t)$åˆ†è§£ä¸ºå­å¸¦åŒ…ç»œ$s_{n}(t)$ï¼ˆå°†å£°æ³¢æ»¤æ³¢ç„¶åŽåº”ç”¨éžçº¿æ€§ï¼‰ã€‚1ï¼‰åœ¨ç­‰æ•ˆçŸ©å½¢å¸¦å®½(ERB)å°ºåº¦ä¸Šåº”ç”¨40ä¸ªå¸¦é€šæ»¤æ³¢å™¨$f_{n}$(åŠ ä¸Šä¸€ä¸ªä½Žé€šå’Œé«˜é€šæ»¤æ³¢å™¨)ï¼Œå¹¶å–å“åº”çš„å¸Œå°”ä¼¯ç‰¹åŒ…ç»œçº¿ï¼›2ï¼‰å°†åŒ…ç»œä¸‹é‡‡åˆ°90Hzï¼ˆçº¦ä¸º3æ ·æœ¬/å¸§ï¼‰å¹¶åŽ‹ç¼©ã€‚ s_{n}=D(|(w*f_{n})+jH(w*f_{n})|)^{c}$H$æ˜¯å¸Œå°”ä¼¯ç‰¹å˜æ¢ï¼Œ$D$è¡¨ç¤ºä¸‹é‡‡æ ·ï¼ŒåŽ‹ç¼©å¸¸æ•°$c=0.3$ã€‚ç”±æ­¤äº§ç”Ÿçš„è¡¨ç¤ºè¢«ç§°ä¸ºè€³èœ—å›¾ï¼ˆcochleagramï¼‰ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œæ’žå‡»å£°å¦‚ä½•æ•æ‰ææ–™çš„å±žæ€§?ä¸ºäº†ä»Žç»éªŒä¸Šè¯„æµ‹è¿™ä¸€ç‚¹ï¼Œæ–‡ç« ä½¿ç”¨å­å¸¦åŒ…ç»œä½œä¸ºç‰¹å¾å‘é‡ï¼Œè®­ç»ƒäº†ä¸€ä¸ªçº¿æ€§æ”¯æŒå‘é‡æœºæ¥é¢„æµ‹æ•°æ®åº“ä¸­çš„å£°éŸ³ç”±å“ªä¸ªææ–™å‘å‡ºã€‚æ–‡ç« å¯¹è®­ç»ƒé›†é‡æ–°é‡‡æ ·ï¼Œä½¿æ¯ä¸ªç±»åŒ…å«ç›¸åŒæ•°é‡çš„æ’žå‡»å£°(æ¯ç±»260ä¸ª)ã€‚æœ€ç»ˆå¾—åˆ°çš„ææ–™åˆ†ç±»å™¨å…·æœ‰45.8% (chance = 5.9%)çš„åˆ†ç±»å¹³å‡ç²¾åº¦(å³æ¯ç±»ç²¾åº¦å€¼çš„å¹³å‡å€¼)ï¼Œå…¶æ··æ·†çŸ©é˜µå¦‚å›¾3(b)æ‰€ç¤ºã€‚è¿™äº›ç»“æžœè¡¨æ˜Žï¼Œæ’žå‡»å£°ä¼ è¾¾äº†æœ‰å…³ææ–™çš„é‡è¦ä¿¡æ¯ï¼Œå› æ­¤ï¼Œå¦‚æžœä¸€ä¸ªç®—æ³•èƒ½å¤Ÿå­¦ä¹ ä»Žå›¾åƒä¸­å‡†ç¡®é¢„æµ‹è¿™äº›å£°éŸ³ï¼Œå®ƒå°±ä¼šæœ‰å…³äºŽææ–™ç±»åˆ«çš„éšå«çŸ¥è¯†ã€‚ Predicting visually indicated soundså°†æ­¤ä»»åŠ¡å»ºæ¨¡ä¸ºä¸€ä¸ªå›žå½’é—®é¢˜ï¼Œç›®æ ‡æ˜¯å°†ä¸€ä¸ªè§†é¢‘å¸§åºåˆ—æ˜ å°„ä¸ºä¸€ä¸ªå£°é¢‘ç‰¹å¾åºåˆ—ã€‚ä½¿ç”¨çš„æ¨¡åž‹æ˜¯RNNï¼Œä»¥é¢œè‰²å’Œè¿åŠ¨ï¼ˆmotionï¼‰ä¿¡æ¯ä½œä¸ºè¾“å…¥ï¼Œé¢„æµ‹å‡ºå£°é¢‘æ³¢å½¢çš„å­å¸¦åŒ…ç»œã€‚æœ€åŽï¼Œä»Žå£°éŸ³ç‰¹å¾ä¸­äº§ç”Ÿæ³¢å½¢ã€‚ Regressing sound featuresè¾“å…¥å›¾åƒåºåˆ—ï¼š$I_{1}, I_{2}, â€¦, I_{N}$ è¾“å‡ºå£°éŸ³ç‰¹å¾åºåˆ—ï¼š$\mathop{s_{1}}\limits ^{\rightarrow}, \mathop{s_{2}}\limits ^{\rightarrow}, \mathop{s_{T}}\limits ^{\rightarrow}, where \mathop{s_{t}}\limits ^{\rightarrow}\in \mathbb{R}^{42}$ è¿™äº›å£°éŸ³ç‰¹å¾å¯¹åº”äºŽå›¾4ä¸­æ‰€ç¤ºçš„è€³èœ—å—ã€‚æ–‡ç« ä½¿ç”¨å¾ªçŽ¯ç¥žç»ç½‘ç»œ(RNN)æ¥è§£å†³è¿™ä¸ªå›žå½’é—®é¢˜ï¼Œå®ƒå°†å·ç§¯ç¥žç»ç½‘ç»œ(CNN)è®¡ç®—çš„å›¾åƒç‰¹å¾ä½œä¸ºè¾“å…¥ã€‚ å›¾åƒè¡¨ç¤ºï¼šå¦‚ä½•è¡¨ç¤ºè¿åŠ¨ï¼ˆmotionï¼‰ä¿¡æ¯ï¼Ÿè®¡ç®—æ¯ä¸€å¸§çš„spacetimeå›¾åƒï¼Œå³ä¸‰ä¸ªé€šé“æ˜¯ä¸Šä¸€å¸§ã€å½“å‰å¸§å’Œä¸‹ä¸€å¸§ç°åº¦ç‰ˆæœ¬çš„å›¾åƒã€‚å¯¹äºŽæ¯ä¸€å¸§$t$ï¼Œé€šè¿‡æ‹¼æŽ¥å¸§$t$çš„spacetimeå›¾åƒå’Œç¬¬1å¸§çš„é¢œè‰²å›¾åƒçš„CNNç‰¹å¾æ¥æž„å»ºè¾“å…¥ç‰¹å¾å‘é‡$x_{t}$ï¼Œå³ x_{t}=[\phi(F_{t}),\phi(I_{1})]æ–‡ç« ä¸­è®­ç»ƒçš„ä¸¤ç§æ–¹å¼ï¼š1ï¼‰ä»Žé›¶å¼€å§‹åˆå§‹åŒ–CNNï¼Œç„¶åŽå’ŒRNNä¸€èµ·è®­ç»ƒå®ƒï¼›2ï¼‰ç”¨ä¸€ä¸ªä¸ºImageNetåˆ†ç±»è®­ç»ƒçš„ç½‘ç»œçš„æƒå€¼åˆå§‹åŒ–CNNã€‚å½“ä½¿ç”¨é¢„è®­ç»ƒæ—¶ï¼Œä»Žå·ç§¯å±‚ä¸­é¢„è®¡ç®—ç‰¹å¾ï¼Œå¹¶ä»…å¯¹å®Œå…¨è¿žæŽ¥çš„å±‚è¿›è¡Œå¾®è°ƒã€‚ å£°éŸ³é¢„æµ‹æ¨¡åž‹ï¼šä½¿ç”¨åŸºäºŽLSTMçš„RNNæ¨¡åž‹ã€‚ä¸ºäº†è¡¥å¿è§†é¢‘å’ŒéŸ³é¢‘é‡‡æ ·çŽ‡ä¹‹é—´çš„å·®å¼‚ï¼Œæ–‡ç« ä¸­å¤åˆ¶æ¯ä¸ªCNNç‰¹å¾å‘é‡$k$æ¬¡ï¼ˆæ–‡ç« ä¸­ä½¿ç”¨$k=3$ï¼‰ k=\lfloor T/N\rfloorç”±æ­¤å¾—åˆ°ä¸Žå£°éŸ³ç‰¹å¾åºåˆ—ç­‰é•¿çš„CNNç‰¹å¾åºåˆ—$x_{1}, x_{2}, â€¦, x_{N}$ã€‚åœ¨RNNçš„æ¯ä¸ªtimestepï¼Œæ–‡ç« ä¸­ä½¿ç”¨å½“å‰å›¾åƒç‰¹å¾å‘é‡$x_{t}$æ¥æ›´æ–°éšè—å˜é‡$h_{t}$ï¼Œç„¶åŽé€šè¿‡ä¸€ä¸ªä»¿å°„å˜æ¢å¾—åˆ°å£°éŸ³ç‰¹å¾ã€‚ä¸ºäº†ä½¿å­¦ä¹ é—®é¢˜æ›´ç®€å•ï¼Œæ–‡ä¸­ä½¿ç”¨PCAåœ¨æ¯ä¸ªæ—¶é—´æ­¥é•¿çš„42ç»´ç‰¹å¾å‘é‡æŠ•å½±åˆ°10ç»´ç©ºé—´ï¼Œç„¶åŽé¢„æµ‹è¿™ä¸ªä½Žç»´å‘é‡ã€‚å¯¹ç½‘ç»œè¿›è¡Œè¯„ä¼°æ—¶ï¼Œåæ±‚PCAå˜æ¢ä»¥èŽ·å¾—å£°éŸ³ç‰¹å¾ã€‚ æ–‡ç« ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ä»¥Caffeå…±åŒè®­ç»ƒRNNå’ŒCNNã€‚å®ƒæœ‰åŠ©äºŽæ”¶æ•›åŽ»é™¤dropoutå’Œå‰ªè¾‘å¤§çš„æ¢¯åº¦ã€‚å½“ä»Žå¤´å¼€å§‹è®­ç»ƒæ—¶ï¼Œæ–‡ä¸­é€šè¿‡å¯¹è§†é¢‘è¿›è¡Œè£å‰ªå’Œé•œåƒè½¬æ¢æ¥å¢žå¼ºæ•°æ®ã€‚æ–‡ä¸­ä¹Ÿä½¿ç”¨å¤šä¸ªLSTMå±‚ï¼ˆæ•°é‡å–å†³äºŽä»»åŠ¡ï¼‰ã€‚ Generating a waveformé—®é¢˜ï¼šå¦‚ä½•ä»Žå£°éŸ³ç‰¹å¾ä¸­äº§ç”Ÿå£°æ³¢ï¼Ÿ ç®€å•å‚æ•°ç»¼åˆæ³•ï¼šè¿­ä»£åœ°å°†å­å¸¦åŒ…ç»œåŠ åˆ°ç™½å™ªå£°æ ·æœ¬ä¸Š(æ–‡ä¸­åªä½¿ç”¨äº†ä¸€æ¬¡è¿­ä»£)ã€‚è¿™ç§æ–¹æ³•å¯¹äºŽæ£€æŸ¥éŸ³é¢‘ç‰¹å¾æ‰€æ•èŽ·çš„ä¿¡æ¯éžå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»£è¡¨äº†ä»Žç‰¹å¾åˆ°å£°éŸ³çš„ç›´æŽ¥è½¬æ¢ã€‚ å¯¹äºŽäº§ç”Ÿå¯¹äºŽäººè€³ä¼¼æ˜¯è€Œéžçš„å£°éŸ³çš„ä»»åŠ¡ï¼Œåœ¨ä»Žç‰¹å¾åˆ°æ³¢å½¢çš„è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œå…ˆæ–½åŠ ä¸€ä¸ªå¼ºçš„è‡ªç„¶å£°éŸ³æ˜¯æ›´æœ‰æ•ˆçš„ã€‚å› æ­¤ä½¿ç”¨åŸºäºŽå®žä¾‹çš„åˆæˆæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†å£°éŸ³ç‰¹å¾çš„çª—å£æ•æ‰åˆ°è®­ç»ƒé›†ä¸­æœ€æŽ¥è¿‘çš„æ ·æœ¬ä¸Šã€‚æ–‡ä¸­é€šè¿‡æ‹¼æŽ¥é¢„æµ‹çš„å£°éŸ³ç‰¹å¾$\mathop{s_{1}}\limits ^{\rightarrow}, \mathop{s_{2}}\limits ^{\rightarrow}, â€¦, \mathop{s_{T}}\limits ^{\rightarrow}$ï¼ˆæˆ–å®ƒä»¬çš„ä¸€ä¸ªå­åºåˆ—ï¼‰å½¢æˆä¸€ä¸ªæŸ¥è¯¢å‘é‡ï¼Œåœ¨$L_{1}$è·ç¦»æµ‹é‡çš„è®­ç»ƒé›†ä¸­å¯»æ‰¾å…¶æœ€è¿‘çš„é‚»å±…ï¼Œå¹¶ä¼ é€’ç›¸åº”çš„æ³¢å½¢ã€‚ é¡¹ç›®ç½‘å€]]></content>
      <categories>
        <category>Visual Sound</category>
      </categories>
      <tags>
        <tag>paper notes-visual sound</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(5)-The Visual Microphone Passive Recovery of Sound from Video]]></title>
    <url>%2F2020%2F12%2F22%2F20201222_VisualMicrophone%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹çŽ°è±¡ï¼šå£°éŸ³åˆ°è¾¾ç‰©ä½“ä¼šåœ¨ç‰©ä½“è¡¨é¢å¼•èµ·å¾®å°æŒ¯åŠ¨ã€‚ åšæ³•ï¼šä½¿ç”¨ç‰©ä½“çš„é«˜é€Ÿè§†é¢‘æå–å¾®å°æŒ¯åŠ¨ï¼Œéƒ¨åˆ†æ¢å¤ï¼ˆé€ æˆæŒ¯åŠ¨çš„ï¼‰å£°éŸ³ã€‚ å…·ä½“ï¼š1ï¼‰ä»Žä¸€ç³»åˆ—ä¸åŒç‰¹æ€§çš„ç‰©ä½“çš„é«˜é€Ÿè¿žç»­é•œå¤´ä¸­æ¢å¤å£°éŸ³ï¼› â€‹ 2ï¼‰ä½¿ç”¨çœŸå®žå’Œä»¿çœŸæ•°æ®æ¥è¯„æµ‹é‚£äº›å½±å“äº†å¯è§†åŒ–åœ°æ¢å¤å£°éŸ³çš„å› ç´ ï¼› â€‹ 3ï¼‰å£°éŸ³æ¢å¤è´¨é‡è¯„ä»·æŒ‡æ ‡ï¼šå¯ç†è§£æ€§ï¼ˆintelligibilityï¼‰ã€SNRï¼›ç›´æŽ¥å¯¹æ¯”è¾“å…¥å’Œæ¢å¤å‡ºæ¥çš„ä¿¡å·ï¼› â€‹ 4ï¼‰æŽ¢ç´¢å¦‚ä½•åˆ©ç”¨æ™®é€šç”¨æˆ·ç›¸æœºçš„å·å¸˜å¿«é—¨ï¼ˆrolling shutterï¼‰ä»Žè€Œä»Žæ ‡å‡†å¸§çŽ‡è§†é¢‘ä¸­æ¢å¤å‡ºå£°éŸ³ï¼›ä½¿ç”¨æ‰€ææ–¹æ³•çš„ç©ºé—´åˆ†è¾¨çŽ‡æ¥å¯è§†åŒ–å£°éŸ³å¼•èµ·çš„æŒ¯åŠ¨æ˜¯å¦‚ä½•éšç€ç‰©ä½“è¡¨é¢å˜åŒ–çš„ï¼Œä»¥ä¹‹æ¢å¤ç‰©ä½“çš„æŒ¯åŠ¨æ¨¡å¼ã€‚ Keywordsï¼šè¿œç¨‹å£°éŸ³é‡‡é›†ï¼›è§†é¢‘ä¸­çš„å£°éŸ³ï¼›å¯è§†åŒ–å£°å­¦ã€‚ Introductionæè¿°ï¼šå£°éŸ³åˆ°è¾¾æŸç‰©å“ â†’ 1ï¼‰ç‰©å“è¡¨é¢è·Ÿéšå‘¨å›´ä»‹è´¨ç§»åŠ¨ OR 2ï¼‰æ ¹æ®å…¶æŒ¯åŠ¨æ¨¡å¼å‘ç”Ÿå½¢å˜ã€‚ åº”ç”¨åœºæ™¯ï¼šå£°éŸ³å¼•èµ·ç‰©ä½“æŒ¯åŠ¨çš„çŽ°è±¡è¢«ç”¨äºŽè¿œç¨‹å£°éŸ³é‡‡é›†ï¼Œå¹¶åœ¨ç›‘è§†å’Œå®‰é˜²æ–¹é¢æœ‰é‡è¦åº”ç”¨ï¼Œå¦‚åœ¨è¿œå¤„çªƒå¬è°ˆè¯ã€‚è¿œç¨‹å£°éŸ³é‡‡é›†çš„çŽ°æœ‰æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯ç§¯æžï¼ˆactiveï¼‰çš„ï¼Œéœ€è¦å°†ä¸€ä¸ªæ¿€å…‰æŸæˆ–patternæŠ•å°„åˆ°æŒ¯åŠ¨è¡¨é¢ã€‚ æœ¬æ–‡è§‚å¯Ÿï¼šåªéœ€è¦ç‰©ä½“çš„é«˜é€Ÿè§†é¢‘ï¼Œå£°éŸ³å¼•èµ·çš„ç‰©ä½“æŒ¯åŠ¨é€šå¸¸èƒ½å¤Ÿäº§ç”Ÿè¶³å¤Ÿçš„è§†è§‰ä¿¡å·æ¥éƒ¨åˆ†æ¢å¤å‡ºè¯¥å£°éŸ³ã€‚ æœ¬æ–‡è´¡çŒ®ï¼šæå‡ºä¸€ä¸ªæ¶ˆæžçš„ä»Žè§†é¢‘ä¸­æ¢å¤å£°éŸ³ä¿¡å·çš„æ–¹æ³•ã€‚è§†è§‰ä¸Šæ£€æµ‹å¾®å°ç‰©ä½“æŒ¯åŠ¨â†’å°†æŒ¯åŠ¨è½¬å›žéŸ³é¢‘ä¿¡å·ï¼ˆä½¿å¾—æ—¥å¸¸ç‰©å“å˜æˆæ½œè—çš„éº¦å…‹é£Žï¼‰ã€‚åšæ³•ï¼š1ï¼‰ä½¿ç”¨é«˜é€Ÿæ‘„åƒæœºå°†ç‰©ä½“è§†é¢‘ï¼›2ï¼‰åœ¨ä¸€ä¸ªComplex steerable pyramid (CSP)ï¼ˆå»ºç«‹åœ¨è§†é¢‘ä¸Šï¼‰çš„ç»´åº¦ä¸Šæå–å±€éƒ¨è¿åŠ¨ä¿¡å·ï¼›3ï¼‰è¿™äº›å±€éƒ¨ä¿¡å·è¢«å¯¹é½å¹¶å–å¹³å‡ï¼Œå¾—åˆ°ä¸€ä¸ªå•ä¸€çš„ä¸€ç»´è¿åŠ¨ä¿¡å·ï¼Œè¯¥ä¿¡å·æ•æ‰å¯¹è±¡éšæ—¶é—´çš„å…¨å±€è¿åŠ¨ï¼›4ï¼‰è¿›ä¸€æ­¥æ»¤æ³¢å’ŒåŽ»å™ªï¼Œå¾—åˆ°æ¢å¤å‡ºæ¥çš„å£°éŸ³ã€‚ å¯¹æ¯”ç§¯æžæ–¹æ³•ï¼šæ¢å¤æ•ˆæžœä¸å¦‚ç§¯æžæ–¹æ³•ï¼›ä½†æ˜¯ä¼˜ç‚¹æœ‰ 1ï¼‰å¯¹äºŽçº¹ç†ç‰©ä½“å’Œå…‰ç…§è‰¯å¥½çš„åœºæ™¯ä¸éœ€è¦æä¾›ç§¯æžç…§æ˜Žï¼›2ï¼‰é™¤äº†é«˜é€Ÿæ‘„åƒæœºå¤–æ— éœ€é¢å¤–çš„ä¼ æ„Ÿå™¨æˆ–æ£€æµ‹æ¨¡å—ï¼›3ï¼‰æ— éœ€å›žå°„æˆ–åå°„æŒ¯åŠ¨è¡¨é¢ï¼ˆåŒºåˆ«äºŽæ¿€å…‰éº¦å…‹é£Žï¼‰ï¼›4ï¼‰æ²¡æœ‰å¯¹ç›¸å¯¹äºŽç›¸æœºçš„è¡¨é¢æ–¹å‘æ–½åŠ æ˜Žæ˜¾çš„çº¦æŸï¼›5ï¼‰äº§ç”Ÿäº†ä¸€ä¸ªå£°éŸ³çš„ç©ºé—´æµ‹é‡ï¼Œå¯ç”¨äºŽåˆ†æžç‰©å“ä¸­å£°éŸ³å¼•èµ·çš„å½¢å˜ã€‚ è®¨è®ºï¼šè™½ç„¶å£°éŸ³å¯ä»¥ç©¿é€å¤§å¤šæ•°ç‰©è´¨ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰©ä½“å’Œææ–™éƒ½èƒ½å¾ˆå¥½åœ°è¿›è¡Œè§†è§‰å£°éŸ³æ¢å¤ã€‚å£°æ³¢åœ¨ææ–™ä¸­çš„ä¼ æ’­å–å†³äºŽå¤šç§å› ç´ ï¼Œå¦‚ææ–™çš„å¯†åº¦å’Œå¯åŽ‹ç¼©æ€§ï¼Œä»¥åŠç‰©ä½“çš„å½¢çŠ¶ã€‚æ–‡ç« è¿›è¡Œå¯¹ç…§å®žéªŒï¼Œæµ‹é‡äº†ä¸åŒç‰©ä½“å’Œææ–™å¯¹å·²çŸ¥å’ŒæœªçŸ¥å£°éŸ³çš„ååº”ï¼Œå¹¶è¯„ä¼°æ–‡ç« æ‰€ææŠ€æœ¯å¯¹äºŽä»Žé«˜é€Ÿè§†é¢‘ä¸­æ¢å¤å£°éŸ³çš„èƒ½åŠ›ã€‚ Related Workä¼ ç»Ÿéº¦å…‹é£Žçš„å·¥ä½œåŽŸç†æ˜¯å°†å†…éƒ¨è†œç‰‡çš„è¿åŠ¨è½¬åŒ–ä¸ºç”µä¿¡å·ã€‚è†œç‰‡çš„è®¾è®¡ä½¿å…¶åœ¨å£°åŽ‹ä¸‹å®¹æ˜“ç§»åŠ¨ï¼Œå› æ­¤å®ƒçš„è¿åŠ¨å¯ä»¥è¢«è®°å½•ä¸‹æ¥å¹¶è§£é‡Šä¸ºéŸ³é¢‘ã€‚æ¿€å…‰éº¦å…‹é£Žçš„å·¥ä½œåŽŸç†ä¸Žæ­¤ç±»ä¼¼ï¼Œä½†å®ƒæµ‹é‡çš„æ˜¯ä¸€ä¸ªé¥è¿œç‰©ä½“çš„è¿åŠ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†ç‰©ä½“ä½œä¸ºä¸€ä¸ªå¤–éƒ¨è†œç‰‡ã€‚è¿™æ˜¯é€šè¿‡è®°å½•æ¿€å…‰å¯¹ç‰©ä½“è¡¨é¢çš„åå°„æ¥å®žçŽ°çš„ã€‚æœ€åŸºæœ¬çš„æ¿€å…‰éº¦å…‹é£Žè®°å½•åå°„æ¿€å…‰çš„ç›¸ä½ï¼Œä»¥æ¿€å…‰æ³¢é•¿ä½œæ¨¡å¾—åˆ°ç‰©ä½“çš„è·ç¦»ã€‚æ¿€å…‰å¤šæ™®å‹’æµ‹æŒ¯ä»ª(LDV)é€šè¿‡æµ‹é‡åå°„æ¿€å…‰çš„å¤šæ™®å‹’é¢‘ç§»æ¥ç¡®å®šåå°„é¢é€Ÿåº¦ï¼Œä»Žè€Œè§£å†³ç›¸ä½åŒ…è£¹çš„æ¨¡ç³Šæ€§ã€‚è¿™ä¸¤ç§ç±»åž‹çš„æ¿€å…‰éº¦å…‹é£Žéƒ½å¯ä»¥ä»Žå¾ˆè¿œçš„è·ç¦»æ¢å¤é«˜è´¨é‡çš„éŸ³é¢‘ï¼Œä½†ä¾èµ–äºŽæ¿€å…‰å’ŒæŽ¥æ”¶å™¨ç›¸å¯¹äºŽå…·æœ‰é€‚å½“åå°„æ¯”çš„åœ°é¢çš„ç²¾ç¡®å®šä½ã€‚ Zalevskyç­‰äººé€šè¿‡ä½¿ç”¨å¤±ç„¦é«˜é€Ÿç›¸æœºæ¥è®°å½•åå°„æ¿€å…‰æ•£æ–‘æ¨¡å¼çš„å˜åŒ–ï¼Œè§£å†³äº†å…¶ä¸­çš„ä¸€äº›å±€é™æ€§ã€‚ä»–ä»¬çš„å·¥ä½œå…è®¸æŽ¥æ”¶å™¨çš„å®šä½æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†ä»ç„¶ä¾èµ–äºŽè®°å½•åå°„æ¿€å…‰ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæœ¬æ–‡çš„æŠ€æœ¯ä¸ä¾èµ–äºŽä¸»åŠ¨ç…§æ˜Žã€‚ æœ¬æ–‡æ–¹æ³•ä¾èµ–äºŽä»Žè§†é¢‘ä¸­æå–æžå…¶ç»†å¾®è¿åŠ¨çš„èƒ½åŠ›ï¼Œå› è€Œä¹Ÿä¸Žå¯¹è¿™äº›è¿åŠ¨è¿›è¡Œæ”¾å¤§å’Œå¯è§†åŒ–çš„å·¥ä½œæœ‰å…³ã€‚è¿™äº›å·¥ä½œä¾§é‡äºŽå°è¿åŠ¨çš„å¯è§†åŒ–ï¼Œè€Œæœ¬æ–‡ä¾§é‡äºŽæµ‹é‡è¿™äº›è¿åŠ¨å¹¶åˆ©ç”¨å®ƒä»¬æ¥æ¢å¤å£°éŸ³ã€‚æœ¬æ–‡å·¥ä½œä¸­ä½¿ç”¨çš„å±€éƒ¨è¿åŠ¨ä¿¡å·æ¥è‡ªSimoncelliç­‰äººæå‡ºçš„Complex steerable pyramid (CSP)ä¸­çš„ç›¸ä½å˜åŒ–ï¼Œå› ä¸ºè¿™äº›å˜åŒ–è¢«è¯æ˜Žéžå¸¸é€‚åˆäºŽè§†é¢‘ä¸­å¾®å°åŠ¨ä½œçš„æ¢å¤ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨å…¶ä»–æŠ€æœ¯æ¥è®¡ç®—å±€éƒ¨è¿åŠ¨ä¿¡å·ã€‚ä¾‹å¦‚ï¼Œç»å…¸çš„å…‰æµå’Œç‚¹ç›¸å…³æ–¹æ³•åœ¨ä¹‹å‰çš„è§†è§‰æŒ¯åŠ¨ä¼ æ„Ÿå·¥ä½œä¸­è¢«æˆåŠŸåœ°ä½¿ç”¨ã€‚ç”±äºŽæœ¬æ–‡æ–¹æ³•çš„è¾“å‡ºæ˜¯å•ä¸ªæŒ¯åŠ¨ç‰©ä½“çš„ä¸€ç»´è¿åŠ¨ä¿¡å·ï¼Œå› è€Œèƒ½å¤Ÿå¯¹è¾“å…¥è§†é¢‘ä¸­çš„æ‰€æœ‰åƒç´ è¿›è¡Œå¹³å‡ï¼Œå¹¶åœ¨åƒåˆ†ä¹‹ä¸€åƒç´ çš„æ•°é‡çº§ä¸Šå¤„ç†æžå…¶å¾®å°çš„è¿åŠ¨ã€‚ Recovering Sound from Video è¾“å…¥ï¼šç‰©ä½“çš„é«˜é€Ÿè§†é¢‘ï¼ˆ1kHz~20kHzï¼‰$V(x,y,t)$ å‡è®¾ï¼šç‰©ä½“å’Œç›¸æœºçš„ç›¸å¯¹è¿åŠ¨æ˜¯ç”±å£°éŸ³ä¿¡å·$s(t)$å¼•èµ·çš„æŒ¯åŠ¨ä¸»å¯¼çš„ ç›®æ ‡ï¼šä»Ž$V$å¾—åˆ°$s(t)$ æ­¥éª¤ï¼š1ï¼‰æ ¹æ®ä¸åŒçš„æ–¹å‘$Î¸$å’Œå°ºåº¦$r$å°†$V$åˆ†è§£æˆå¤šä¸ªç©ºé—´å­å¸¦ï¼› â€‹ 2ï¼‰è®¡ç®—æ¯ä¸ªåƒç´ ã€æ–¹å‘å’Œå°ºåº¦ä¸Šçš„å±€éƒ¨è¿åŠ¨ä¿¡å·ï¼›é€šè¿‡ä¸€ç³»åˆ—çš„å¹³å‡å’Œå¯¹é½æ“ä½œå°†è¿™äº›è¿åŠ¨ä¿¡å·ç»„åˆèµ·æ¥ï¼Œä¸ºç‰©ä½“äº§ç”Ÿä¸€ä¸ªå•ä¸€çš„å…¨å±€è¿åŠ¨ä¿¡å·ï¼› â€‹ 3ï¼‰å¯¹ç‰©ä½“çš„è¿åŠ¨ä¿¡å·ä½¿ç”¨éŸ³é¢‘åŽ»å™ªå’Œæ»¤æ³¢æŠ€æœ¯ï¼Œä»¥èŽ·å¾—æ¢å¤å‡ºæ¥çš„å£°éŸ³ã€‚ Computing Local Motion Signalsä½¿ç”¨$V$çš„CSPè¡¨ç¤ºä¸­çš„ç›¸ä½å˜åŒ–æ¥è®¡ç®—å±€éƒ¨è¿åŠ¨ã€‚ CSPï¼šå°†$V$ä¸­çš„æ¯ä¸€å¸§æ ¹æ®ä¸åŒçš„æ–¹å‘å’Œå°ºåº¦åˆ†è§£æˆå¤æ•°å­å¸¦çš„æ»¤æ³¢å™¨ç»„ã€‚è¯¥å˜æ¢çš„åŸºç¡€æ–¹ç¨‹æ˜¯å¸¦å°ºåº¦å’Œæ–¹å‘çš„å…¼å…·ä½™å¼¦å’Œæ­£å¼¦ç›¸ä½çš„Gabor-likeå°æ³¢ã€‚æ¯ä¸€å¯¹ç±»ä½™å¼¦å’Œç±»æ­£å¼¦æ»¤æ³¢å™¨éƒ½å¯ä»¥ç”¨æ¥åˆ†ç¦»å±€éƒ¨å°æ³¢çš„æŒ¯å¹…å’Œå®ƒä»¬çš„ç›¸ä½ã€‚å…·ä½“åœ°è¯´ï¼Œæ¯ä¸ªå°ºåº¦$r$å’Œæ–¹ä½$Î¸$æ˜¯ä¸€ä¸ªå¤æ•°å›¾åƒï¼Œå¯ä»¥ç”¨å¹…å€¼$A$å’Œç›¸ä½$Ï†$è¡¨ç¤ºä¸ºï¼š A(r,\theta,x,y,t)e^{i\varphi (r,\theta,x,y,t)}å–è¿™ä¸ªç­‰å¼ä¸­è®¡ç®—çš„å±€éƒ¨ç›¸ä½$Ï†$ï¼Œä»Žå‚è€ƒå¸§$t_{0}$(é€šå¸¸æ˜¯è§†é¢‘çš„ç¬¬ä¸€å¸§)çš„å±€éƒ¨ç›¸ä½ä¸­å‡åŽ»å®ƒä»¬ï¼Œè®¡ç®—ç›¸ä½å˜åŒ– \varphi_{v} (r,\theta,x,y,t)=\varphi (r,\theta,x,y,t)-\varphi (r,\theta,x,y,t_{0})å¯¹äºŽè¾ƒå°çš„è¿åŠ¨ï¼Œè¿™äº›ç›¸ä½å˜åŒ–è¿‘ä¼¼æ­£æ¯”äºŽå›¾åƒç»“æž„åœ¨ç›¸åº”æ–¹å‘å’Œå°ºåº¦ä¸Šçš„ä½ç§»ã€‚ Computing the Global Motion Signalå¯¹äºŽCSPçš„æ¯ä¸ªå°ºåº¦$r$å’Œæ–¹ä½$Î¸$æ±‚å±€éƒ¨è¿åŠ¨ä¿¡å·çš„åŠ æƒå¹³å‡ï¼š \Phi_{i}(r,\theta,t)=\sum\limits_{x,y}A(r,\theta,x,y)^{2}\varphi_{v} (r,\theta,x,y,t)æ±‚åŠ æƒå¹³å‡çš„åŽŸå› ï¼šå±€éƒ¨ç›¸ä½åœ¨æ²¡æœ‰å¤ªå¤šçº¹ç†çš„åŒºåŸŸæ˜¯æ¨¡ç³Šçš„ï¼Œå¯¼è‡´è¿™äº›åŒºåŸŸçš„è¿åŠ¨ä¿¡å·æ˜¯æœ‰å™ªå£°çš„ã€‚CSPçš„æŒ¯å¹…Aç»™å‡ºäº†çº¹ç†å¼ºåº¦çš„åº¦é‡ï¼Œå› æ­¤å¯ä»¥é€šè¿‡(å¹³æ–¹)æŒ¯å¹…æ¥åŠ æƒæ¯ä¸ªå±€éƒ¨ä¿¡å·ã€‚ å¯¹é½ï¼š t_{i}=arg\max\limits_{t_{i}}\Phi_{0}(r_{0},\theta_{0},t)^{T}\Phi_{i}(r_{i},\theta_{i},t-t_{i})å¾—åˆ°å…¨å±€è¿åŠ¨ä¿¡å·ï¼š \hat{s}(t)=\sum\limits_{i}\Phi_{i}(r_{i},\theta_{i},t-t_{i})å½’ä¸€åŒ–åˆ°[-1,1]çš„èŒƒå›´ã€‚ Denoisingç›®æ ‡ï¼šæ”¹å–„å…¨å±€è¿åŠ¨ä¿¡å·çš„SNR è§‚å¯Ÿåˆ°çš„çŽ°è±¡ï¼šä½Žé¢‘çš„é«˜èƒ½é‡å™ªå£°é€šå¸¸ä¸ŽéŸ³é¢‘ä¸ä¸€è‡´ æ–¹æ³•ï¼šåº”ç”¨é«˜é€šButterworthæ»¤æ³¢å™¨ï¼ˆæˆªæ–­é¢‘çŽ‡ä¸º20-100Hzï¼‰ æ»¤é™¤åŠ æ€§å™ªå£°ï¼šç›®æ ‡æ˜¯accuracyï¼Œç”¨spectral subtractionï¼›ç›®æ ‡æ˜¯å¯ç†è§£æ€§ï¼Œç”¨æ„ŸçŸ¥é©±åŠ¨çš„è¯­éŸ³å¢žå¼ºç®—æ³•ï¼ˆé€šè¿‡è®¡ç®—ä¸€ä¸ªè´å¶æ–¯æœ€ä¼˜ä¼°è®¡åŽ»å™ªä¿¡å·çš„æˆæœ¬å‡½æ•°ï¼Œè€ƒè™‘åˆ°äººç±»å¯¹è¯­éŸ³çš„æ„ŸçŸ¥ï¼‰ã€‚æœ¬æ–‡çš„ç»“æžœæ˜¯è‡ªåŠ¨ä½¿ç”¨äºŒè€…ä¹‹ä¸€çš„ç®—æ³•æ¥åŽ»å™ªçš„ã€‚ æ¢å¤ä¿¡å·çš„ä¸åŒé¢‘çŽ‡å¯èƒ½ä¼šè¢«è®°å½•å¯¹è±¡ä¸åŒåœ°è°ƒåˆ¶ã€‚ç¬¬4.3èŠ‚å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨å·²çŸ¥æµ‹è¯•ä¿¡å·æ¥æè¿°ä¸€ä¸ªç‰©ä½“å¦‚ä½•è¡°å‡ä¸åŒé¢‘çŽ‡ï¼Œç„¶åŽåœ¨æ–°çš„è§†é¢‘ä¸­ä½¿ç”¨è¯¥ä¿¡æ¯æ¥å‡è¡¡ä»ŽåŒä¸€ç‰©ä½“(æˆ–ç±»ä¼¼ç‰©ä½“)ä¸­æ¢å¤çš„æœªçŸ¥ä¿¡å·ã€‚ Experimentsç¬¬ä¸€ç»„å®žéªŒæµ‹è¯•äº†å¯ä»¥ä»Žä¸åŒç‰©ä½“ä¸Šæ¢å¤çš„é¢‘çŽ‡èŒƒå›´ã€‚é€šè¿‡æ‰¬å£°å™¨æ’­æ”¾çº¿æ€§æ¸å˜é¢‘çŽ‡çš„å£°éŸ³ä¿¡å·ï¼Œç„¶åŽè§‚å¯Ÿå“ªäº›é¢‘çŽ‡å¯ä»¥é€šè¿‡æœ¬æ–‡æŠ€æœ¯æ¢å¤ã€‚ç¬¬äºŒç»„å®žéªŒé›†ä¸­åœ¨ä»Žè§†é¢‘ä¸­æ¢å¤äººç±»è¯­è¨€ã€‚è¿™äº›å®žéªŒä½¿ç”¨äº†æ¥è‡ªTIMITæ•°æ®é›†çš„å‡ ä¸ªæ ‡å‡†è¯­éŸ³ç¤ºä¾‹ï¼Œä»¥åŠé€šè¿‡æ‰¬å£°å™¨æ’­æ”¾çš„äººç±»å—è¯•è€…çš„çŽ°åœºè¯­éŸ³(æ‰¬å£°å™¨è¢«ä¸€ä¸ªä¼šè¯´è¯çš„äººæ›¿æ¢)ã€‚ Sound Recovery from Different Objects/Materials åœ¨å‡ ä¹Žæ‰€æœ‰çš„ç»“æžœä¸­ï¼Œæ¢å¤çš„ä¿¡å·åœ¨è¾ƒé«˜çš„é¢‘çŽ‡ä¸­æ˜¯è¾ƒå¼±çš„ã€‚è¿™æ˜¯æ„æ–™ä¹‹ä¸­çš„ï¼Œå› ä¸ºæ›´é«˜çš„é¢‘çŽ‡äº§ç”Ÿæ›´å°çš„ä½ç§»ï¼Œå¹¶ä¸”è¢«å¤§å¤šæ•°ææ–™ä¸¥é‡è¡°å‡ã€‚ç„¶è€Œï¼Œè¾ƒé«˜é¢‘çŽ‡çš„åŠŸçŽ‡ä¸‹é™ä¸æ˜¯å•è°ƒçš„ï¼Œå¯èƒ½æ˜¯ç”±äºŽæŒ¯åŠ¨æ¨¡å¼çš„åˆºæ¿€ã€‚æ¯«ä¸å¥‡æ€ªï¼Œè¾ƒè½»çš„ç‰©ä½“æ›´å®¹æ˜“ç§»åŠ¨ï¼Œæ¯”æƒ°æ€§çš„ç‰©ä½“æ›´å®¹æ˜“æ”¯æŒæ›´é«˜é¢‘çŽ‡çš„æ¢å¤ã€‚ Speech Recoveryè¯„æµ‹æŒ‡æ ‡ï¼š (1) è¯„æµ‹accuracyï¼š Segmental Signal-to-Noise Ratio (SSNR) éšæ—¶é—´çš„å¹³å‡å±€éƒ¨ä¿¡å™ªæ¯”; (2) è¯„æµ‹intelligibilityï¼š perceptually-based metric (3) è¯„æµ‹æ¢å¤è´¨é‡ï¼šLog Likelihood Ratio (LLR)ï¼Œè¯„æµ‹æ¢å¤ä¿¡å·çš„è°±å½¢çŠ¶ä¸ŽåŽŸå§‹å¹²å‡€ä¿¡å·çš„è°±å½¢çŠ¶æœ‰å¤šæŽ¥è¿‘ æ›´é«˜çš„å¸§çŽ‡å¯¼è‡´æ›å…‰æ—¶é—´å‡å°‘ï¼Œå› æ­¤å›¾åƒå™ªå£°æ›´å¤šï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ20,000FPSç»“æžœå›¾æ¯”2200Hzæ—¶çš„ç»“æžœå™ªå£°æ›´å¤§ VMå’ŒLDVç»“æžœç›¸è¿‘ï¼Œè€ŒLDVéœ€è¦ç§¯æžç…§æ˜Žï¼ˆå¿…é¡»åœ¨ç‰©ä½“ä¸Šç²˜ä¸Šä¸€æ¡ååå°„èƒ¶å¸¦ä»¥ä¾¿æ¿€å…‰ä»Žç‰©ä½“ä¸Šåå°„å›žæ¥å›žåˆ°æŒ¯åŠ¨è®¡ä¸Šï¼‰ Transfer Functions and Equalizationå¯ä»¥ä½¿ç”¨ç¬¬4.1èŠ‚ä¸­çš„æ–œå¡ä¿¡å·æ¥è¡¨å¾ç‰©ä½“çš„(å¯è§†çš„)é¢‘çŽ‡å“åº”ï¼Œä»¥æé«˜ä»Žè¯¥ç‰©ä½“çš„æ–°è§‚æµ‹ä¸­æ¢å¤çš„ä¿¡å·è´¨é‡ã€‚ç†è®ºä¸Šã€‚å¦‚æžœè®¤ä¸ºç‰©ä½“æ˜¯çº¿æ€§ç³»ç»Ÿ,å¯ä»¥ä½¿ç”¨ç»´çº³åå·ç§¯ä¼°è®¡ä¸Žè¯¥ç³»ç»Ÿç›¸å…³è”çš„å¤æ•°ä¼ é€’å‡½æ•°ï¼Œå¹¶ä¸”ä¼ é€’å‡½æ•°å¯ä»¥ç”¨æ¥ä»¥ä¸€ç§æœ€ä¼˜çš„æ–¹å¼(åœ¨å‡æ–¹è¯¯å·®æ„ä¹‰ä¸Šçš„)è§£å·ç§¯æ–°çš„è§‚æµ‹ä¿¡å·ã€‚ç„¶è€Œï¼Œåœ¨å®žè·µä¸­ï¼Œè¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“å—åˆ°å™ªå£°å’Œéžçº¿æ€§artifactsçš„å½±å“ã€‚å› æ­¤ï¼Œæœ¬æ–‡æè¿°äº†ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œé¦–å…ˆä½¿ç”¨è®­ç»ƒå®žä¾‹ï¼ˆçº¿æ€§æ–œå¡ï¼‰çš„çŸ­æ—¶é—´å‚…é‡Œå¶å˜æ¢åœ¨ç²—å°ºåº¦ä¸Šè®¡ç®—é¢‘çŽ‡ä¼ é€’ç³»æ•°ï¼Œç„¶åŽä½¿ç”¨è¿™äº›ä¼ é€’ç³»æ•°ä½¿æ–°çš„è§‚æµ‹ä¿¡å·ç›¸ç­‰ã€‚ è½¬ç§»ç³»æ•°æ˜¯ä»Žä¸€å¯¹è¾“å…¥/è¾“å‡ºçš„ä¿¡å·çš„çŸ­æ—¶åŠŸçŽ‡è°±ä¸­æå–å‡ºæ¥çš„ã€‚æ¯ä¸ªç³»æ•°å¯¹åº”äºŽè§‚å¯Ÿåˆ°çš„è®­ç»ƒä¿¡å·çš„çŸ­æ—¶åŠŸçŽ‡è°±çš„ä¸€ä¸ªé¢‘çŽ‡ï¼Œå¹¶ä½œä¸ºéšæ—¶é—´å˜åŒ–çš„é¢‘çŽ‡å¹…å€¼çš„åŠ æƒå¹³å‡è¢«è®¡ç®—ã€‚æ¯ä¸€æ—¶åˆ»çš„æƒå€¼ç”±å¯¹å‡†çš„è¾“å…¥è®­ç»ƒä¿¡å·çš„çŸ­æ—¶åŠŸçŽ‡è°±ç»™å‡ºã€‚ç”±äºŽè¾“å…¥ä¿¡å·ä¸€æ¬¡åªåŒ…å«ä¸€ä¸ªé¢‘çŽ‡ï¼Œè¿™ä¸ªåŠ æƒæ–¹æ¡ˆå¿½ç•¥äº†å›¾2(b)ä¸­æ‰€ç¤ºçš„å€é¢‘ç­‰éžçº¿æ€§artifactsã€‚ ä¸€æ—¦æœ‰äº†ä¼ è¾“ç³»æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒä»¬æ¥å¹³è¡¡æ–°çš„ä¿¡å·ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å°†å¢žç›Šåº”ç”¨äºŽæ–°ä¿¡å·çŸ­æ—¶åŠŸçŽ‡è°±çš„é¢‘çŽ‡ä¸Šï¼Œç„¶åŽåœ¨æ—¶åŸŸé‡æ–°åˆæˆä¿¡å·ã€‚åº”ç”¨äºŽæ¯ä¸ªé¢‘çŽ‡çš„å¢žç›Šä¸Žå…¶ç›¸åº”çš„ä¼ é€’ç³»æ•°çš„å€’æ•°æˆæ­£æ¯”ï¼Œè¯¥ç³»æ•°ä¸Šå‡åˆ°æŸä¸ªæŒ‡æ•°kã€‚ è¡¨2æ˜¾ç¤ºäº†åº”ç”¨ä»Žè–¯ç‰‡è¢‹å¯¼å‡ºçš„å‡è¡¡å™¨åˆ°ä»ŽåŒä¸€ç‰©ä½“æ¢å¤çš„è¯­éŸ³åºåˆ—çš„ç»“æžœã€‚åœ¨æ²¡æœ‰å™ªå£°çš„æƒ…å†µä¸‹ï¼Œkè®¾ä¸º1ï¼Œä½†å¹¿è°±å™ªå£°åŽ‹ç¼©äº†ä¼°è®¡çš„ä¼ é€’ç³»æ•°çš„èŒƒå›´ã€‚ä½¿ç”¨æ›´å¤§çš„kå¯ä»¥å¼¥è¡¥è¿™ä¸€ç‚¹ã€‚åœ¨å…¶ä¸­ä¸€ä¸ªå¥³æ€§è¯­éŸ³ç¤ºä¾‹ä¸Šæ‰‹åŠ¨è°ƒæ•´kå€¼ï¼Œç„¶åŽå°†å¾—åˆ°çš„å‡è¡¡å™¨åº”ç”¨äºŽæ‰€æœ‰å…­ä¸ªè¯­éŸ³ç¤ºä¾‹ã€‚ç”±äºŽè¿™ç§å‡è¡¡æ˜¯ä¸ºäº†æé«˜æ¢å¤ä¿¡å·çš„å¯ä¿¡åº¦è€Œä¸æ˜¯è¯­éŸ³çš„å¯ç†è§£æ€§ï¼Œå› æ­¤ä½¿ç”¨è°±å‡æ³•æ¥åŽ»é™¤å™ªå£°ã€‚ æ³¨æ„ï¼Œæ ¡å‡†å’Œå‡è¡¡æ˜¯å¯é€‰çš„ã€‚ç‰¹åˆ«æ˜¯ï¼Œæœ¬æ–‡ä¸­é™¤è¡¨2ä¹‹å¤–çš„æ‰€æœ‰ç»“æžœéƒ½å‡å®šä¸é¢„å…ˆçŸ¥é“è¢«è®°å½•ç‰©ä½“çš„é¢‘çŽ‡å“åº”ã€‚ AnalysisObject response (A): ç‰©ä½“ç›¸åº”å£°éŸ³å¹¶ç§»åŠ¨ï¼Œå°†ç©ºæ°”åŽ‹åŠ›è½¬åŒ–ä¸ºè¡¨é¢ä½ç§»ã€‚ Processing (B): å°†å½•åˆ¶çš„è§†é¢‘è½¬æ¢æˆæ¢å¤çš„å£°éŸ³ã€‚ Object response (A) å›¾7(b)ï¼š300Hzçº¯éŸ³æµ‹è¯•ï¼Œå¤§å¤šæ•°ç‰©ä½“çš„è¿åŠ¨åœ¨å£°åŽ‹ï¼ˆéŸ³é‡ï¼‰ä¸Šè¿‘ä¼¼å‘ˆçº¿æ€§ã€‚ç»“è®ºï¼šAå¯å»ºæ¨¡ä¸ºLTIç³»ç»Ÿã€‚ å›¾7(c)ï¼šæ–œå¡ä¿¡å·ï¼ˆ20Hzåˆ°2200Hzï¼‰æµ‹è¯•ï¼Œå°†Aå»ºæ¨¡ä¸ºLTIç³»ç»Ÿï¼Œç”¨è¿™ä¸ªæ–œå¡ä¿¡å·æ¥æ¢å¤ç³»ç»Ÿçš„è„‰å†²å“åº”ã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨ç»´çº³åå·ç§¯ç”¨å·²çŸ¥çš„è¾“å…¥å¯¹è§‚å¯Ÿåˆ°çš„æ–œå¡ä¿¡å·(è¿™ä¸€æ¬¡æ˜¯ç”±LDVè®°å½•çš„)è¿›è¡Œåå·ç§¯æ¥å®žçŽ°çš„ã€‚å›¾7 (c)æ˜¾ç¤ºäº†ä»Žæ¢å¤çš„è„‰å†²å“åº”ä¸­å¾—åˆ°çš„é¢‘çŽ‡å“åº”ã€‚ä»Žè¿™å¼ å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¤§å¤šæ•°ç‰©ä½“åœ¨ä½Žé¢‘çŽ‡çš„å“åº”æ¯”é«˜é¢‘çŽ‡çš„å“åº”æ›´å¼º(æ­£å¦‚é¢„æœŸçš„é‚£æ ·)ï¼Œä½†æ˜¯è¿™ç§è¶‹åŠ¿ä¸æ˜¯å•è°ƒçš„ã€‚ D_{mm}(\omega)\approx \boldsymbol{A}(\omega)S(\omega)$\boldsymbol{A}(\omega)$: è½¬ç§»å‡½æ•° $S(\omega)$: å£°è°± $D_{mm}(\omega)$: è¿åŠ¨è°± é¡¹ç›®ç½‘å€]]></content>
      <categories>
        <category>Visual Sound</category>
      </categories>
      <tags>
        <tag>paper notes-visual sound</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(4)ï¼šCNNé¢‘åŸŸå­¦ä¹ (2)]]></title>
    <url>%2F2020%2F12%2F04%2F20201204_CNNinFrequence2%2F</url>
    <content type="text"><![CDATA[Faster Neural Networks Straight from JPEGMotivation1ã€ç¼©çŸ­å›¾åƒè§£ç æ—¶é—´ã€‚å¤§éƒ¨åˆ†å›¾ç‰‡éƒ½æ˜¯é€šè¿‡JPEGæ ¼å¼è¿›è¡Œå­˜å‚¨ï¼ŒJPEGæ ¼å¼è½¬æ¢ä¸ºRGBéœ€è¦è§£ç ã€‚è€Œå¦‚æžœé€šè¿‡é¢‘åŸŸå­¦ä¹ ï¼Œè§£ç æ—¶åªéœ€è¦ä»Žéœå¤«æ›¼ç¼–ç ä¸­èŽ·å–DCTç³»æ•°å³å¯ï¼Œä¸éœ€è¦å®Œå…¨è§£ç å¾—åˆ°RGBå›¾åƒï¼› 2ã€è®©æ¨¡åž‹æ›´é«˜æ•ˆã€‚CNNæ¨¡åž‹çš„ä¼˜åŠ¿æ˜¯è¡¨è¾¾èƒ½åŠ›å¼ºï¼ˆå‚æ•°å¾ˆå¤šï¼‰ï¼Œæ‰€éœ€å…ˆéªŒå°‘ã€‚ä½†æ˜¯å…ˆéªŒå°‘ï¼Œæ‰€ä»¥éœ€è¦å¤§é‡å‚æ•°ï¼Œä½¿å¾—CNNæ¨¡åž‹ä¸­å­˜åœ¨å¤§é‡å†—ä½™è®¡ç®—ã€‚é¢‘åŸŸå­¦ä¹ å…¶å®žæ˜¯ä¸€ä¸ªå…ˆéªŒï¼Œå¦‚æžœæ•°æ®åˆ†å¸ƒå’Œè¯¥å…ˆéªŒä¸€è‡´ï¼Œé‚£ä¹ˆè¾¾åˆ°åŒæ ·çš„æ•ˆæžœï¼Œæ¨¡åž‹å¯ä»¥æ›´ç®€å•ï¼Œæ‰€éœ€è¦çš„è®­ç»ƒæ•°æ®å¯ä»¥æ›´å°‘ã€‚ Method Evaluationåœ¨ImageNetä¸Šå®žéªŒã€‚ç›®æ ‡æ˜¯å‡†ç¡®çŽ‡é«˜ä¸”è¿è¡Œé€Ÿåº¦å¿«ã€‚ BaselineVanilla ResNet-50, è¾“å…¥ä¸ºRGBå›¾åƒã€‚Top-5é”™è¯¯çŽ‡7.4%å·¦å³ï¼Œé€Ÿåº¦200 image/sï¼š ä»¥YCbCrä¸ºè¾“å…¥ï¼Œæ•ˆæžœä¸ŽRGBå·®ä¸å¤šã€‚æœŸæœ›çš„æ•ˆæžœæ˜¯åœ¨å›¾ä¸­å¾€å³ä¸‹å‘å±•ï¼ˆå³ï¼šé€Ÿåº¦å¿«ï¼›ä¸‹ï¼šé”™è¯¯çŽ‡ä½Žï¼‰ã€‚ å¸Œæœ›è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼š1ï¼‰shorter ResNet-50 (å‡å°‘ç½‘ç»œå±‚æ•°)ï¼›2ï¼‰thinner ResNet-50 (å‡å°‘æ¯å±‚çš„é€šé“æ•°) ç»“è®ºï¼šshorter ResNet-50ä¼˜äºŽthinner ResNet-50ã€‚æµ…ç°è‰²çš„â€œRemove N ID Blocksâ€çš„çº¿å½¢æˆäº†å¸•ç´¯æ‰˜å‰æ²¿(Pareto front)ï¼Œæ˜¾ç¤ºäº†â€œnon-dominatedâ€ç½‘ç»œçš„é›†åˆï¼Œæˆ–è€…æ˜¯é‚£äº›åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§ä¹‹é—´åšå‡ºæœ€ä½³æƒè¡¡çš„ç½‘ç»œã€‚ Training networks on DCT inputs é—®é¢˜1ï¼šé’ˆå¯¹ä¸åŒçš„è¾“å…¥å°ºå¯¸å¦‚ä½•å¤„ç†ï¼Ÿ RGBå›¾åƒå¤§å°ï¼š(224, 224, 3) DCTç³»æ•°ï¼š 1) Y-(28, 28, 64)ï¼› â€‹ 2) Cb/Cr-(14, 14, 64) è§£å†³ï¼šåœ¨è¿›å…¥ç½‘ç»œä¹‹å‰combine Yå’ŒCbã€Cr 1. DCT Early Merge architecturesï¼š1ï¼‰ä¸‹é‡‡Yï¼ˆâ€œDownSamplingâ€ï¼‰ï¼›2ï¼‰ä¸Šé‡‡Cbã€Crï¼ˆâ€œUpSamplingâ€ï¼‰ ç»“è®ºï¼š 1ï¼‰DownSamplingï¼šfast (450 image/s) but high errorï¼› â€‹ 2ï¼‰ UpSamplingï¼šslower but lower error; é—®é¢˜2ï¼šUpSamplingçš„é”™è¯¯çŽ‡æ¯”baselineé«˜ å¯èƒ½çš„åŽŸå› ï¼šæ„Ÿå—é‡Žè¿‡å¤§ã€‚ä¼ åˆ°baseline ResNet-50çš„ä¸­é—´å±‚æ—¶æ„Ÿå—é‡Žçº¦ä¸º70åƒç´ ï¼›è€ŒUpSamplingæ¨¡åž‹çš„ç›¸åº”æ„Ÿå—é‡Žè¾¾åˆ°äº†110åƒç´ ã€‚è¿™æ˜¯å› ä¸ºDCTè¾“å…¥å±‚çš„[stride, receptive field]æ˜¯[8, 8]ï¼Œè€Œç»å…¸è¾“å…¥å±‚è¯¥å€¼ä¸º [1, 1]ã€‚ ç›´è§‚åœ°è¯´ï¼Œè¦æ±‚ç½‘ç»œå­¦ä¹ 110pxå®½çš„æ„Ÿå—é‡Žï¼Œä½†æ²¡æœ‰ç»™å®ƒè¶³å¤Ÿçš„å±‚æˆ–è®¡ç®—èƒ½åŠ›æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ è§£å†³ï¼šåˆ›é€ äº†ä¸€ä¸ªReceptive Field Aware (RFA) æ¨¡åž‹â†’UpSampling-RFAã€‚åšæ³•æ˜¯ç»™ç¥žç»ç½‘ç»œçš„å‰å±‚å¢žåŠ é¢å¤–çš„æ­¥é•¿1æ¨¡å—ã€‚æ­¤æ—¶é€å±‚çš„æ„Ÿå—é‡Žå¢žé•¿å˜å¾—æ›´å¹³æ»‘ï¼Œè¿‘ä¼¼ä¸Žbaseline ResNet-50ç›¸åŒ¹é…ã€‚ å¦‚æžœUpSamplingé€šè¿‡å¯å­¦åå·ç§¯è€Œéžåƒç´ å¤åˆ¶å¾—åˆ°ï¼Œåˆ™é”™è¯¯çŽ‡å¯ä»¥è¿›ä¸€æ­¥é™ä½Žï¼Œè¾¾åˆ°ç›®å‰ä¸ºæ­¢æœ€å¥½çš„æ¨¡åž‹ï¼šDeconvolution-RFAï¼ˆé”™è¯¯çŽ‡6.98%ï¼›åŠ é€Ÿ1.29å€ï¼‰ã€‚ æ•ˆæžœï¼šæ²¿ç€DCT Early Mergeçº¿çš„å…¶ä»–æ¨¡åž‹çŽ°åœ¨å½¢æˆäº†æ–°çš„å¸•ç´¯æ‰˜å‰æ²¿ï¼Œåœ¨è¯¯å·®å’Œé€Ÿåº¦çš„æƒè¡¡æ–¹é¢è¶…è¶Šäº†ä»¥å‰çš„æ¨¡åž‹ã€‚ 2. DCT Late Merge architectures å®žéªŒå‘çŽ°å…è®¸äº®åº¦åˆ†æ”¯å¤šå±‚è®¡ç®—æ‰èƒ½èŽ·å¾—è¾ƒé«˜çš„å‡†ç¡®çŽ‡ï¼Œè€Œè‰²åº¦è·¯å¾„å¯ä»¥åœ¨è¾ƒå°‘çš„è®¡ç®—å±‚æ•°ä¸‹ä¸æŸå®³å‡†ç¡®çŽ‡ã€‚æ¢å¥è¯è¯´ï¼Œ1) å°†Yé€šé“æ”¾åˆ°ç½‘ç»œçš„å‰é¢ï¼Œè€ŒCb/Crä¿¡æ¯åœ¨ä¸­é€”æ³¨å…¥ï¼Œå…¶æ•ˆæžœä¸Ž 2) ä»Žå‰é¢å¼€å§‹å…¨éƒ¨ä¸‰ä¸ªé€šé“çš„è¿ç®— ä¸€æ ·å¥½ï¼Œè€Œæ–¹æ³•1)èŠ‚çœäº†è®¡ç®—ã€‚ Late-Concat-RFAï¼šreceptive field aware versionï¼› Late-Concat-RFA-Thinnerï¼šé€šè¿‡ä½¿ç”¨æ›´å°‘è¿‡æ»¤å™¨è€Œè°ƒæ•´é€Ÿåº¦çš„ç‰ˆæœ¬ã€‚åŠ é€Ÿ1.77å€ï¼Œé”™è¯¯çŽ‡ç›¸è¿‘ã€‚ ç»“è®ºï¼šå¸•ç´¯æ‰˜å‰æ²¿å†æ¬¡å‰ç§»ã€‚ Discussionæœ‰è¶£çš„æ˜¯ï¼Œé¢œè‰²ä¿¡æ¯åœ¨ç½‘ç»œåŽæœŸï¼ˆå½“å®ƒä¸Žä»Žäº®åº¦ä¸­å­¦åˆ°çš„æ›´é«˜å±‚æ¬¡çš„æ¦‚å¿µç›¸ç»“åˆæ—¶ï¼‰æ‰è¢«éœ€è¦ã€‚åœ¨è¿™ä¸€ç‚¹ä¸ŠçŒœæµ‹å¯èƒ½æ˜¯å­¦ä¹ ä¸­çº§æ¦‚å¿µï¼ˆä¾‹å¦‚:è‰æˆ–ç‹—æ¯›ï¼‰éœ€è¦åœ¨å…¶ä¸Žç©ºé—´ä¸Šä¸é‚£ä¹ˆç²¾ç¡®çš„é¢œè‰²ä¿¡æ¯ï¼ˆä¾‹å¦‚:ç»¿è‰²æˆ–æ£•è‰²ï¼‰ç»“åˆä¹‹å‰ï¼Œç²¾ç»†çš„äº®åº¦è¾¹ç¼˜è¿›è¡Œäº†å¥½å‡ å±‚å¤„ç†å˜æˆçº¹ç†ã€‚å¯ä»¥ä»ŽResNet-50ä»ŽRGBåƒç´ å­¦ä¹ åˆ°çš„æ›´é«˜é¢‘çŽ‡çš„é»‘ç™½è¾¹ç¼˜å’Œæ›´ä½Žé¢‘çŽ‡ï¼ˆæˆ–å¸¸æ•°ï¼‰çš„é¢œè‰²æ£€æµ‹å™¨ä¸­é¢„æœŸè¿™ä¸ªç»“æžœã€‚ è®¸å¤šè¾¹ç¼˜æ£€æµ‹å™¨åŸºæœ¬ä¸Šéƒ½æ˜¯é»‘ç™½çš„ï¼Œåœ¨äº®åº¦ç©ºé—´ä¸­æ“ä½œã€‚è®¸å¤šé¢œè‰²ç‰¹å¾è¦ä¹ˆåœ¨ç©ºé—´ä¸Šæ˜¯æ’å®šçš„ï¼Œè¦ä¹ˆåœ¨é¢‘çŽ‡ä¸Šæ˜¯è¾ƒä½Žçš„ï¼Œå®ƒä»¬å¯èƒ½åªæ˜¯ç”¨æ¥å°†ç²—ç•¥çš„é¢œè‰²ä¿¡æ¯ä¼ é€’ç»™éœ€è¦å®ƒçš„æ›´é«˜å±‚æ¬¡ã€‚æˆ‘ä»¬ä»Ž2012å¹´å°±çœ‹åˆ°è¿‡è¿™æ ·çš„æ»¤æ³¢å™¨;æˆ‘ä»¬æ˜¯å¦åº”è¯¥æœŸæœ›ç›´åˆ°ç½‘ç»œåŽæœŸæ‰éœ€è¦é¢œè‰²? é€Ÿåº¦ä¸Žå‡†ç¡®çŽ‡ï¼šé€Ÿåº¦çš„æå‡æ˜¯ç”±äºŽè¾“å…¥å±‚å’ŒåŽç»­å±‚ä¸Šçš„æ•°æ®é‡è¾ƒå°ã€‚å‡†ç¡®çŽ‡æå‡çš„ä¸»è¦åŽŸå› æ˜¯ DCT è¡¨ç¤ºçš„å…·ä½“ä½¿ç”¨ï¼Œç»“æžœå¯¹å›¾åƒåˆ†ç±»éžå¸¸æœ‰æ•ˆã€‚åªéœ€å°† ResNet-50 çš„ç¬¬ä¸€ä¸ªå·ç§¯å±‚æ›¿æ¢ä¸ºstrideä¸º 8 çš„DCT å˜æ¢ï¼Œå³å¯èŽ·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚å®ƒç”šè‡³æ¯”å®Œå…¨ç›¸åŒå½¢çŠ¶çš„å­¦ä¹ å¾—åˆ°çš„å˜æ¢ï¼ˆlearned transformï¼‰æ•ˆæžœæ›´å¥½ã€‚ä½¿ç”¨æ›´å¤§çš„æ„Ÿå—é‡Žå’Œstrideï¼ˆ8ï¼‰è¡¨çŽ°æ›´å¥½ï¼Œè€Œç¡¬ç¼–ç ç¬¬ä¸€å±‚æ¯”å­¦ä¹ å¾—åˆ°ç¬¬ä¸€å±‚æ•ˆæžœæ›´å¥½ã€‚æ®‹å·®ç½‘ç»œåœ¨ 2015 å¹´å¾—åˆ° ImageNet ä¸Šæœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œåªéœ€ç”¨DCT æ›¿æ¢ç¬¬ä¸€å±‚ï¼Œå°±ä¼šè¿›ä¸€æ­¥æé«˜SOTAã€‚ CNNé¢‘åŸŸå­¦ä¹ åšå®¢è®²è§£ Faster Neural Networks Straight from JPEG Faster Neural Networks Straight from JPEG åšå®¢è®²è§£]]></content>
      <categories>
        <category>Deep Learning</category>
      </categories>
      <tags>
        <tag>paper notes-deep learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(3)ï¼šCNNé¢‘åŸŸå­¦ä¹ (1)]]></title>
    <url>%2F2020%2F12%2F03%2F20201203_CNNinFrequence%2F</url>
    <content type="text"><![CDATA[On using CNN with DCT based Image DataMotivationå¯¹äºŽé«˜åˆ†è¾¨å›¾åƒã€è§†é¢‘ï¼Œè¾“å…¥æ•°æ®é‡å¤§ï¼ŒCNNè¿ç®—å¤šâ†’ä»Žå›¾åƒåŽ‹ç¼©ç®—æ³•JPEGå¾—åˆ°å¯å‘ï¼Œç»è¿‡DCTå˜æ¢å°†ç©ºåŸŸæ•°æ®è½¬æ¢åˆ°é¢‘åŸŸå¤„ç†ï¼ŒåŽ‹ç¼©è¾“å…¥æ•°æ®é‡ã€‚ Method Resultså®žéªŒæ•°æ®é›†ï¼šCIFAR10ï¼ŒMNIST Discussionæ–‡ç« ç›´æŽ¥ç”¨DCTç³»æ•°æ›¿ä»£RGBä½œä¸ºCNNè¾“å…¥ï¼Œå¤„ç†æ–¹æ³•ç®€å•ç›´æŽ¥ã€‚Motivationæ˜¯æ•°æ®åŽ‹ç¼©ï¼Œä½†æ˜¯æ²¡ç»™å‡ºè¾“å…¥æ•°æ®é‡å‡å°‘çš„å®žéªŒç»“æžœï¼ˆåªæ˜¯ä½œä¸ºfuture workï¼‰ï¼Œè€Œå‡†ç¡®çŽ‡æå‡ä¹Ÿä¸æ˜Žæ˜¾ã€‚ On using CNN with DCT based Image Data]]></content>
      <categories>
        <category>Deep Learning</category>
      </categories>
      <tags>
        <tag>paper notes-deep learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(2)ï¼šAdderNet]]></title>
    <url>%2F2020%2F12%2F02%2F20201202_AdderNet%2F</url>
    <content type="text"><![CDATA[Motivationç›®æ ‡ï¼šè®¾è®¡æ›´åŠ é«˜æ•ˆçš„æ·±åº¦ç¥žç»ç½‘ç»œï¼Œå¯ä»¥åœ¨èµ„æºæœ‰é™çš„ç§»åŠ¨è®¾å¤‡è¿è¡Œã€‚ çŽ°æœ‰å·¥ä½œçš„å±€é™æ€§ï¼šå¸¸è§„çš„å·ç§¯åŸºäºŽä¹˜æ³•ï¼Œä»£ä»·è¾ƒé«˜ï¼›ç”¨äºŒå€¼æ»¤æ³¢å™¨æ›¿æ¢å·ç§¯çš„å·¥ä½œå¦‚BNNç­‰ä¼šå¸¦æ¥è¾ƒå¤§çš„è¯†åˆ«å‡†ç¡®çŽ‡ä¸‹é™ã€‚ æ–‡ç« æ€è·¯ï¼šå¸¸è§„å·ç§¯æœ¬è´¨ä¸Šæ˜¯ä¸€ç§äº’ç›¸å…³ï¼ˆè¾“å…¥å›¾åƒä¸Žå·ç§¯æ ¸ä¹‹é—´çš„ç›¸ä¼¼åº¦åº¦é‡ï¼‰ã€‚å¯ä»¥ç”¨æ›´é«˜æ•ˆçš„ç›¸ä¼¼åº¦åº¦é‡æ–¹æ³•æ¥æ›¿æ¢å¸¸è§„å·ç§¯ï¼Œä½¿å¾—åº¦é‡ä¸­åªåŒ…å«ä»£ä»·è¾ƒå°çš„åŠ æ³•æ“ä½œâ†’AdderNet AdderNetå¼€å±€å…¬å¼ Y(m,n,t)=\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}S(X(m+i,n+j,k),F(i,j,k,t))Fï¼š å·ç§¯æ ¸ï¼ˆæ»¤æ³¢å™¨ï¼‰(å°ºå¯¸$dÃ—d$) å½“d=1æ—¶ï¼Œè¯¥å…¬å¼è¡¨ç¤ºå…¨è¿žæŽ¥å±‚çš„è®¡ç®— Xï¼šç‰¹å¾å›¾ Sï¼šé¢„å®šä¹‰çš„ç›¸ä¼¼åº¦æµ‹é‡æ–¹æ³•ï¼Œä¾‹å¦‚äº’ç›¸å…³ä¸­$S(x,y)=x\times y$ ä»Žä¸Šè¿°å…¬å¼å‡ºå‘ï¼Œæ–‡ç« æ”¹å˜Sï¼Œä½¿ç”¨L1è·ç¦»æµ‹é‡Få’ŒXçš„ç›¸ä¼¼åº¦ï¼Œä½¿å¾—æµ‹é‡ä¸­åªæœ‰åŠ æ³•æ²¡æœ‰ä¹˜æ³•ï¼š Y(m,n,t)=-\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}|X(m+i,n+j,k)-F(i,j,k,t)|ä½¿ç”¨L1è·ç¦»å­˜åœ¨çš„é—®é¢˜åŠè§£å†³ï¼šé—®é¢˜1ï¼šåŠ æ³•æ»¤æ³¢å™¨çš„è¾“å‡ºæ€»ä¸ºè´Ÿæ•°ï¼ˆä¼šå½±å“æ¿€æ´»å‡½æ•°å¦‚ReLUçš„ä½¿ç”¨ï¼‰ è§£å†³æ–¹æ³•ï¼šä½¿ç”¨Batch Normalizationâ†’è¾“å‡ºè¢«å½’ä¸€åŒ–åˆ°é€‚å½“çš„èŒƒå›´â†’CNNä¸­çš„æ¿€æ´»å‡½æ•°åœ¨AdderNetä¸­ä¹Ÿé€‚ç”¨ ï¼ˆBNä¸­å­˜åœ¨ä¹˜æ³•ï¼Œä½†æ˜¯æ•°é‡å¤ªå°‘å¯ä»¥å¿½ç•¥ï¼‰ é—®é¢˜2.1ï¼šä¼˜åŒ–æ–¹æ³•ä¸­æ»¤æ³¢å™¨Fæ¢¯åº¦çš„è®¡ç®— AdderNetä¸­è®¡ç®—åå¾®åˆ†ï¼š \frac{\partial Y(m,n,t)}{\partial F(i,j,k,t)}=sgn(X(m+i,n+j,k)-F(i,j,k,t))æ‰€ä»¥æ¢¯åº¦å–å€¼åªæœ‰+1ï¼Œ0ï¼Œ-1ã€‚ç”±æ­¤è¿›è¡Œä¼˜åŒ–çš„æ–¹æ³•ä¸ºsignSGDï¼Œä½†æ˜¯ï¼ŒsignSGDå‡ ä¹Žæ°¸è¿œä¸ä¼šæ²¿ç€æœ€é™¡çš„ä¸‹é™æ–¹å‘ï¼Œå¹¶ä¸”æ–¹å‘æ€§åªä¼šéšç€ç»´æ•°çš„å¢žé•¿è€Œå˜å·®ã€‚ è§£å†³æ–¹æ³•ï¼šä½¿ç”¨å¦ä¸€ç§å½¢å¼çš„æ¢¯åº¦ï¼ˆå®žé™…ä¸Šæ˜¯L2èŒƒæ•°çš„æ¢¯åº¦ï¼‰ï¼š \frac{\partial Y(m,n,t)}{\partial F(i,j,k,t)}=X(m+i,n+j,k)-F(i,j,k,t)é—®é¢˜2.2ï¼šä¼˜åŒ–æ–¹æ³•ä¸­ç‰¹å¾å›¾Xæ¢¯åº¦çš„è®¡ç®— åŒæ ·ä½¿ç”¨L2èŒƒæ•°çš„æ¢¯åº¦ï¼Œä½†æ˜¯æ¢¯åº¦å€¼å¯èƒ½ä¼šåœ¨[-1ï¼Œ+1]çš„èŒƒå›´ä¹‹å¤–â†’ç”±äºŽchain ruleï¼ŒYå¯¹Xçš„åå¯¼æ•°ä¸ä»…å½±å“å½“å‰å±‚çš„æ¢¯åº¦ï¼Œè¿˜ä¼šå½±å“å½“å‰å±‚ä¹‹å‰çš„æ‰€æœ‰å±‚çš„æ¢¯åº¦â†’æ¢¯åº¦çˆ†ç‚¸ è§£å†³æ–¹æ³•ï¼šä½¿ç”¨HardTanhå‡½æ•°ï¼ˆHT(x)ï¼‰å°†Xçš„æ¢¯åº¦clipåˆ°[-1,+1]çš„èŒƒå›´ã€‚ \frac{\partial Y(m,n,t)}{\partial X(i,j,k,t)}=HT(F(m+i,n+j,k)-X(i,j,k,t))é—®é¢˜3ï¼šAdderNetä½¿ç”¨L1èŒƒæ•°å¾—åˆ°çš„Yæ–¹å·®æ›´å¤§ï¼Œå¯¼è‡´æ»¤æ³¢å™¨æƒé‡çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ å‡è®¾Få’ŒXæœä»Žæ­£å¤ªåˆ†å¸ƒ CNNä¸­æœ‰ Var[Y_{CNN}]=\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}Var[X\times F]=d^{2}c_{in}Var[X]Var[F]è€ŒAdderNetä¸­åˆ™æ˜¯ Var[Y_{AdderNet}]=\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}Var[|X-F|]=(1-\frac{2}{\pi})d^{2}c_{in}(Var[X]+Var[F])å®žé™…æƒ…å†µä¸­Var[F]éžå¸¸å°ï¼Œæ‰€ä»¥$Var[Y_{AdderNet}]$ä¼šæ¯”$Var[Y_{CNN}]$å¤§ã€‚åœ¨åŠ æ³•å±‚åŽé¢ä¼šæŽ¥ä¸€ä¸ªBNå±‚ï¼Œå¤§æ–¹å·®ä¼šå¯¼è‡´Xçš„æ¢¯åº¦å¹…å€¼å°ï¼Œç»è¿‡chain ruleçš„ä½œç”¨ï¼Œæ»¤æ³¢å™¨çš„æƒé‡æ¢¯åº¦å¹…å€¼ä¼šè¶Šæ¥è¶Šå°ã€‚ è§£å†³æ–¹æ³•ï¼šadaptive learning rate \triangle F_{l}=\gamma \times \alpha_{l}\times \triangle L(F_{l})$l$ï¼šè¡¨ç¤ºç¬¬$l$å±‚ï¼›$\triangle L(F_{l})$ç¬¬$l$å±‚Fçš„æ¢¯åº¦ï¼›$\gamma$ï¼šå…¨å±€å­¦ä¹ çŽ‡ å±€éƒ¨å­¦ä¹ çŽ‡ï¼š \alpha_{l}=\frac{\eta \sqrt k}{||\triangle L(F_{l})||_{2}}kï¼šFä¸­çš„å…ƒç´ æ•°é‡ï¼Œç”¨äºŽå¯¹L2èŒƒæ•°æ±‚å¹³å‡ Resultsåœ¨MNISTã€CIFAR10ã€CIFAR100ã€ImageNetä¸Šè¾¾åˆ°ä¸ŽCNNç›¸è¿‘çš„å‡†ç¡®çŽ‡ã€‚ AdderNetçš„æƒé‡æœä»Žæ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒï¼Œè€ŒCNNçš„æƒé‡æœä»Žé«˜æ–¯åˆ†å¸ƒã€‚ AdderNet: DoWe Really Need Multiplications in Deep Learning? AdderNetä»£ç ]]></content>
      <categories>
        <category>Deep Learning</category>
      </categories>
      <tags>
        <tag>paper notes-deep learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Latexä¸­æ’å…¥pythonä»£ç ]]></title>
    <url>%2F2020%2F10%2F15%2F11_latex_python_code%2F</url>
    <content type="text"><![CDATA[åœ¨Latexä¸­æ’å…¥Pythonä»£ç ï¼Œéœ€è¦ä¸€ä¸ªç¬¬ä¸‰å‘çš„å®åŒ…pythonhighlight: https://github.com/olivierverdier/python-latex-highlighting ä¸‹è½½pythonhighlight.styåŽï¼Œå°†å®ƒæ”¾åˆ°ä½ çš„.texæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹ã€‚ ç„¶åŽå£°æ˜Žè¦ä½¿ç”¨pythonhighlightï¼Œåœ¨texæ–‡ä»¶å†…çš„å¯¼è¨€åŒºï¼š 12\usepackage&#123;graphicx&#125;\usepackage&#123;pythonhighlight&#125; ä¹‹åŽæ—¢å¯ä»¥åœ¨æ­£æ–‡æ·»åŠ ä»£ç äº†: 12345678910\begin&#123;python&#125;import torchimport torch.nn as nnimport torch.optim as optimimport torch.nn.functional as Fimport torchvisionimport torchvision.transforms as transformsimport timeimport os\end&#123;python&#125; æ•ˆæžœå¦‚ä¸‹ï¼š]]></content>
      <categories>
        <category>Latex Trick</category>
      </categories>
      <tags>
        <tag>latex</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo+Valineï¼šä¸ºåšå®¢æ·»åŠ è¯„è®º]]></title>
    <url>%2F2020%2F10%2F15%2F12_hexo_valine%2F</url>
    <content type="text"><![CDATA[æ³¨å†ŒLeancloudè´¦å·ï¼šhttps://www.leancloud.cn æ³¨å†Œå®Œä»¥åŽéœ€è¦åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œåå­—å¯ä»¥éšä¾¿èµ·ï¼Œç„¶åŽ è¿›å…¥åº”ç”¨-&gt;è®¾ç½®-&gt;åº”ç”¨key æ‹¿åˆ°ä½ çš„appidå’Œappkeyä¹‹åŽï¼Œæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼ˆæˆ‘æ˜¯â€¦\themes\next_config.ymlï¼‰ æœç´¢ valineï¼Œå¡«å…¥appid å’Œ appkey 1234567891011121314valine: enable: true # When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version appid: XO7jVé©¬èµ›å…‹zGzoHsz # Your leancloud application appid appkey: Amg1Flé©¬èµ›å…‹2NfhcO # Your leancloud application appkey notify: false # Mail notifier. See: https://github.com/xCss/Valine/wiki verify: false # Verification code placeholder: Just go go # Comment box placeholder avatar: mm # Gravatar style guest_info: nick,mail,link # Custom comment header pageSize: 10 # Pagination size language: # Language, available values: en, zh-cn visitor: false # leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors' for counter compatibility. Article reading statistic https://valine.js.org/visitor.html comment_count: true # If false, comment count will only be displayed in post page, not in home page #post_meta_order: 0 æœ€åŽåœ¨Leancloud -&gt; è®¾ç½® -&gt; å®‰å…¨ä¸­å¿ƒ -&gt; Web å®‰å…¨åŸŸå æŠŠä½ çš„åŸŸååŠ è¿›åŽ» åˆ·æ–°ä¸€ä¸‹~ çœ‹åˆ°è¯„è®ºæ¡†äº† åˆ é™¤è¯„è®ºç™»å½•Leancloud&gt;é€‰æ‹©ä½ åˆ›å»ºçš„åº”ç”¨&gt;å­˜å‚¨&gt;é€‰æ‹©ClassComment å‚è€ƒï¼š https://blog.csdn.net/blue_zy/article/details/79071414 https://github.com/xCss/Valine/issues/69]]></content>
      <categories>
        <category>Setup</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PyQtçš„å®‰è£…ä»¥åŠåœ¨PyCharmä¸Šçš„éƒ¨ç½²]]></title>
    <url>%2F2020%2F05%2F12%2F08_setup_pyqt%E5%9C%A8pycharm%E4%B8%8A%E9%83%A8%E7%BD%B2%2F</url>
    <content type="text"><![CDATA[PyQt5å®‰è£…12pip install pyqt5pip install pyqt5-tools ç¬¬äºŒä¸ªå‘½ä»¤åŒ…å«äº†designerçš„å®‰è£…ã€‚æˆ‘çš„designer.exeå®‰è£…è·¯å¾„åœ¨E:\Anaconda3\Library\bin å¯ä»¥ç”¨Cotanaæœç´¢designerï¼Œç„¶åŽå³é”®æ‰“å¼€æ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼Œç›´æŽ¥å®šä½å®ƒçš„å®‰è£…è·¯å¾„ï¼ŒåŽé¢è¦ç”¨åˆ°ã€‚ designeråœ¨PyCharmä¸Šéƒ¨ç½²File-&gt;Settings-&gt;Tools-&gt;External Tools ç‚¹å‡»â€œ+â€æ¥å¢žåŠ å¤–éƒ¨å·¥å…·ã€‚ (1) å¢žåŠ QTè®¾è®¡ç•Œé¢â€œQt Designerâ€ â€” è¿™ä¸ªå°±æ˜¯è®¾è®¡Qtç•Œé¢çš„å·¥å…· Programé€‰æ‹©PyQtå®‰è£…ç›®å½•ä¸­ designer.exe çš„è·¯å¾„ Work directory ä½¿ç”¨å˜é‡ $ProjectFileDir$ ï¼ˆç‚¹å‡»åŽé¢çš„Insert Macroâ€¦ï¼‰ (2) å¢žåŠ â€œPyUICâ€ â€” è¿™ä¸ªä¸»è¦æ˜¯ç”¨æ¥å°† Qtç•Œé¢ è½¬æ¢æˆ pyä»£ç  Programé€‰æ‹©PyQtå®‰è£…ç›®å½•ä¸­ pyuic5.bat çš„è·¯å¾„ï¼ˆæˆ‘çš„ä¾ç„¶åœ¨E:\Anaconda3\Library\biné‡Œï¼‰ parametersè®¾ç½®ä¸º$FileName$ -o $FileNameWithoutExtension$.py Work directory è®¾ç½®ä¸º $ProjectFileDir$ ï¼ˆç‚¹å‡»åŽé¢çš„Insert Macroâ€¦ï¼‰ ç‚¹å‡»ç¡®è®¤å°±è®¾ç½®å¥½äº†ã€‚è¿”å›žåŽ»åŽé€šè¿‡Toolså¯ä»¥çœ‹åˆ°ï¼š è®¾è®¡GUIä¾ç…§ä¸Šå›¾ï¼Œç‚¹å‡»PyQt Designer, åœ¨å¼¹å‡ºæ¥çš„ç•Œé¢ä¸­é€‰æ‹©Wdigetï¼Œç„¶åŽç‚¹å‡»åˆ›å»ºã€‚ åœ¨çª—å£æ·»åŠ æŽ§ä»¶ï¼ŒLableã€pushButtonã€checkBoxã€lineEditç­‰ï¼š æŠŠ.uiæ–‡ä»¶ä¿å­˜åˆ°å½“å‰é¡¹ç›®ç›®å½•ä¸­ï¼Œç„¶åŽå³é”®ç‚¹å‡».uiæ–‡ä»¶ï¼š ç‚¹å‡»PyUICå³å¯å°†.uiè½¬æˆ.pyæ–‡ä»¶ã€‚ åœ¨login.pyä¸­æ·»åŠ ï¼š 12345678if __name__=="__main__": import sys app=QtWidgets.QApplication(sys.argv) widget=QtWidgets.QWidget() ui=Ui_form() ui.setupUi(widget) widget.show() sys.exit(app.exec_()) è¿è¡Œlogin.pyï¼Œå°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡µé¢äº†ã€‚ QtDesignerçš„å®‰è£… è®¾è®¡GUI]]></content>
      <categories>
        <category>Setup</category>
      </categories>
      <tags>
        <tag>setup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windowsæ›´æ”¹pipé•œåƒæºåŠè§£å†³æ€»æ˜¯timeoutçš„æƒ…å†µ]]></title>
    <url>%2F2020%2F05%2F12%2F07_setup_pip%E9%95%9C%E5%83%8F%E6%BA%90%2F</url>
    <content type="text"><![CDATA[pipå®‰è£…äº‹æƒ…çš„èµ·å› æ˜¯æˆ‘æƒ³å®‰è£…PyQt5ï¼š 12pip install pyqt5pip install pyqt5-tools å½“ç„¶è¿™æ˜¯æœ€æ…¢çš„æ–¹æ³•ï¼ŒäºŽæ˜¯å¯ä»¥ç”¨é•œåƒæºå®‰è£…ï¼š pipå®‰è£…ä½¿ç”¨å›½å†…é•œåƒæº1234567891011æ¸…åŽï¼šhttps://pypi.tuna.tsinghua.edu.cn/simpleé˜¿é‡Œäº‘ï¼šhttp://mirrors.aliyun.com/pypi/simple/ä¸­å›½ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/åŽä¸­ç†å·¥å¤§å­¦ï¼šhttp://pypi.hustunique.com/å±±ä¸œç†å·¥å¤§å­¦ï¼šhttp://pypi.sdutlinux.org/ è±†ç“£ï¼šhttp://pypi.douban.com/simple/ ä¸´æ—¶ä½¿ç”¨çš„è¯åŠ å‚æ•°-iï¼Œä¾‹å¦‚ï¼š 1pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyqt5 ç„¶è€Œä¾ç„¶æ€»æ˜¯timeoutï¼ŒäºŽæ˜¯ï¼š è®¾ç½®pipé…ç½®æ–‡ä»¶é…ç½®æ–‡ä»¶åœ°å€ï¼šï¼ˆå¦‚æžœæ²¡æœ‰pip.iniæ–‡ä»¶ï¼Œå°±è‡ªå·±æ–°å»ºç¼–è¾‘ä¸€ä¸ªï¼‰ 1C:\ProgramData\pip\pip.ini é…ç½®æ–‡ä»¶å†…å®¹ï¼Œå°†å¬å”¤timeoutçš„æ—¶é•¿è®¾ç½®å¾—é•¿ä¸€äº› 12345678[global]timeout = 60index-url = http://pypi.douban.com/simpletrusted-host = pypi.douban.com[install]use-mirrors = truemirrors = http://pypi.douban.comtrusted-host = pypi.douban.com è®¾ç½®å¥½ä¹‹åŽï¼Œå†ç”¨ 1pip install pyqt5 ä¼šæ˜¾ç¤ºçŽ°åœ¨ä½¿ç”¨çš„æ˜¯è±†ç“£é•œåƒæºï¼Œé€Ÿåº¦ä¹Ÿé£žèµ·æ¥äº†ã€‚ pipå®‰è£…PyQt5 pipä½¿ç”¨å›½å†…é•œåƒæº pipé…ç½®æ–‡ä»¶è®¾ç½®]]></content>
      <categories>
        <category>Setup</category>
      </categories>
      <tags>
        <tag>setup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Pytorchè®¡ç®—æ¨¡åž‹è¿ç®—é‡çš„å·¥å…·--torchstat]]></title>
    <url>%2F2020%2F05%2F11%2F06_pytorch_torchstat%2F</url>
    <content type="text"><![CDATA[è¯´æ˜Žä¸Žå®‰è£…è¿™ä¸ªåŒ…å¯ä»¥è®¡ç®—å‡ºä¸€ä¸ªç½‘ç»œæ¨¡åž‹çš„å‚æ•°é‡å’Œè¿ç®—é‡ï¼Œç”šè‡³ç»™å‡ºæ¯ä¸€å±‚çš„è¿ç®—é‡ï¼Œæ¯”å¦‚ï¼š å®‰è£…æ–¹æ³•ä¸ºï¼š 1pip install torchstat ç¤ºä¾‹12345678910111213141516171819202122232425262728import torchimport torch.nn as nnimport torch.nn.functional as Ffrom torchstat import statclass Net(nn.Module): def __init__(self): super(Net, self).__init__() self.conv1 = nn.Conv2d(3, 10, kernel_size=5) self.conv2 = nn.Conv2d(10, 20, kernel_size=5) self.conv2_drop = nn.Dropout2d() self.fc1 = nn.Linear(56180, 50) self.fc2 = nn.Linear(50, 10) def forward(self, x): x = F.relu(F.max_pool2d(self.conv1(x), 2)) x = F.relu(F.max_pool2d(self.conv2_drop(self.conv2(x)), 2)) x = x.view(-1, 56180) x = F.relu(self.fc1(x)) x = F.dropout(x, training=self.training) x = self.fc2(x) return F.log_softmax(x, dim=1)if __name__ == '__main__': model = Net() stat(model, (3, 224, 224)) ç„¶åŽåœ¨å‘½ä»¤è¡Œè¾“å…¥ 1torchstat -f example.py -m Net å¦‚æžœè¦æ›´æ”¹è¾“å…¥å›¾åƒçš„å°ºå¯¸ï¼Œåªæ”¹example.pyé‡Œçš„ï¼ˆ3ï¼Œ224ï¼Œ224ï¼‰æ²¡æœ‰èµ·ä½œç”¨ï¼ŒäºŽæ˜¯æˆ‘ä½¿ç”¨äº†-sé€‰é¡¹ï¼š 1torchstat -f example.py -m Net -s &#39;3x32x32&#39; è¿™é‡Œé€‰é¡¹å†…å®¹æ˜¯ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„ï¼Œâ€˜xâ€™å°±æ˜¯å­—æ¯xã€‚ å¦ä¸€ä¸ªç¤ºä¾‹12345from torchstat import statimport torchvision.models as modelsmodel = models.resnet18()stat(model, (3, 224, 224)) torchstatçš„Github]]></content>
      <categories>
        <category>PyTorch Tools</category>
      </categories>
      <tags>
        <tag>pytorch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®ºæ–‡é˜…è¯»ç¬”è®°(1)ï¼šNASä¹‹DARTS]]></title>
    <url>%2F2020%2F04%2F26%2F20200426_NAS_DARTS%2F</url>
    <content type="text"><![CDATA[Search Spaceæœç´¢cellä½œä¸ºç½‘ç»œç»“æž„çš„æž„ä»¶ã€‚cellæ˜¯åŒ…å«Nä¸ªç»“ç‚¹çš„æœ‰åºåºåˆ—çš„æœ‰å‘æ— çŽ¯å›¾ã€‚ç»“ç‚¹$x^{(i)}$æ˜¯éšè—è¡¨è¾¾ï¼ˆæ¯”å¦‚å·ç§¯ç½‘ç»œçš„ç‰¹å¾å›¾ï¼‰ï¼Œè€Œæœ‰å‘è¾¹$(i ,j)$åˆ™å…³è”ç€å˜æ¢$x^{(i)}$çš„ä¸€äº›æ“ä½œ$o^{(i,j)}$ã€‚æ–‡ç« ä¸­å‡å®šä¸€ä¸ªcellä¸­æœ‰ä¸¤ä¸ªè¾“å…¥èŠ‚ç‚¹å’Œä¸€ä¸ªè¾“å‡ºèŠ‚ç‚¹ã€‚å¯¹äºŽå·ç§¯cellï¼Œè¾“å…¥èŠ‚ç‚¹è¢«å®šä¹‰ä¸ºå½“å‰å±‚çš„å‰é¢ä¸¤å±‚çš„cellçš„è¾“å‡ºã€‚å½“å‰cellçš„è¾“å‡ºæ˜¯å¯¹æ‰€æœ‰ä¸­é—´èŠ‚ç‚¹ä½¿ç”¨ä¸€ä¸ªåŽ‹ç¼©æ“ä½œï¼ˆæ¯”å¦‚æ‹¼æŽ¥ï¼‰å¾—åˆ°çš„ã€‚ æ¯ä¸€ä¸ªä¸­é—´ç»“ç‚¹åŸºäºŽå…¶æ‰€æœ‰å‰å‘æ“ä½œè®¡ç®—å¾—åˆ°ï¼š x^{(j)}=\sum_{i]]></content>
      <categories>
        <category>Deep Learning</category>
      </categories>
      <tags>
        <tag>paper notes-deep learning</tag>
      </tags>
  </entry>
</search>

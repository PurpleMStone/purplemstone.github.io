<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Stone&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-04-22T11:08:47.508Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Purple M. Stone</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Gitç¬”è®°(2)--Creating Snapshots</title>
    <link href="http://yoursite.com/2021/04/21/20210421_Git002/"/>
    <id>http://yoursite.com/2021/04/21/20210421_Git002/</id>
    <published>2021-04-21T13:50:09.000Z</published>
    <updated>2021-04-22T11:08:47.508Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆå§‹åŒ–ä¸€ä¸ªä»“åº“"><a href="#åˆå§‹åŒ–ä¸€ä¸ªä»“åº“" class="headerlink" title="åˆå§‹åŒ–ä¸€ä¸ªä»“åº“"></a>åˆå§‹åŒ–ä¸€ä¸ªä»“åº“</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir Moon</span><br><span class="line"><span class="built_in">cd</span> Moon</span><br><span class="line">git init</span><br></pre></td></tr></table></figure><p>åœ¨ç›®å½•Moonä¸‹æœ‰ä¸€ä¸ª.gitéšè—æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤çœ‹åˆ°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -a</span><br></pre></td></tr></table></figure><p>åˆ é™¤.gitï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf .git</span><br></pre></td></tr></table></figure><h1 id="Git-Workflow"><a href="#Git-Workflow" class="headerlink" title="Git Workflow"></a>Git Workflow</h1><p>æœ¬åœ°directoryâ†’staging area (index)â†’repository</p><h2 id="Staging-Files"><a href="#Staging-Files" class="headerlink" title="Staging Files"></a>Staging Files</h2><p><img src="/images/Git/01.png" alt="01"></p><p>ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ï¼Œæ ‡çº¢æ˜¯å› ä¸ºæ–°å»ºçš„ä¸¤ä¸ªtxtæ–‡ä»¶è¿˜æ²¡åœ¨staging areaä¸­ã€‚</p><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å°†ä¸¤ä¸ªæ–‡ä»¶çš„<strong>å˜åŒ–</strong>ï¼ˆæ–°å»º/åˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹æ›´æ”¹ï¼‰å­˜å…¥staging areaä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add file1.txt file2.txt</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add *.txt</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸‰ç§æ–¹å¼ï¼Œï¼ˆ1ï¼‰å°±addè¿™ä¸¤ä¸ªæ–‡ä»¶;ï¼ˆ2ï¼‰addæ‰€æœ‰txtæ–‡ä»¶;ï¼ˆ3ï¼‰addæ‰€æœ‰æ–‡ä»¶</p><p>ç„¶åå†æŸ¥çœ‹ï¼Œå°±ç»¿äº†ï¼š</p><p><img src="/images/Git/02.png" alt="02"></p><h2 id="Committing-Changes"><a href="#Committing-Changes" class="headerlink" title="Committing Changes"></a>Committing Changes</h2><p>æäº¤åˆ°ä»“åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"Initial commit."</span></span><br></pre></td></tr></table></figure><h2 id="Committing-Best-Practices"><a href="#Committing-Best-Practices" class="headerlink" title="Committing Best Practices"></a>Committing Best Practices</h2><ul><li>commitçš„æ—¶å€™æ–‡ä»¶çš„å˜åŒ–é‡åº”è¯¥é€‚ä¸­ï¼ˆä¸è¦å¤ªå¤šï¼Œä¹Ÿä¸è¦å¤ªå°‘ï¼‰</li><li>Commit often: æƒ³è¦è®°å½•ä¸‹æŸä¸ªçŠ¶æ€æ—¶ï¼Œå°±commit</li><li>Make it mean something</li></ul><p>ä¾‹å¦‚ï¼šå¯¹äºä¸¤ä¸ªæ”¹å˜ (1) Bug Fix,  (2) Typo æœ€å¥½ä¸è¦ä¸€èµ·commitï¼Œä¸ç„¶ä¸çŸ¥é“æ”¹äº†å•¥ï¼Œæœ€å¥½åˆ†å¼€commit</p><h2 id="Skipping-the-Staging-Area"><a href="#Skipping-the-Staging-Area" class="headerlink" title="Skipping the Staging Area"></a>Skipping the Staging Area</h2><p>ä½¿ç”¨ -a é€‰é¡¹è·³è¿‡git add</p><p>å¯ä»¥å°†ä¸¤ä¸ªé€‰é¡¹ -a å’Œ -m åˆå¹¶å†™æˆ -am</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am <span class="string">"Fix the bug"</span></span><br></pre></td></tr></table></figure><h1 id="Remove-Files"><a href="#Remove-Files" class="headerlink" title="Remove Files"></a>Remove Files</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ rm file1.txt</span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git restore &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        deleted:    file1.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line">$ git ls-files</span><br><span class="line">file1.txt</span><br><span class="line">file2.txt</span><br></pre></td></tr></table></figure><p>åœ¨æœ¬åœ°ç›®å½•ä¸‹åˆ é™¤file1.txtï¼Œä½†æ˜¯ç”¨git ls-filesæŸ¥çœ‹staging areaä¸­çš„æ–‡ä»¶ä¼šå‘ç°file1.txtè¿˜åœ¨å…¶ä¸­ã€‚ä½¿ç”¨git addæ›´æ–°staging areaç„¶åcommitï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git add file1.txt</span><br><span class="line"></span><br><span class="line">$ git ls-files</span><br><span class="line">file2.txt</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        deleted:    file1.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Remove unused code"</span></span><br><span class="line">[master b184de1] Remove unused code</span><br><span class="line"> 1 file changed, 7 deletions(-)</span><br><span class="line"> delete mode 100644 file1.txt</span><br></pre></td></tr></table></figure><p>é™¤äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼ˆgit rmï¼‰ä¸€æ¬¡æ€§åˆ é™¤æœ¬åœ°ç›®å½•å’Œstaging areaä¸­çš„æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git rm file2.txt</span><br><span class="line">rm <span class="string">'file2.txt'</span></span><br><span class="line"></span><br><span class="line">$ git ls-files</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        deleted:    file2.txt</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Remove unused code"</span></span><br><span class="line">[master 3fd1e3e] Remove unused code</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 file2.txt</span><br></pre></td></tr></table></figure><h1 id="Renaming-and-Moving-Files"><a href="#Renaming-and-Moving-Files" class="headerlink" title="Renaming and Moving Files"></a>Renaming and Moving Files</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ mv file1.txt main.js</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git restore &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        deleted:    file1.txt</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        main.js</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line">$ git add file1.txt</span><br><span class="line"></span><br><span class="line">$ git add main.js</span><br><span class="line">warning: LF will be replaced by CRLF <span class="keyword">in</span> main.js.</span><br><span class="line">The file will have its original line endings <span class="keyword">in</span> your working directory</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        renamed:    file1.txt -&gt; main.js</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶çš„æ›´åæ¶‰åŠåˆ°ä¸¤ä¸ªå˜åŒ–ï¼ŒåŸæ–‡ä»¶file1.txtåˆ é™¤ï¼Œä»¥åŠæ–°æ–‡ä»¶main.jsçš„åˆ›å»ºã€‚</p><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¾¿æ·çš„æ–¹å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git mv file1.txt main.js</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git restore --staged &lt;file&gt;..."</span> to unstage)</span><br><span class="line">        renamed:    file1.txt -&gt; main.js</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Refactor code"</span></span><br><span class="line">[master 70800e8] Refactor code</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> rename file1.txt =&gt; main.js (100%)</span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ°0 insertions(+), 0 deletions(-)ï¼Œæ”¹åè€Œå·²ã€‚</p><h1 id="Ignoring-Files"><a href="#Ignoring-Files" class="headerlink" title="Ignoring Files"></a>Ignoring Files</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir logs</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> hello &gt; logs/dev.log</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        logs/</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">"git add"</span> to track)</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯äº‹å®ä¸Šæˆ‘ä»¬å¹¶ä¸æƒ³å°†logæ–‡ä»¶æäº¤ã€‚æ–¹æ³•ï¼šå°† logs/ å†™å…¥.gitignoreä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> logs/ &gt; .gitignore</span><br></pre></td></tr></table></figure><p>ç”¨vscodeæ‰“å¼€æ–‡ä»¶.gitignore</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ code .gitignore</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨ .gitignore ä¸­çš„ä¸‹ä¸€è¡Œå†™ä¸Š*.logè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶ç±»å‹ã€‚ç„¶åæäº¤ .gitignore</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        .gitignore</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">"git add"</span> to track)</span><br><span class="line"></span><br><span class="line">$ git add .gitignore</span><br><span class="line">warning: LF will be replaced by CRLF <span class="keyword">in</span> .gitignore.</span><br><span class="line">The file will have its original line endings <span class="keyword">in</span> your working directory</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Add gitignore"</span></span><br><span class="line">[master 9ed82f0] Add gitignore</span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 .gitignore</span><br></pre></td></tr></table></figure><p>ä¹‹ålogæ–‡ä»¶çš„æ”¹å˜éƒ½ä¼šè¢«staging areaå¿½ç•¥äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> hello &gt; logs/main.log</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°nothing to commitã€‚</p><p>â€‹        å¦‚æœ<strong>å·²ç»</strong>ç”¨ git add ä¸å°å¿ƒå°† log æ–‡ä»¶æäº¤åˆ° staging area äº†ï¼ˆåœ¨å†™å…¥.gitignoreä¹‹å‰å°±äº¤äº†ï¼‰ï¼Œå¯ä»¥ç”¨å‘½ä»¤åˆ é™¤ staging area ä¸­çš„æ–‡ä»¶ã€‚å…ˆ help ä¸€ä¸‹çœ‹çœ‹ç”¨å•¥é€‰é¡¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git rm -h</span><br><span class="line">usage: git rm [&lt;options&gt;] [--] &lt;file&gt;...</span><br><span class="line"></span><br><span class="line">    -n, --dry-run         dry run</span><br><span class="line">    -q, --quiet           <span class="keyword">do</span> not list removed files</span><br><span class="line">    --cached              only remove from the index</span><br><span class="line">    -f, --force           override the up-to-date check</span><br><span class="line">    -r                    allow recursive removal</span><br><span class="line">    --ignore-unmatch      <span class="built_in">exit</span> with a zero status even <span class="keyword">if</span> nothing matched</span><br><span class="line">    --pathspec-from-file &lt;file&gt;</span><br><span class="line">                          <span class="built_in">read</span> pathspec from file</span><br><span class="line">    --pathspec-file-nul   with --pathspec-from-file, pathspec elements are separated with NUL character</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rm --cached -r logs/</span><br></pre></td></tr></table></figure><h1 id="Short-Status"><a href="#Short-Status" class="headerlink" title="Short Status"></a>Short Status</h1><p>git status ç»™å‡ºçš„ä¿¡æ¯æ˜“äºç†è§£ï¼Œä½†æ˜¯å†—é•¿ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> sky &gt;&gt; file1.js</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> sky &gt; file2.js</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git restore &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   file1.js</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line">        file2.js</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure><p>åŠ  -s é€‰é¡¹ï¼š</p><p><img src="/images/Git/03.png" alt="03"></p><p>è§‚å¯Ÿ M çš„é¢œè‰²å˜åŒ–ï¼Œgit add ä¹‹å M ç”±çº¢å˜ç»¿ï¼Œ?? å˜ A</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mï¼šè¡¨ç¤ºmodified</span><br><span class="line">Aï¼šè¡¨ç¤ºadded</span><br></pre></td></tr></table></figure><h1 id="Viewing-the-Staged-amp-Unstaged-Changes"><a href="#Viewing-the-Staged-amp-Unstaged-Changes" class="headerlink" title="Viewing the Staged &amp; Unstaged Changes"></a>Viewing the Staged &amp; Unstaged Changes</h1><p>Motivation: æœ‰æ—¶å€™åœ¨å°†changesä¸Šä¼ åˆ°staging areaæˆ–commitåˆ°repositoryä¹‹å‰ï¼Œè¦å…ˆçœ‹çœ‹æ”¹äº†å•¥ï¼Œæ”¹å¾—å¯¹ä¸å¯¹ã€‚</p><p><strong>æŸ¥çœ‹staged changes </strong>(åœ¨staging areaä¸­ä½†æ˜¯è¿˜æ²¡commit)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ git diff --staged</span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">index ce01362..7633964 100644</span><br><span class="line">--- a/file1.js</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -1 +1,3 @@</span><br><span class="line"> hello</span><br><span class="line">+sky</span><br><span class="line">+sun</span><br><span class="line">diff --git a/file2.js b/file2.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..f5e95e7</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file2.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+sky</span><br></pre></td></tr></table></figure><p><strong>æŸ¥çœ‹unstaged changes</strong>ï¼ˆåœ¨æœ¬åœ°ç›®å½•ä¸‹ï¼Œä¸åœ¨staging areaä¸­ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git diff</span><br></pre></td></tr></table></figure><p>æ¯”å¦‚åœ¨file1.jsä¸­å°†hello æ”¹ä¸º hello worldï¼š</p><p><img src="/images/Git/04.png" alt="04"></p><p>aæ˜¯åœ¨staging areaä¸­çš„copyï¼Œbæ˜¯æœ¬åœ°ç›®å½•ä¸‹çš„copy</p><p>@@ -1,3 +1,3 @@ è¡¨ç¤ºæ—§ç‰ˆæœ¬ï¼ˆstaging areaä¸­çš„ï¼‰ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæœ‰3è¡Œï¼ˆ-1,3ï¼‰ï¼›æ–°ç‰ˆæœ¬ï¼ˆæœ¬åœ°ç›®å½•ä¸‹çš„ï¼‰ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œæœ‰3è¡Œï¼ˆ+1,3ï¼‰</p><p>æ ‡çº¢çš„æ˜¯æ—§ç‰ˆæœ¬å†…å®¹ï¼Œæ ‡ç»¿çš„æ˜¯æ–°ç‰ˆæœ¬å†…å®¹ï¼Œç™½è‰²çš„æ˜¯æœªæ›´æ”¹å†…å®¹ã€‚</p><h2 id="Visual-Diff-Tools"><a href="#Visual-Diff-Tools" class="headerlink" title="Visual Diff Tools"></a>Visual Diff Tools</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ğŸ‘‰ KDiff3</span><br><span class="line">ğŸ‘‰ P4Merge</span><br><span class="line">ğŸ‘‰ WinMerge (Windows Only)</span><br><span class="line">ğŸ‘‰ VSCode</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€‰ç”¨VSCodeæ¥å¯è§†åŒ–changesã€‚é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global diff.tool vscode</span><br><span class="line"></span><br><span class="line">$ git config --global difftool.vscode.cmd <span class="string">"code --wait --diff <span class="variable">$LOCAL</span> <span class="variable">$REMOTE</span>"</span></span><br><span class="line"></span><br><span class="line">$ git config --global -e</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹unstaged changes:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git difftool</span><br></pre></td></tr></table></figure><p><img src="/images/Git/06.png" alt="06"></p><p>æŸ¥çœ‹staged changesï¼ˆæ—§ç‰ˆæœ¬æ˜¯å‰ä¸€æ¬¡æäº¤åˆ°ä»“åº“çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬æ˜¯å¦‚ä»Šåœ¨staging areaä¸­çš„ç‰ˆæœ¬ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git difftool --staged</span><br><span class="line"></span><br><span class="line">Viewing (1/2): <span class="string">'file1.js'</span></span><br><span class="line">Launch <span class="string">'vscode'</span> [Y/n]? y</span><br><span class="line"></span><br><span class="line">Viewing (2/2): <span class="string">'file2.js'</span></span><br><span class="line">Launch <span class="string">'vscode'</span> [Y/n]? y</span><br></pre></td></tr></table></figure><p><img src="/images/Git/05.png" alt="05"></p><p><img src="/images/Git/07.png" alt="07"></p><h1 id="Viewing-the-History"><a href="#Viewing-the-History" class="headerlink" title="Viewing the History"></a>Viewing the History</h1><p>ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æäº¤å†å²ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç®€çŸ­æè¿° (æœ€è¿‘æ›´æ”¹æ˜¾ç¤ºåœ¨ä¸Šé¢)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br></pre></td></tr></table></figure><p>æ¢æ˜¾ç¤ºé¡ºåº (æœ€è¿‘æ›´æ”¹æ˜¾ç¤ºåœ¨ä¸‹é¢):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline --reverse</span><br></pre></td></tr></table></figure><h1 id="Viewing-a-Commit"><a href="#Viewing-a-Commit" class="headerlink" title="Viewing a Commit"></a>Viewing a Commit</h1><p>å¯ä»¥é€šè¿‡IDæŸ¥çœ‹å†å²commitï¼Œå¦‚æœIDå‰å‡ ä½å°±å”¯ä¸€æ ‡è¯†äº†æŸå†å²commitï¼Œé‚£ä¹ˆç”¨å‰å‡ ä½å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">fdb7fb6 (HEAD -&gt; master) add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">$ git show 62416</span><br><span class="line">commit 62416e293cdb5f7334ea6dc09a8fbb0314eedcc2</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 11:32:51 2021 +0800</span><br><span class="line"></span><br><span class="line">    add files</span><br><span class="line"></span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..ce01362</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨HEADï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~1</span><br><span class="line">commit 62416e293cdb5f7334ea6dc09a8fbb0314eedcc2</span><br><span class="line">Author: Stone &lt;1140525895@qq.com&gt;</span><br><span class="line">Date:   Thu Apr 22 11:32:51 2021 +0800</span><br><span class="line"></span><br><span class="line">    add files</span><br><span class="line"></span><br><span class="line">diff --git a/file1.js b/file1.js</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..ce01362</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/file1.js</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+hello</span><br></pre></td></tr></table></figure><p>HEADæ˜¯å½“å‰commitçš„reference, HEAD~1æ˜¯æŒ‡ä»HEADå¾€åçš„ä¸€ä¸ªcommitï¼Œæ­¤ä¾‹ä¸­å°±æ˜¯IDä¸º62416e2çš„commitã€‚</p><p>ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸå†å² commit ä¸­å­˜äº repository çš„å†…å®¹ï¼ˆè€Œä¸æ˜¯changesï¼‰:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git show HEAD~1:.gitignore</span><br><span class="line">logs/</span><br><span class="line">bin/</span><br><span class="line">*.<span class="built_in">log</span></span><br><span class="line">*.bin</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŸ¥çœ‹æŸå†å² commit ä¸­å­˜äº repository çš„æ‰€æœ‰æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git ls-tree HEAD</span><br><span class="line">100644 blob 1cd4d4e7fe27c57dc89d6e68d1f535f00382e563    .gitignore</span><br><span class="line">040000 tree 38051ae48accaf0025a257eaa7a3a328e1f0fe56    data</span><br><span class="line">100644 blob 29887f938f21333a5eee9dfd0decb4b0a207d855    file1.js</span><br><span class="line">100644 blob f5e95e70e524ec32d0200e10ba179ab4c5f13884    file2.js</span><br><span class="line">100644 blob ce013625030ba8dba906f756967f9e9ca394464a    main.js</span><br></pre></td></tr></table></figure><p>æ ¼å¼ï¼šID, æ–‡ä»¶ç±»å‹, å”¯ä¸€æ ‡è¯†ç¬¦ (æ ¹æ®æ–‡ä»¶å†…å®¹ç¡®å®šçš„), æ–‡ä»¶å</p><p>dataæ˜¯ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥ç±»å‹ä¸ºtreeï¼Œé‡Œé¢æœ‰ä¸ªæ–‡ä»¶main.txtã€‚</p><p>æ ¹æ®æ–‡ä»¶å”¯ä¸€æ ‡è¯†ç¬¦æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git show 3805</span><br><span class="line">tree 3805</span><br><span class="line"></span><br><span class="line">main.txt</span><br><span class="line"></span><br><span class="line">$ git show f5e95</span><br><span class="line">sky</span><br></pre></td></tr></table></figure><p>f5e95 æ˜¯ file2.js çš„å”¯ä¸€æ ‡è¯†ç¬¦çš„å‰å‡ ä½ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹åªæœ‰ä¸€è¡Œï¼Œå°±æ˜¯ sky</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ€»ç»“ï¼šGit Objects</span><br><span class="line">ğŸ‘‰ Commits</span><br><span class="line">ğŸ‘‰ Blobs (Files)</span><br><span class="line">ğŸ‘‰ Trees (Directories)</span><br><span class="line">ğŸ‘‰ Tags</span><br></pre></td></tr></table></figure><h1 id="Unstaging-Files"><a href="#Unstaging-Files" class="headerlink" title="Unstaging Files"></a>Unstaging Files</h1><p>file1.jsæœ‰ä¸¤æ¬¡changesï¼Œæˆ‘ä»¬ç”¨ git add å°† file1.js çš„ç¬¬ä¸€ä¸ªå˜åŒ–ä¸Šä¼ åˆ° staging areaä¸­äº†ï¼Œç¬¬äºŒæ¬¡ change è¿˜åœ¨æœ¬åœ°ç›®å½•ä¸­ã€‚</p><p>æˆ‘ä»¬ä¸æƒ³åŒæ—¶ commit file1.js å’Œ file2.js ä¸¤ä¸ªæ–‡ä»¶çš„å˜åŒ–ã€‚æ‰€ä»¥è¦ undo è¿™ä¸ª git add æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git restore --staged file1.js</span><br></pre></td></tr></table></figure><p><img src="/images/Git/08.png" alt="08"></p><p>ç°åœ¨ file1.js çš„ä¸¤æ¬¡å˜åŒ–éƒ½åªåœ¨æœ¬åœ°ç›®å½•ä¸‹è€Œä¸åœ¨ staging area ä¸­äº†ã€‚</p><p>åŸç†ï¼šstaging area ä»ç›®å‰çš„ repository è¯»å– file1.js ã€‚å› ä¸ºä¸¤æ¬¡å˜åŒ–éƒ½è¿˜æ²¡ commit ï¼Œrepository ä¸­çš„ file1.js å°±æ˜¯åŸå§‹çš„ (ä¸¤æ¬¡å˜åŒ–ä¹‹å‰çš„)ã€‚</p><p>å¦‚æœè¦æ’¤é”€ file2.js çš„ git add æ“ä½œã€‚repository ä¸­è¿˜æ²¡æœ‰ file2.js, æ‰€ä»¥æ’¤é”€ä¹‹å file2.js æ˜¯ä¸€ä¸ªuntracked file (ç”¨??è¡¨ç¤º)ã€‚</p><p><img src="/images/Git/09.png" alt="09"></p><h1 id="Discarding-Local-Changes"><a href="#Discarding-Local-Changes" class="headerlink" title="Discarding Local Changes"></a>Discarding Local Changes</h1><p>ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git restore .</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ’¤é”€æœ¬åœ°ç›®å½•ä¸‹çš„æ”¹å˜ã€‚file2.js ä¾ç„¶æ˜¯untracked fileï¼Œå› ä¸ºæœ¬åœ°ç›®å½•è¦ä»staging area è¯»å–ä¸Šä¸€æ¬¡çŠ¶æ€ï¼Œè€Œstaging area ä¸­æ²¡æœ‰ file2.js, å°±ä¸çŸ¥é“è¯¥åšå•¥ã€‚æ‰€ä»¥è¦ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clean</span><br></pre></td></tr></table></figure><p>ä»ä½ çš„å·¥ä½œç›®å½•ä¸­åˆ é™¤æ‰€æœ‰<strong>untrackedï¼Œæ²¡æœ‰è¢«ç®¡ç†</strong>è¿‡çš„æ–‡ä»¶ã€‚</p><p>å‚æ•°è¯´æ˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git clean -h</span><br><span class="line">usage: git clean [-d] [-f] [-i] [-n] [-q] [-e &lt;pattern&gt;] [-x | -X] [--] &lt;paths&gt;...</span><br><span class="line"></span><br><span class="line">    -q, --quiet           <span class="keyword">do</span> not <span class="built_in">print</span> names of files removed</span><br><span class="line">    -n, --dry-run         dry run</span><br><span class="line">    -f, --force           force</span><br><span class="line">    -i, --interactive     interactive cleaning</span><br><span class="line">    -d                    remove whole directories</span><br><span class="line">    -e, --exclude &lt;pattern&gt;</span><br><span class="line">                          add &lt;pattern&gt; to ignore rules</span><br><span class="line">    -x                    remove ignored files, too</span><br><span class="line">    -X                    remove only ignored files</span><br></pre></td></tr></table></figure><p><img src="/images/Git/10.png" alt="10"></p><h1 id="Restoring-a-File-to-an-Earlier-Version"><a href="#Restoring-a-File-to-an-Earlier-Version" class="headerlink" title="Restoring a File to an Earlier Version"></a>Restoring a File to an Earlier Version</h1><p>ä¸‹é¢çš„ demo æ˜¾ç¤ºäº†åˆ é™¤äº† file1.js åç”¨ git restore ä»å†å² commit ä¸­æ¢å¤æ­¤æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ git rm file1.js</span><br><span class="line">rm <span class="string">'file1.js'</span></span><br><span class="line"></span><br><span class="line">$ git status -s</span><br><span class="line">D  file1.js</span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="string">"Delete file1.js"</span></span><br><span class="line">[master 78daaab] Delete file1.js</span><br><span class="line"> 1 file changed, 1 deletion(-)</span><br><span class="line"> delete mode 100644 file1.js</span><br><span class="line"></span><br><span class="line">$ git <span class="built_in">log</span> --oneline</span><br><span class="line">78daaab (HEAD -&gt; master) Delete file1.js</span><br><span class="line">133904b commit file1.ls</span><br><span class="line">0f62ff0 remove all js files</span><br><span class="line">fdb7fb6 add data</span><br><span class="line">62416e2 add files</span><br><span class="line">fde6777 modified</span><br><span class="line">f264740 modified</span><br><span class="line">9ed82f0 Add gitignore</span><br><span class="line">70800e8 Refactor code</span><br><span class="line">d6f4cc6 Initial commit</span><br><span class="line">3fd1e3e Remove unused code</span><br><span class="line">b184de1 Remove unused code</span><br><span class="line">dd03e4e Fix the bug</span><br><span class="line">3b634ca add Lines</span><br><span class="line">a787fca add line</span><br><span class="line">568c0fc Initial commit.</span><br><span class="line"></span><br><span class="line">$ git restore --<span class="built_in">source</span>=HEAD~1 file1.js</span><br><span class="line"></span><br><span class="line">$ git status -s</span><br><span class="line">?? file1.js</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åˆå§‹åŒ–ä¸€ä¸ªä»“åº“&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–ä¸€ä¸ªä»“åº“&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹åŒ–ä¸€ä¸ªä»“åº“&quot;&gt;&lt;/a&gt;åˆå§‹åŒ–ä¸€ä¸ªä»“åº“&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;
      
    
    </summary>
    
    
      <category term="Git" scheme="http://yoursite.com/categories/Git/"/>
    
    
      <category term="job notes-git" scheme="http://yoursite.com/tags/job-notes-git/"/>
    
  </entry>
  
  <entry>
    <title>MySQLç¬”è®°(2)--è¿æ¥</title>
    <link href="http://yoursite.com/2021/04/20/20210420_SQL002/"/>
    <id>http://yoursite.com/2021/04/20/20210420_SQL002/</id>
    <published>2021-04-20T13:50:09.000Z</published>
    <updated>2021-04-21T11:13:07.324Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Inner-Joins-å†…è¿æ¥"><a href="#Inner-Joins-å†…è¿æ¥" class="headerlink" title="Inner Joins (å†…è¿æ¥)"></a>Inner Joins (å†…è¿æ¥)</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> order_id, o.customer_id, first_name, last_name</span><br><span class="line"><span class="keyword">FROM</span> orders o</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> customers c</span><br><span class="line"><span class="keyword">ON</span> o.customer_id = c.customer_id</span><br></pre></td></tr></table></figure><p>è¿”å›è¡¨ordersåœ¨è¡¨customersä¸­æœ‰å¯¹åº”recordçš„é¡¹</p><p>oå’Œcåˆ†åˆ«æ˜¯orderså’Œcustomersçš„åˆ«åï¼Œä»¥ç®€åŒ–ä»£ç </p><p>å…³é”®å­—INNERå¯çœç•¥</p><h2 id="è·¨æ•°æ®åº“è¿æ¥"><a href="#è·¨æ•°æ®åº“è¿æ¥" class="headerlink" title="è·¨æ•°æ®åº“è¿æ¥"></a>è·¨æ•°æ®åº“è¿æ¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> sql_store;  <span class="comment">-- é€‰æ‹©äº†æ•°æ®åº“sql_storeä¸ºå½“å‰æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> order_items oi</span><br><span class="line"><span class="keyword">JOIN</span> sql_inventory.products p   <span class="comment">-- å¦ä¸€ä¸ªæ•°æ®åº“sql_inventory</span></span><br><span class="line"><span class="keyword">ON</span> oi.product_id = p.product_id</span><br></pre></td></tr></table></figure><h2 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h2><p>å°†è¡¨å’Œè‡ªå·±è¿æ¥ï¼Œä½†æ˜¯ç»™ä¸åŒçš„åˆ«åä»¥åŒºåˆ†ã€‚å¦‚ä¸‹ï¼Œmanagerä¹Ÿæ˜¯ä¸€åå‘˜å·¥ï¼Œå…¶ä¿¡æ¯ä¹Ÿåœ¨è¡¨employeesä¸­ï¼Œç”¨è‡ªè¿æ¥å¯ä»¥å¾—åˆ°employeeå’ŒTAçš„managerçš„å…·ä½“å‘˜å·¥ä¿¡æ¯ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> sql_hr;  <span class="comment">-- é€‰æ‹©äº†æ•°æ®åº“sql_hrä¸ºå½“å‰æ•°æ®åº“</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">e.employee_id,</span><br><span class="line">    e.first_name,</span><br><span class="line">    m.first_name <span class="keyword">AS</span> manager</span><br><span class="line"><span class="keyword">FROM</span> employees e</span><br><span class="line"><span class="keyword">JOIN</span> employees m  </span><br><span class="line"><span class="keyword">ON</span> e.reports_to = m.employee_id</span><br></pre></td></tr></table></figure><h2 id="å¤šè¡¨è¿æ¥"><a href="#å¤šè¡¨è¿æ¥" class="headerlink" title="å¤šè¡¨è¿æ¥"></a>å¤šè¡¨è¿æ¥</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> sql_store;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">o.order_id,</span><br><span class="line">    o.order_date,</span><br><span class="line">    c.first_name,</span><br><span class="line">    c.last_name,</span><br><span class="line">    os.name <span class="keyword">AS</span> <span class="keyword">status</span></span><br><span class="line"><span class="keyword">FROM</span> orders o</span><br><span class="line"><span class="keyword">JOIN</span> customers c</span><br><span class="line"><span class="keyword">ON</span> o.customer_id = c.customer_id</span><br><span class="line"><span class="keyword">JOIN</span> order_statuses os</span><br><span class="line"><span class="keyword">ON</span> o.status = os.order_status_id</span><br></pre></td></tr></table></figure><p>è¡¨orderså…ˆå’Œè¡¨customersè¿æ¥ï¼Œç„¶åä¸è¡¨order_statusesè¿æ¥ã€‚</p><h1 id="IN-è¿ç®—ç¬¦"><a href="#IN-è¿ç®—ç¬¦" class="headerlink" title="IN è¿ç®—ç¬¦"></a>IN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE state = 'VA' OR state = 'GA' OR state = 'FL'</span></span><br><span class="line"><span class="comment">-- ç”¨INæ”¹å†™ï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> state <span class="keyword">IN</span> (<span class="string">'VA'</span>, <span class="string">'GA'</span>, <span class="string">'FL'</span>)</span><br><span class="line"><span class="comment">-- WHERE state NOT IN ('VA', 'GA', 'FL') -- è¿”å›ä¸åœ¨è¿™äº›å·çš„ records</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¿™æ ·æ˜¯é”™çš„ï¼šWHERE state = 'VA' OR 'GA' OR 'FL' </span></span><br><span class="line"><span class="comment">-- å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç”¨ORè¿æ¥å¸ƒå°”è¡¨è¾¾å¼state = 'VA'å’Œå­—ç¬¦ä¸²'GA'</span></span><br></pre></td></tr></table></figure><h1 id="BETWEEN-è¿ç®—ç¬¦"><a href="#BETWEEN-è¿ç®—ç¬¦" class="headerlink" title="BETWEEN è¿ç®—ç¬¦"></a>BETWEEN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE points &gt;= 1000 AND points &lt;=3000</span></span><br><span class="line"><span class="comment">-- æ”¹å†™ä¸ºï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> points <span class="keyword">BETWEEN</span> <span class="number">1000</span> <span class="keyword">AND</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¹Ÿå¯ç”¨äºéæ•°å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> birth_date <span class="keyword">BETWEEN</span> <span class="string">"1990-01-01"</span> <span class="keyword">AND</span> <span class="string">"2000-01-01"</span></span><br></pre></td></tr></table></figure><h1 id="LIKE-è¿ç®—ç¬¦"><a href="#LIKE-è¿ç®—ç¬¦" class="headerlink" title="LIKE è¿ç®—ç¬¦"></a>LIKE è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'B'æˆ–'b'å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'brush%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥â€œbrushâ€å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%b%'</span> </span><br><span class="line"><span class="comment">-- è¡¨ç¤º'b'å‰åå¯ä»¥æœ‰ä»»æ„å­—ç¬¦æ•°('b'åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾å‡ºç°çš†å¯)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'_____y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦('_'å¡«è¡¥è¡¨ç¤ºä»»æ„å­—ç¬¦)çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b____y'</span> </span><br><span class="line"><span class="comment">-- è¿è¡Œåå¾—åˆ°last nameä»¥'b'å¼€å¤´ä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦çš„record(æœ¬ä¾‹ä¸­ä¸º'Boagey')</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***SUMMARY**/</span> </span><br><span class="line">% any number of characters</span><br><span class="line">_ single character</span><br></pre></td></tr></table></figure><h1 id="REGEXP-è¿ç®—ç¬¦"><a href="#REGEXP-è¿ç®—ç¬¦" class="headerlink" title="REGEXP è¿ç®—ç¬¦"></a>REGEXP è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- regular expression (REGEXP) æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%field%'</span></span><br><span class="line"><span class="comment">-- WHERE last_name REGEXP 'field'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'^field'</span> </span><br><span class="line"><span class="comment">-- last name must starts with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* use '|' for multiple search pattern */</span> </span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must contains "field" or "mac" or "rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field" or contains "mac"/"rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[gim]e'</span> </span><br><span class="line"><span class="comment">-- last name must contains "ge"/"ie"/"me"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'e[gim]'</span> </span><br><span class="line"><span class="comment">-- last name must contains "eg"/"ei"/"em"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[a-h]e'</span></span><br><span class="line"><span class="comment">-- the same as WHERE last_name REGEXP '[abcdefgh]e'</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">^ beginning</span><br><span class="line">$ end</span><br><span class="line">| logical or</span><br><span class="line">[abcd]</span><br><span class="line">[a-f]</span><br></pre></td></tr></table></figure><h1 id="IS-NULL-è¿ç®—ç¬¦"><a href="#IS-NULL-è¿ç®—ç¬¦" class="headerlink" title="IS NULL è¿ç®—ç¬¦"></a>IS NULL è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="literal">NULL</span>  <span class="comment">-- è¿”å›æ²¡æœ‰phone(è¯¥å­—æ®µä¸ºNULL)çš„records</span></span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="comment">-- phoneä¸ä¸ºç©º</span></span><br></pre></td></tr></table></figure><h1 id="ORDER-BY-å­å¥"><a href="#ORDER-BY-å­å¥" class="headerlink" title="ORDER BY å­å¥"></a>ORDER BY å­å¥</h1><p>é»˜è®¤æ˜¯æŒ‰ç…§ä¸»é”®ï¼ˆprimary keyï¼‰æ’åºï¼Œä½¿ç”¨ORDER BY å­å¥å¯ä»¥æŒ‡å®šæ’åºçš„é”®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name        <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼å‡åºæ’åº</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name <span class="keyword">DESC</span>   <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼é™åºæ’åº</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> state <span class="keyword">DESC</span>, first_name </span><br><span class="line"><span class="comment">--å…ˆæ ¹æ®stateé™åºæ’åˆ—ï¼Œstateç›¸åŒçš„æ ¹æ®first_nameå‡åºæ’åˆ—</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- birth_dateä¸åœ¨é€‰å‡ºæ¥çš„åˆ—é‡Œï¼Œstill work</span></span><br><span class="line"><span class="keyword">SELECT</span> first_name, last_name</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> birth_date</span><br></pre></td></tr></table></figure><h1 id="LIMIT-å­å¥"><a href="#LIMIT-å­å¥" class="headerlink" title="LIMIT å­å¥"></a>LIMIT å­å¥</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">3</span> <span class="comment">-- è¿”å›å‰3ä¸ªrecords</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">300</span> <span class="comment">-- 300 &gt; #record, è¿”å›å…¨éƒ¨records</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">6</span>, <span class="number">3</span>  <span class="comment">-- è·³è¿‡å‰6ä¸ªrecordsï¼Œè¿”å›ç¬¬7ï¼Œ8ï¼Œ9ä¸ªrecords</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Inner-Joins-å†…è¿æ¥&quot;&gt;&lt;a href=&quot;#Inner-Joins-å†…è¿æ¥&quot; class=&quot;headerlink&quot; title=&quot;Inner Joins (å†…è¿æ¥)&quot;&gt;&lt;/a&gt;Inner Joins (å†…è¿æ¥)&lt;/h1&gt;&lt;figure class=&quot;hi
      
    
    </summary>
    
    
      <category term="Database" scheme="http://yoursite.com/categories/Database/"/>
    
    
      <category term="job notes-database" scheme="http://yoursite.com/tags/job-notes-database/"/>
    
  </entry>
  
  <entry>
    <title>MySQLç¬”è®°(1)--åŸºç¡€è¯­å¥</title>
    <link href="http://yoursite.com/2021/04/20/20210420_SQL001/"/>
    <id>http://yoursite.com/2021/04/20/20210420_SQL001/</id>
    <published>2021-04-20T11:50:09.000Z</published>
    <updated>2021-04-20T13:05:45.639Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SELECT-å­å¥"><a href="#SELECT-å­å¥" class="headerlink" title="SELECT å­å¥"></a>SELECT å­å¥</h1><p>ä»ä¸€å¼ è¡¨ï¼ˆcustomersï¼‰ä¸­é€‰å–æŸäº›åˆ—</p><p><img src="/images/SQL1/001.png" style="zoom: 150%;"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">  first_name, </span><br><span class="line">  last_name, </span><br><span class="line">  points, </span><br><span class="line">  points * <span class="number">10</span> + <span class="number">100</span> <span class="keyword">AS</span> <span class="string">"discount factor"</span>   <span class="comment">-- å¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—,ASæ¥rename</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> state <span class="comment">-- DISTINCT åªä¿ç•™é‡å¤é¡¹ä¸­çš„ä¸€é¡¹</span></span><br><span class="line"><span class="keyword">FROM</span> customers</span><br></pre></td></tr></table></figure><h1 id="WHERE-å­å¥"><a href="#WHERE-å­å¥" class="headerlink" title="WHERE å­å¥"></a>WHERE å­å¥</h1><p>è¿‡æ»¤ä½œç”¨ï¼Œæ ¹æ®æ¡ä»¶é€‰æ‹©records</p><p>(å„ä¸ªWHEREå­å¥åªæ˜¯æä¾›ä¸åŒçš„ç¤ºä¾‹ï¼Œè¿è¡Œæ—¶é€‰æ‹©ä¸€ä¸ªWHEREå­å¥ï¼Œå…¶ä½™æ³¨é‡Šæ‰ï¼Œä¸‹æ–‡åŒ)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> state = <span class="string">'va'</span> <span class="comment">-- vaå¤§å°å†™ä¸€æ ·çš„</span></span><br><span class="line"><span class="keyword">WHERE</span> state &lt;&gt; <span class="string">'va'</span> <span class="comment">-- not in VA</span></span><br><span class="line"><span class="keyword">WHERE</span> birth_date &gt; <span class="string">'1990-01-01'</span> <span class="comment">-- born after 1990/01/01</span></span><br></pre></td></tr></table></figure><p>è¿ç®—ç¬¦æœ‰ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;</span><br><span class="line">&gt;=</span><br><span class="line">&lt;</span><br><span class="line">&lt;=</span><br><span class="line">=</span><br><span class="line">(not equal)  !=  or  &lt;&gt;</span><br></pre></td></tr></table></figure><h1 id="AND-OR-NOT-è¿ç®—ç¬¦"><a href="#AND-OR-NOT-è¿ç®—ç¬¦" class="headerlink" title="AND, OR, NOT è¿ç®—ç¬¦"></a>AND, OR, NOT è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> (birth_date &gt; <span class="string">'1990-01-01'</span> <span class="keyword">OR</span> points &gt; <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>ANDä¼˜å…ˆçº§é«˜äºOR</p><h1 id="IN-è¿ç®—ç¬¦"><a href="#IN-è¿ç®—ç¬¦" class="headerlink" title="IN è¿ç®—ç¬¦"></a>IN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE state = 'VA' OR state = 'GA' OR state = 'FL'</span></span><br><span class="line"><span class="comment">-- ç”¨INæ”¹å†™ï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> state <span class="keyword">IN</span> (<span class="string">'VA'</span>, <span class="string">'GA'</span>, <span class="string">'FL'</span>)</span><br><span class="line"><span class="comment">-- WHERE state NOT IN ('VA', 'GA', 'FL') -- è¿”å›ä¸åœ¨è¿™äº›å·çš„ records</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- è¿™æ ·æ˜¯é”™çš„ï¼šWHERE state = 'VA' OR 'GA' OR 'FL' </span></span><br><span class="line"><span class="comment">-- å› ä¸ºæˆ‘ä»¬ä¸èƒ½ç”¨ORè¿æ¥å¸ƒå°”è¡¨è¾¾å¼state = 'VA'å’Œå­—ç¬¦ä¸²'GA'</span></span><br></pre></td></tr></table></figure><h1 id="BETWEEN-è¿ç®—ç¬¦"><a href="#BETWEEN-è¿ç®—ç¬¦" class="headerlink" title="BETWEEN è¿ç®—ç¬¦"></a>BETWEEN è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="comment">-- WHERE points &gt;= 1000 AND points &lt;=3000</span></span><br><span class="line"><span class="comment">-- æ”¹å†™ä¸ºï¼š</span></span><br><span class="line"><span class="keyword">WHERE</span> points <span class="keyword">BETWEEN</span> <span class="number">1000</span> <span class="keyword">AND</span> <span class="number">3000</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¹Ÿå¯ç”¨äºéæ•°å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> birth_date <span class="keyword">BETWEEN</span> <span class="string">"1990-01-01"</span> <span class="keyword">AND</span> <span class="string">"2000-01-01"</span></span><br></pre></td></tr></table></figure><h1 id="LIKE-è¿ç®—ç¬¦"><a href="#LIKE-è¿ç®—ç¬¦" class="headerlink" title="LIKE è¿ç®—ç¬¦"></a>LIKE è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'B'æˆ–'b'å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'brush%'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥â€œbrushâ€å¼€å¤´çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%b%'</span> </span><br><span class="line"><span class="comment">-- è¡¨ç¤º'b'å‰åå¯ä»¥æœ‰ä»»æ„å­—ç¬¦æ•°('b'åœ¨å¼€å¤´ã€ä¸­é—´ã€ç»“å°¾å‡ºç°çš†å¯)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'_____y'</span> </span><br><span class="line"><span class="comment">-- å¾—åˆ°last nameä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦('_'å¡«è¡¥è¡¨ç¤ºä»»æ„å­—ç¬¦)çš„records</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'b____y'</span> </span><br><span class="line"><span class="comment">-- è¿è¡Œåå¾—åˆ°last nameä»¥'b'å¼€å¤´ä»¥'y'ç»“å°¾ä¸”åªæœ‰6ä¸ªå­—ç¬¦çš„record(æœ¬ä¾‹ä¸­ä¸º'Boagey')</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***SUMMARY**/</span> </span><br><span class="line">% any number of characters</span><br><span class="line">_ single character</span><br></pre></td></tr></table></figure><h1 id="REGEXP-è¿ç®—ç¬¦"><a href="#REGEXP-è¿ç®—ç¬¦" class="headerlink" title="REGEXP è¿ç®—ç¬¦"></a>REGEXP è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- regular expression (REGEXP) æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name <span class="keyword">LIKE</span> <span class="string">'%field%'</span></span><br><span class="line"><span class="comment">-- WHERE last_name REGEXP 'field'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'^field'</span> </span><br><span class="line"><span class="comment">-- last name must starts with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* use '|' for multiple search pattern */</span> </span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must contains "field" or "mac" or "rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'field$|mac|rose'</span> </span><br><span class="line"><span class="comment">-- last name must ends with "field" or contains "mac"/"rose"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[gim]e'</span> </span><br><span class="line"><span class="comment">-- last name must contains "ge"/"ie"/"me"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'e[gim]'</span> </span><br><span class="line"><span class="comment">-- last name must contains "eg"/"ei"/"em"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">'[a-h]e'</span></span><br><span class="line"><span class="comment">-- the same as WHERE last_name REGEXP '[abcdefgh]e'</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">^ beginning</span><br><span class="line">$ end</span><br><span class="line">| logical or</span><br><span class="line">[abcd]</span><br><span class="line">[a-f]</span><br></pre></td></tr></table></figure><h1 id="IS-NULL-è¿ç®—ç¬¦"><a href="#IS-NULL-è¿ç®—ç¬¦" class="headerlink" title="IS NULL è¿ç®—ç¬¦"></a>IS NULL è¿ç®—ç¬¦</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="literal">NULL</span>  <span class="comment">-- è¿”å›æ²¡æœ‰phone(è¯¥å­—æ®µä¸ºNULL)çš„records</span></span><br><span class="line"><span class="keyword">WHERE</span> phone <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="comment">-- phoneä¸ä¸ºç©º</span></span><br></pre></td></tr></table></figure><h1 id="ORDER-BY-å­å¥"><a href="#ORDER-BY-å­å¥" class="headerlink" title="ORDER BY å­å¥"></a>ORDER BY å­å¥</h1><p>é»˜è®¤æ˜¯æŒ‰ç…§ä¸»é”®ï¼ˆprimary keyï¼‰æ’åºï¼Œä½¿ç”¨ORDER BY å­å¥å¯ä»¥æŒ‡å®šæ’åºçš„é”®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name        <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼å‡åºæ’åº</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> first_name <span class="keyword">DESC</span>   <span class="comment">-- æ ¹æ®first_nameå­—æ®µå€¼é™åºæ’åº</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> state <span class="keyword">DESC</span>, first_name </span><br><span class="line"><span class="comment">--å…ˆæ ¹æ®stateé™åºæ’åˆ—ï¼Œstateç›¸åŒçš„æ ¹æ®first_nameå‡åºæ’åˆ—</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- birth_dateä¸åœ¨é€‰å‡ºæ¥çš„åˆ—é‡Œï¼Œstill work</span></span><br><span class="line"><span class="keyword">SELECT</span> first_name, last_name</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> birth_date</span><br></pre></td></tr></table></figure><h1 id="LIMIT-å­å¥"><a href="#LIMIT-å­å¥" class="headerlink" title="LIMIT å­å¥"></a>LIMIT å­å¥</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> customers</span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">3</span> <span class="comment">-- è¿”å›å‰3ä¸ªrecords</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">300</span> <span class="comment">-- 300 &gt; #record, è¿”å›å…¨éƒ¨records</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">6</span>, <span class="number">3</span>  <span class="comment">-- è·³è¿‡å‰6ä¸ªrecordsï¼Œè¿”å›ç¬¬7ï¼Œ8ï¼Œ9ä¸ªrecords</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;SELECT-å­å¥&quot;&gt;&lt;a href=&quot;#SELECT-å­å¥&quot; class=&quot;headerlink&quot; title=&quot;SELECT å­å¥&quot;&gt;&lt;/a&gt;SELECT å­å¥&lt;/h1&gt;&lt;p&gt;ä»ä¸€å¼ è¡¨ï¼ˆcustomersï¼‰ä¸­é€‰å–æŸäº›åˆ—&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/im
      
    
    </summary>
    
    
      <category term="Database" scheme="http://yoursite.com/categories/Database/"/>
    
    
      <category term="job notes-database" scheme="http://yoursite.com/tags/job-notes-database/"/>
    
  </entry>
  
  <entry>
    <title>æ•°æ®ç»“æ„ä¸ç®—æ³•ç¬”è®°(1)</title>
    <link href="http://yoursite.com/2021/03/12/20210312_DongAlgNote/"/>
    <id>http://yoursite.com/2021/03/12/20210312_DongAlgNote/</id>
    <published>2021-03-12T02:50:09.000Z</published>
    <updated>2021-03-12T02:49:37.248Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•°ç»„ä¸é“¾è¡¨"><a href="#æ•°ç»„ä¸é“¾è¡¨" class="headerlink" title="æ•°ç»„ä¸é“¾è¡¨"></a>æ•°ç»„ä¸é“¾è¡¨</h1><p><strong>æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰</strong>ã€‚</p><p>é‚£äº›å¤šæ ·åŒ–çš„æ•°æ®ç»“æ„ï¼Œç©¶å…¶æºå¤´ï¼Œéƒ½æ˜¯åœ¨é“¾è¡¨æˆ–è€…æ•°ç»„ä¸Šçš„ç‰¹æ®Šæ“ä½œï¼ŒAPI ä¸åŒè€Œå·²</p><p><strong>æ•°ç»„</strong>ç”±äºæ˜¯ç´§å‡‘è¿ç»­å­˜å‚¨,å¯ä»¥éšæœºè®¿é—®ï¼Œé€šè¿‡ç´¢å¼•å¿«é€Ÿæ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œè€Œä¸”ç›¸å¯¹èŠ‚çº¦å­˜å‚¨ç©ºé—´ã€‚ä½†æ­£å› ä¸ºè¿ç»­å­˜å‚¨ï¼Œå†…å­˜ç©ºé—´å¿…é¡»ä¸€æ¬¡æ€§åˆ†é…å¤Ÿï¼Œæ‰€ä»¥è¯´æ•°ç»„å¦‚æœè¦æ‰©å®¹ï¼Œéœ€è¦é‡æ–°åˆ†é…ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œå†æŠŠæ•°æ®å…¨éƒ¨å¤åˆ¶è¿‡å»ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ï¼›è€Œä¸”ä½ å¦‚æœæƒ³åœ¨æ•°ç»„ä¸­é—´è¿›è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œæ¯æ¬¡å¿…é¡»æ¬ç§»åé¢çš„æ‰€æœ‰æ•°æ®ä»¥ä¿æŒè¿ç»­ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ã€‚</p><p><strong>é“¾è¡¨</strong>å› ä¸ºå…ƒç´ ä¸è¿ç»­ï¼Œè€Œæ˜¯é æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ•°ç»„çš„æ‰©å®¹é—®é¢˜ï¼›å¦‚æœçŸ¥é“æŸä¸€å…ƒç´ çš„å‰é©±å’Œåé©±ï¼Œæ“ä½œæŒ‡é’ˆå³å¯åˆ é™¤è¯¥å…ƒç´ æˆ–è€…æ’å…¥æ–°å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ã€‚ä½†æ˜¯æ­£å› ä¸ºå­˜å‚¨ç©ºé—´ä¸è¿ç»­ï¼Œä½ æ— æ³•æ ¹æ®ä¸€ä¸ªç´¢å¼•ç®—å‡ºå¯¹åº”å…ƒç´ çš„åœ°å€ï¼Œæ‰€ä»¥ä¸èƒ½éšæœºè®¿é—®ï¼›è€Œä¸”ç”±äºæ¯ä¸ªå…ƒç´ å¿…é¡»å­˜å‚¨æŒ‡å‘å‰åå…ƒç´ ä½ç½®çš„æŒ‡é’ˆï¼Œä¼šæ¶ˆè€—ç›¸å¯¹æ›´å¤šçš„å‚¨å­˜ç©ºé—´ã€‚</p><h1 id="æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ"><a href="#æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ" class="headerlink" title="æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ"></a>æ•°æ®ç»“æ„åŸºæœ¬æ“ä½œ</h1><p>éå† + è®¿é—®ï¼šå¢åˆ æŸ¥æ”¹ï¼ˆ<strong>åœ¨ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå°½å¯èƒ½é«˜æ•ˆåœ°å¢åˆ æŸ¥æ”¹</strong>ï¼‰</p><p>æ–¹å¼ï¼šçº¿æ€§-for/whileï¼›éçº¿æ€§-é€’å½’</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ•°ç»„ä¸é“¾è¡¨&quot;&gt;&lt;a href=&quot;#æ•°ç»„ä¸é“¾è¡¨&quot; class=&quot;headerlink&quot; title=&quot;æ•°ç»„ä¸é“¾è¡¨&quot;&gt;&lt;/a&gt;æ•°ç»„ä¸é“¾è¡¨&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£
      
    
    </summary>
    
    
      <category term="Algorithm" scheme="http://yoursite.com/categories/Algorithm/"/>
    
    
      <category term="job notes-algorithm" scheme="http://yoursite.com/tags/job-notes-algorithm/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(7)-Visual to Sound Generating Natural Sound for Videos in the Wild</title>
    <link href="http://yoursite.com/2020/12/25/20201225_VisualToSound/"/>
    <id>http://yoursite.com/2020/12/25/20201225_VisualToSound/</id>
    <published>2020-12-25T12:50:09.000Z</published>
    <updated>2020-12-25T13:41:47.083Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ä»»åŠ¡</strong>ï¼šä»è¾“å…¥çš„è§†é¢‘ä¸­ç›´æ¥é¢„æµ‹rawå£°éŸ³ä¿¡å·</p><p><strong>æ–¹æ³•</strong>ï¼šç¼–ç -è§£ç æ¶æ„ï¼Œå³è§†é¢‘ç¼–ç å™¨+éŸ³é¢‘ç”Ÿæˆå™¨ï¼ˆåˆ†å±‚RNNï¼‰</p><p><strong>å»ºæ¨¡</strong>ï¼šæ¡ä»¶ç”Ÿæˆé—®é¢˜ã€‚è®­ç»ƒä¸€ä¸ªæœ‰æ¡ä»¶çš„ç”Ÿæˆæ¨¡å‹ä»¥ä»è¾“å…¥çš„è§†é¢‘ä¸­åˆæˆrawå£°éŸ³æ³¢å½¢ã€‚</p><p>ä¼°è®¡æ¡ä»¶æ¦‚ç‡ï¼š</p><script type="math/tex; mode=display">p(y_{1},y_{2},...,y_{n}|x_{1},x_{2},...,x_{m})</script><p>$x_{1},x_{2},â€¦,x_{m}$æ˜¯è¾“å…¥è§†é¢‘å¸§çš„è¡¨ç¤ºï¼›$y_{1},y_{2},â€¦,y_{n}$æ˜¯è¾“å‡ºå£°éŸ³æ³¢å½¢çš„å€¼ï¼ˆå–å€¼ä¸º0~255çš„æ•´æ•°åºåˆ—ï¼‰ã€‚åŸå§‹æ³¢å½¢æ ·æœ¬æ˜¯èŒƒå›´ä»-1åˆ°1çš„å®æ•°å€¼ï¼Œæ–‡ä¸­é‡æ–°ç¼©æ”¾å’Œçº¿æ€§é‡åŒ–å®ƒä»¬åˆ°256ä¸ªbinsã€‚é€šå¸¸$m&lt;&lt;n$ï¼Œå› ä¸ºéŸ³é¢‘çš„é‡‡æ ·ç‡è¿œé«˜äºè§†é¢‘çš„é‡‡æ ·ç‡ã€‚</p><p><img src="/images/VisualToSound/1.png" alt="1"></p><h2 id="Sound-Generator"><a href="#Sound-Generator" class="headerlink" title="Sound Generator"></a>Sound Generator</h2><p>é‡‡ç”¨çš„é‡‡æ ·é¢‘ç‡ä¸ºï¼š16kHz</p><p><strong>é—®é¢˜</strong>ï¼šåºåˆ—é•¿åº¦å¾ˆé•¿</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šé€‰ç”¨SampleRNNä¸ºå£°éŸ³ç”Ÿæˆå™¨ï¼ˆåŸå› ï¼šå…¶ä»ç²—åˆ°ç»†çš„ç»“æ„ä½¿æ¨¡å‹èƒ½å¤Ÿç”Ÿæˆéå¸¸é•¿çš„åºåˆ—ï¼Œæ¯ä¸€å±‚çš„å¾ªç¯ç»“æ„æ•æ‰åˆ°é¥è¿œæ ·æœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ï¼‰</p><p><strong>å…·ä½“</strong>ï¼š1ï¼‰ç»†èŠ‚å±‚æ˜¯å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰ï¼Œè·å–ä¸‹ä¸€ä¸ªç²—ç³™å±‚ï¼ˆä¸Šå±‚ï¼‰çš„è¾“å‡ºå’Œå‰é¢çš„$k$ä¸ªæ ·æœ¬ï¼Œä»¥ç”Ÿæˆä¸€ä¸ªæ–°æ ·æœ¬ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ³¢å½¢æ ·æœ¬ï¼ˆå®æ•°å€¼ï¼Œä»-1åˆ°1ï¼‰è¢«çº¿æ€§é‡åŒ–åˆ°ä»0åˆ°255çš„æ•´æ•°èŒƒå›´ï¼Œå¯ä»¥å°†æœ€ç»†çš„å±‚çš„MLPçœ‹æˆæ˜¯256-ç±»åˆ†ç±»å™¨ï¼Œåœ¨æ¯ä¸ªtimestepé¢„æµ‹å¾—åˆ°ä¸€ä¸ªæ ·æœ¬ï¼ˆç„¶åæ˜ å°„å›å®å€¼ï¼Œè·å¾—æœ€ç»ˆæ³¢å½¢ï¼‰ã€‚</p><p>2ï¼‰ç²—ç³™å±‚å¯ä»¥æ˜¯GRU, LSTMæˆ–å…¶ä»–çš„RNNå˜ä½“ã€‚åŒ…å«å¤šä¸ªæ³¢å½¢æ ·æœ¬(å›¾ä¸­ä¸º2ä¸ª)çš„èŠ‚ç‚¹æ„å‘³ç€è¯¥å±‚åŸºäºå‰ä¸€ä¸ªtimestepä»¥åŠæ›´ç²—å±‚çš„é¢„æµ‹ï¼Œåœ¨æ¯ä¸ªtimestepå…±åŒé¢„æµ‹å¤šä¸ªæ ·æœ¬ã€‚</p><h2 id="Video-Encoder"><a href="#Video-Encoder" class="headerlink" title="Video Encoder"></a>Video Encoder</h2><h3 id="Frame-to-frame-method"><a href="#Frame-to-frame-method" class="headerlink" title="Frame-to-frame method"></a>Frame-to-frame method</h3><script type="math/tex; mode=display">x_{i}=V(f_{i})</script><p>$f_{i}$å’Œ$x_{i}$åˆ†åˆ«æ˜¯è§†é¢‘çš„ç¬¬$i$å¸§å’Œè¯¥å¸§çš„è¡¨å¾ã€‚$V(.)$æ˜¯åœ¨ImageNetä¸Šé¢„å…ˆè®­ç»ƒçš„VGG19ç½‘ç»œçš„fc6ç‰¹å¾æå–æ“ä½œï¼Œ$x_{i}$æ˜¯ä¸€ä¸ª4096ç»´çš„å‘é‡ã€‚åœ¨è¯¥æ¨¡å‹ä¸­ï¼Œå°†å¸§è¡¨å¾ä¸å£°éŸ³ç”Ÿæˆå™¨æœ€ç²—å±‚RNNçš„èŠ‚ç‚¹ï¼ˆæ ·æœ¬ï¼‰ç»Ÿä¸€è¿æ¥ï¼Œå¯¹è§†è§‰ä¿¡æ¯è¿›è¡Œç¼–ç ï¼Œå¦‚å›¾3(b)æ‰€ç¤ºï¼ˆå†…å®¹ä»¥ç»¿è‰²è™šçº¿æ¡†è¡¨ç¤ºï¼‰ã€‚</p><p><strong>è§†é¢‘ä¸éŸ³é¢‘é‡‡æ ·ç‡ä¸åŒçš„é—®é¢˜è§£å†³</strong>ï¼šå¯¹äºæ¯ä¸ª$x_{i}$ï¼Œé‡å¤$s$æ¬¡ï¼Œå…¶ä¸­</p><script type="math/tex; mode=display">s=\lceil \frac{sr_{audio}}{sr_{video}}\rceil,\quad (``sr"\ means\ sampling\ rate)</script><p>åªå°†è§†è§‰ç‰¹å¾æä¾›ç»™SampleRNNçš„æœ€ç²—ç³™å±‚ï¼Œå› ä¸ºè¿™ä¸€å±‚å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæŒ‡å¯¼æ‰€æœ‰æ›´ç»†çš„å±‚çš„ç”Ÿæˆä»¥åŠæé«˜è®¡ç®—æ•ˆç‡ã€‚</p><h3 id="Sequence-to-sequence-method"><a href="#Sequence-to-sequence-method" class="headerlink" title="Sequence-to-sequence method"></a>Sequence-to-sequence method</h3><p>æå–VGG19ç½‘ç»œçš„fc6ç‰¹å¾ä½œä¸ºæ¯ä¸€å¸§çš„è¡¨å¾ï¼Œç„¶åç”¨RNNå¤„ç†ä½œä¸ºè§†é¢‘ç¼–ç å™¨ï¼Œä½¿ç”¨è§†é¢‘ç¼–ç å™¨çš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€åˆå§‹åŒ–å£°éŸ³å‘ç”Ÿå™¨çš„æœ€ç²—å±‚RNNçš„éšè—çŠ¶æ€ï¼Œç„¶åå¼€å§‹å£°éŸ³ç”Ÿæˆã€‚æ­¤æ—¶å£°éŸ³ç”Ÿæˆä»»åŠ¡å˜ä¸ºï¼š</p><script type="math/tex; mode=display">p(y_{1},y_{2},...,y_{n}|x_{1},x_{2},...,x_{m})=\prod\limits^{n}_{i=1}p(y_{i}|H,y_{1},...,y_{i-1})</script><p>$H$è¡¨ç¤ºè§†é¢‘ç¼–ç RNNçš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€æˆ–ç­‰æ•ˆçš„å£°éŸ³å‘ç”Ÿå™¨æœ€ç²—ç³™å±‚RNNçš„åˆå§‹éšè—çŠ¶æ€ã€‚</p><p><strong>è§†é¢‘ä¸éŸ³é¢‘é‡‡æ ·ç‡ä¸åŒçš„é—®é¢˜è§£å†³</strong>ï¼šä¸åƒä¸Šé¢æåˆ°çš„åŸºäºå¸§çš„æ¨¡å‹ä¸­æ˜ç¡®åœ°å¼ºåˆ¶è§†é¢‘å¸§å’Œæ³¢å½¢æ ·æœ¬ä¹‹é—´çš„å¯¹é½ã€‚åœ¨è¿™ä¸ªåºåˆ—åˆ°åºåˆ—æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬æœŸæœ›æ¨¡å‹é€šè¿‡ç¼–ç å’Œè§£ç æ¥å­¦ä¹ è¿™ä¸¤ç§æ¨¡å¼ä¹‹é—´çš„å¯¹é½ã€‚</p><h3 id="Flow-based-method"><a href="#Flow-based-method" class="headerlink" title="Flow-based method"></a>Flow-based method</h3><p>Motivï¼šè§†è§‰é¢†åŸŸçš„è¿åŠ¨ä¿¡å·ï¼Œè™½ç„¶æœ‰æ—¶å¾ˆå¾®å°ï¼Œä½†å¯¹äºåˆæˆçœŸå®ä¸”åŒæ­¥è‰¯å¥½çš„å£°éŸ³æ˜¯è‡³å…³é‡è¦çš„ã€‚</p><p>æ–¹æ¡ˆï¼šå¢åŠ ä¸€ä¸ªåŸºäºå…‰æµçš„æ·±åº¦ç‰¹å¾ä»¥æ˜ç¡®æ•è·è¿åŠ¨ä¿¡å·ã€‚ä¸åºåˆ—åˆ°åºåˆ—æ–¹æ³•ä¸åŒä¹‹å¤„ä¸º</p><script type="math/tex; mode=display">x_{i}=cat[V(f_{i}),F(o_{i})]</script><p>$o_{i}$æ˜¯ç¬¬$i$å¸§çš„å…‰æµï¼Œ$F(.)$æ˜¯æå–åŸºäºå…‰æµçš„æ·±åº¦ç‰¹å¾çš„å‡½æ•°ï¼ˆéå­¦ä¹ å¾—åˆ°ï¼‰ã€‚</p><p><a href="https://arxiv.org/pdf/1712.01393.pdf" target="_blank" rel="noopener">Visual to Sound: Generating Natural Sound for Videos in the Wild</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;ä»»åŠ¡&lt;/strong&gt;ï¼šä»è¾“å…¥çš„è§†é¢‘ä¸­ç›´æ¥é¢„æµ‹rawå£°éŸ³ä¿¡å·&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ³•&lt;/strong&gt;ï¼šç¼–ç -è§£ç æ¶æ„ï¼Œå³è§†é¢‘ç¼–ç å™¨+éŸ³é¢‘ç”Ÿæˆå™¨ï¼ˆåˆ†å±‚RNNï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å»ºæ¨¡&lt;/strong&gt;ï¼šæ¡ä»¶ç”Ÿæˆé—®é¢˜ã€‚è®­ç»ƒä¸€ä¸ªæœ‰æ¡ä»¶çš„ç”Ÿ
      
    
    </summary>
    
    
      <category term="Visual Sound" scheme="http://yoursite.com/categories/Visual-Sound/"/>
    
    
      <category term="paper notes-visual sound" scheme="http://yoursite.com/tags/paper-notes-visual-sound/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(6)-Visually Indicated Sounds</title>
    <link href="http://yoursite.com/2020/12/25/20201225_VisuallyIndicatedSound/"/>
    <id>http://yoursite.com/2020/12/25/20201225_VisuallyIndicatedSound/</id>
    <published>2020-12-25T03:50:09.000Z</published>
    <updated>2020-12-25T08:51:11.151Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Sound-Representation"><a href="#Sound-Representation" class="headerlink" title="Sound Representation"></a>Sound Representation</h2><p>è®¡ç®—å£°éŸ³ç‰¹å¾çš„æ–¹æ³•ï¼šå°†å£°æ³¢$w(t)$åˆ†è§£ä¸ºå­å¸¦åŒ…ç»œ$s_{n}(t)$ï¼ˆå°†å£°æ³¢æ»¤æ³¢ç„¶ååº”ç”¨éçº¿æ€§ï¼‰ã€‚1ï¼‰åœ¨ç­‰æ•ˆçŸ©å½¢å¸¦å®½(ERB)å°ºåº¦ä¸Šåº”ç”¨40ä¸ªå¸¦é€šæ»¤æ³¢å™¨$f_{n}$(åŠ ä¸Šä¸€ä¸ªä½é€šå’Œé«˜é€šæ»¤æ³¢å™¨)ï¼Œå¹¶å–å“åº”çš„å¸Œå°”ä¼¯ç‰¹åŒ…ç»œçº¿ï¼›2ï¼‰å°†åŒ…ç»œä¸‹é‡‡åˆ°90Hzï¼ˆçº¦ä¸º3æ ·æœ¬/å¸§ï¼‰å¹¶å‹ç¼©ã€‚</p><script type="math/tex; mode=display">s_{n}=D(|(w*f_{n})+jH(w*f_{n})|)^{c}</script><p>$H$æ˜¯å¸Œå°”ä¼¯ç‰¹å˜æ¢ï¼Œ$D$è¡¨ç¤ºä¸‹é‡‡æ ·ï¼Œå‹ç¼©å¸¸æ•°$c=0.3$ã€‚ç”±æ­¤äº§ç”Ÿçš„è¡¨ç¤ºè¢«ç§°ä¸ºè€³èœ—å›¾ï¼ˆcochleagramï¼‰ã€‚</p><p><img src="/images/VisualIndicatedSound/2.png" alt="2" style="zoom:80%;"></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ’å‡»å£°å¦‚ä½•æ•æ‰ææ–™çš„å±æ€§?ä¸ºäº†ä»ç»éªŒä¸Šè¯„æµ‹è¿™ä¸€ç‚¹ï¼Œæ–‡ç« ä½¿ç”¨å­å¸¦åŒ…ç»œä½œä¸ºç‰¹å¾å‘é‡ï¼Œè®­ç»ƒäº†ä¸€ä¸ªçº¿æ€§æ”¯æŒå‘é‡æœºæ¥é¢„æµ‹æ•°æ®åº“ä¸­çš„å£°éŸ³ç”±å“ªä¸ªææ–™å‘å‡ºã€‚æ–‡ç« å¯¹è®­ç»ƒé›†é‡æ–°é‡‡æ ·ï¼Œä½¿æ¯ä¸ªç±»åŒ…å«ç›¸åŒæ•°é‡çš„æ’å‡»å£°(æ¯ç±»260ä¸ª)ã€‚æœ€ç»ˆå¾—åˆ°çš„ææ–™åˆ†ç±»å™¨å…·æœ‰45.8% (chance = 5.9%)çš„åˆ†ç±»å¹³å‡ç²¾åº¦(å³æ¯ç±»ç²¾åº¦å€¼çš„å¹³å‡å€¼)ï¼Œå…¶æ··æ·†çŸ©é˜µå¦‚å›¾3(b)æ‰€ç¤ºã€‚è¿™äº›ç»“æœè¡¨æ˜ï¼Œæ’å‡»å£°ä¼ è¾¾äº†æœ‰å…³ææ–™çš„é‡è¦ä¿¡æ¯ï¼Œå› æ­¤ï¼Œå¦‚æœä¸€ä¸ªç®—æ³•èƒ½å¤Ÿå­¦ä¹ ä»å›¾åƒä¸­å‡†ç¡®é¢„æµ‹è¿™äº›å£°éŸ³ï¼Œå®ƒå°±ä¼šæœ‰å…³äºææ–™ç±»åˆ«çš„éšå«çŸ¥è¯†ã€‚</p><h2 id="Predicting-visually-indicated-sounds"><a href="#Predicting-visually-indicated-sounds" class="headerlink" title="Predicting visually indicated sounds"></a>Predicting visually indicated sounds</h2><p>å°†æ­¤ä»»åŠ¡å»ºæ¨¡ä¸ºä¸€ä¸ªå›å½’é—®é¢˜ï¼Œç›®æ ‡æ˜¯å°†ä¸€ä¸ªè§†é¢‘å¸§åºåˆ—æ˜ å°„ä¸ºä¸€ä¸ªå£°é¢‘ç‰¹å¾åºåˆ—ã€‚ä½¿ç”¨çš„æ¨¡å‹æ˜¯RNNï¼Œä»¥é¢œè‰²å’Œè¿åŠ¨ï¼ˆmotionï¼‰ä¿¡æ¯ä½œä¸ºè¾“å…¥ï¼Œé¢„æµ‹å‡ºå£°é¢‘æ³¢å½¢çš„å­å¸¦åŒ…ç»œã€‚æœ€åï¼Œä»å£°éŸ³ç‰¹å¾ä¸­äº§ç”Ÿæ³¢å½¢ã€‚</p><p><img src="/images/VisualIndicatedSound/1.png" alt="1" style="zoom:80%;"></p><h3 id="Regressing-sound-features"><a href="#Regressing-sound-features" class="headerlink" title="Regressing sound features"></a>Regressing sound features</h3><p>è¾“å…¥å›¾åƒåºåˆ—ï¼š$I_{1}, I_{2}, â€¦, I_{N}$</p><p>è¾“å‡ºå£°éŸ³ç‰¹å¾åºåˆ—ï¼š$\mathop{s_{1}}\limits ^{\rightarrow}, \mathop{s_{2}}\limits ^{\rightarrow}, \mathop{s_{T}}\limits ^{\rightarrow}, where \mathop{s_{t}}\limits ^{\rightarrow}\in \mathbb{R}^{42}$</p><p>è¿™äº›å£°éŸ³ç‰¹å¾å¯¹åº”äºå›¾4ä¸­æ‰€ç¤ºçš„è€³èœ—å—ã€‚æ–‡ç« ä½¿ç”¨å¾ªç¯ç¥ç»ç½‘ç»œ(RNN)æ¥è§£å†³è¿™ä¸ªå›å½’é—®é¢˜ï¼Œå®ƒå°†å·ç§¯ç¥ç»ç½‘ç»œ(CNN)è®¡ç®—çš„å›¾åƒç‰¹å¾ä½œä¸ºè¾“å…¥ã€‚</p><p><strong>å›¾åƒè¡¨ç¤º</strong>ï¼šå¦‚ä½•è¡¨ç¤ºè¿åŠ¨ï¼ˆmotionï¼‰ä¿¡æ¯ï¼Ÿè®¡ç®—æ¯ä¸€å¸§çš„spacetimeå›¾åƒï¼Œå³ä¸‰ä¸ªé€šé“æ˜¯ä¸Šä¸€å¸§ã€å½“å‰å¸§å’Œä¸‹ä¸€å¸§ç°åº¦ç‰ˆæœ¬çš„å›¾åƒã€‚å¯¹äºæ¯ä¸€å¸§$t$ï¼Œé€šè¿‡æ‹¼æ¥å¸§$t$çš„spacetimeå›¾åƒå’Œç¬¬1å¸§çš„é¢œè‰²å›¾åƒçš„CNNç‰¹å¾æ¥æ„å»ºè¾“å…¥ç‰¹å¾å‘é‡$x_{t}$ï¼Œå³</p><script type="math/tex; mode=display">x_{t}=[\phi(F_{t}),\phi(I_{1})]</script><p>æ–‡ç« ä¸­è®­ç»ƒçš„ä¸¤ç§æ–¹å¼ï¼š1ï¼‰ä»é›¶å¼€å§‹åˆå§‹åŒ–CNNï¼Œç„¶åå’ŒRNNä¸€èµ·è®­ç»ƒå®ƒï¼›2ï¼‰ç”¨ä¸€ä¸ªä¸ºImageNetåˆ†ç±»è®­ç»ƒçš„ç½‘ç»œçš„æƒå€¼åˆå§‹åŒ–CNNã€‚å½“ä½¿ç”¨é¢„è®­ç»ƒæ—¶ï¼Œä»å·ç§¯å±‚ä¸­é¢„è®¡ç®—ç‰¹å¾ï¼Œå¹¶ä»…å¯¹å®Œå…¨è¿æ¥çš„å±‚è¿›è¡Œå¾®è°ƒã€‚</p><p><strong>å£°éŸ³é¢„æµ‹æ¨¡å‹</strong>ï¼šä½¿ç”¨åŸºäºLSTMçš„RNNæ¨¡å‹ã€‚ä¸ºäº†è¡¥å¿è§†é¢‘å’ŒéŸ³é¢‘é‡‡æ ·ç‡ä¹‹é—´çš„å·®å¼‚ï¼Œæ–‡ç« ä¸­å¤åˆ¶æ¯ä¸ªCNNç‰¹å¾å‘é‡$k$æ¬¡ï¼ˆæ–‡ç« ä¸­ä½¿ç”¨$k=3$ï¼‰</p><script type="math/tex; mode=display">k=\lfloor T/N\rfloor</script><p>ç”±æ­¤å¾—åˆ°ä¸å£°éŸ³ç‰¹å¾åºåˆ—ç­‰é•¿çš„CNNç‰¹å¾åºåˆ—$x_{1}, x_{2}, â€¦, x_{N}$ã€‚åœ¨RNNçš„æ¯ä¸ªtimestepï¼Œæ–‡ç« ä¸­ä½¿ç”¨å½“å‰å›¾åƒç‰¹å¾å‘é‡$x_{t}$æ¥æ›´æ–°éšè—å˜é‡$h_{t}$ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä»¿å°„å˜æ¢å¾—åˆ°å£°éŸ³ç‰¹å¾ã€‚ä¸ºäº†ä½¿å­¦ä¹ é—®é¢˜æ›´ç®€å•ï¼Œæ–‡ä¸­ä½¿ç”¨PCAåœ¨æ¯ä¸ªæ—¶é—´æ­¥é•¿çš„42ç»´ç‰¹å¾å‘é‡æŠ•å½±åˆ°10ç»´ç©ºé—´ï¼Œç„¶åé¢„æµ‹è¿™ä¸ªä½ç»´å‘é‡ã€‚å¯¹ç½‘ç»œè¿›è¡Œè¯„ä¼°æ—¶ï¼Œåæ±‚PCAå˜æ¢ä»¥è·å¾—å£°éŸ³ç‰¹å¾ã€‚</p><p>æ–‡ç« ä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ä»¥Caffeå…±åŒè®­ç»ƒRNNå’ŒCNNã€‚å®ƒæœ‰åŠ©äºæ”¶æ•›å»é™¤dropoutå’Œå‰ªè¾‘å¤§çš„æ¢¯åº¦ã€‚å½“ä»å¤´å¼€å§‹è®­ç»ƒæ—¶ï¼Œæ–‡ä¸­é€šè¿‡å¯¹è§†é¢‘è¿›è¡Œè£å‰ªå’Œé•œåƒè½¬æ¢æ¥å¢å¼ºæ•°æ®ã€‚æ–‡ä¸­ä¹Ÿä½¿ç”¨å¤šä¸ªLSTMå±‚ï¼ˆæ•°é‡å–å†³äºä»»åŠ¡ï¼‰ã€‚</p><h3 id="Generating-a-waveform"><a href="#Generating-a-waveform" class="headerlink" title="Generating a waveform"></a>Generating a waveform</h3><p>é—®é¢˜ï¼šå¦‚ä½•ä»å£°éŸ³ç‰¹å¾ä¸­äº§ç”Ÿå£°æ³¢ï¼Ÿ</p><ol><li>ç®€å•å‚æ•°ç»¼åˆæ³•ï¼šè¿­ä»£åœ°å°†å­å¸¦åŒ…ç»œåŠ åˆ°ç™½å™ªå£°æ ·æœ¬ä¸Š(æ–‡ä¸­åªä½¿ç”¨äº†ä¸€æ¬¡è¿­ä»£)ã€‚è¿™ç§æ–¹æ³•å¯¹äºæ£€æŸ¥éŸ³é¢‘ç‰¹å¾æ‰€æ•è·çš„ä¿¡æ¯éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»£è¡¨äº†ä»ç‰¹å¾åˆ°å£°éŸ³çš„ç›´æ¥è½¬æ¢ã€‚</li><li>å¯¹äºäº§ç”Ÿå¯¹äºäººè€³ä¼¼æ˜¯è€Œéçš„å£°éŸ³çš„ä»»åŠ¡ï¼Œåœ¨ä»ç‰¹å¾åˆ°æ³¢å½¢çš„è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œå…ˆæ–½åŠ ä¸€ä¸ªå¼ºçš„è‡ªç„¶å£°éŸ³æ˜¯æ›´æœ‰æ•ˆçš„ã€‚å› æ­¤ä½¿ç”¨åŸºäºå®ä¾‹çš„åˆæˆæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†å£°éŸ³ç‰¹å¾çš„çª—å£æ•æ‰åˆ°è®­ç»ƒé›†ä¸­æœ€æ¥è¿‘çš„æ ·æœ¬ä¸Šã€‚æ–‡ä¸­é€šè¿‡æ‹¼æ¥é¢„æµ‹çš„å£°éŸ³ç‰¹å¾$\mathop{s_{1}}\limits ^{\rightarrow}, \mathop{s_{2}}\limits ^{\rightarrow}, â€¦, \mathop{s_{T}}\limits ^{\rightarrow}$ï¼ˆæˆ–å®ƒä»¬çš„ä¸€ä¸ªå­åºåˆ—ï¼‰å½¢æˆä¸€ä¸ªæŸ¥è¯¢å‘é‡ï¼Œåœ¨$L_{1}$è·ç¦»æµ‹é‡çš„è®­ç»ƒé›†ä¸­å¯»æ‰¾å…¶æœ€è¿‘çš„é‚»å±…ï¼Œå¹¶ä¼ é€’ç›¸åº”çš„æ³¢å½¢ã€‚</li></ol><p><a href="http://andrewowens.com/vis/" target="_blank" rel="noopener">é¡¹ç›®ç½‘å€</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Sound-Representation&quot;&gt;&lt;a href=&quot;#Sound-Representation&quot; class=&quot;headerlink&quot; title=&quot;Sound Representation&quot;&gt;&lt;/a&gt;Sound Representation&lt;/h2&gt;&lt;
      
    
    </summary>
    
    
      <category term="Visual Sound" scheme="http://yoursite.com/categories/Visual-Sound/"/>
    
    
      <category term="paper notes-visual sound" scheme="http://yoursite.com/tags/paper-notes-visual-sound/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(5)-The Visual Microphone Passive Recovery of Sound from Video</title>
    <link href="http://yoursite.com/2020/12/22/20201222_VisualMicrophone/"/>
    <id>http://yoursite.com/2020/12/22/20201222_VisualMicrophone/</id>
    <published>2020-12-22T14:50:09.000Z</published>
    <updated>2020-12-25T02:40:43.378Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><strong>ç°è±¡</strong>ï¼šå£°éŸ³åˆ°è¾¾ç‰©ä½“ä¼šåœ¨ç‰©ä½“è¡¨é¢å¼•èµ·å¾®å°æŒ¯åŠ¨ã€‚</p><p><strong>åšæ³•</strong>ï¼šä½¿ç”¨ç‰©ä½“çš„é«˜é€Ÿè§†é¢‘æå–å¾®å°æŒ¯åŠ¨ï¼Œéƒ¨åˆ†æ¢å¤ï¼ˆé€ æˆæŒ¯åŠ¨çš„ï¼‰å£°éŸ³ã€‚</p><p><strong>å…·ä½“</strong>ï¼š1ï¼‰ä»ä¸€ç³»åˆ—ä¸åŒç‰¹æ€§çš„ç‰©ä½“çš„é«˜é€Ÿè¿ç»­é•œå¤´ä¸­æ¢å¤å£°éŸ³ï¼›</p><p>â€‹            2ï¼‰ä½¿ç”¨çœŸå®å’Œä»¿çœŸæ•°æ®æ¥è¯„æµ‹é‚£äº›å½±å“äº†å¯è§†åŒ–åœ°æ¢å¤å£°éŸ³çš„å› ç´ ï¼›</p><p>â€‹            3ï¼‰å£°éŸ³æ¢å¤è´¨é‡è¯„ä»·æŒ‡æ ‡ï¼šå¯ç†è§£æ€§ï¼ˆintelligibilityï¼‰ã€SNRï¼›ç›´æ¥å¯¹æ¯”è¾“å…¥å’Œæ¢å¤å‡ºæ¥çš„ä¿¡å·ï¼›</p><p>â€‹            4ï¼‰æ¢ç´¢å¦‚ä½•åˆ©ç”¨æ™®é€šç”¨æˆ·ç›¸æœºçš„å·å¸˜å¿«é—¨ï¼ˆrolling shutterï¼‰ä»è€Œä»æ ‡å‡†å¸§ç‡è§†é¢‘ä¸­æ¢å¤å‡ºå£°éŸ³ï¼›ä½¿ç”¨æ‰€ææ–¹æ³•çš„ç©ºé—´åˆ†è¾¨ç‡æ¥å¯è§†åŒ–å£°éŸ³å¼•èµ·çš„æŒ¯åŠ¨æ˜¯å¦‚ä½•éšç€ç‰©ä½“è¡¨é¢å˜åŒ–çš„ï¼Œä»¥ä¹‹æ¢å¤ç‰©ä½“çš„æŒ¯åŠ¨æ¨¡å¼ã€‚</p><p><strong>Keywords</strong>ï¼šè¿œç¨‹å£°éŸ³é‡‡é›†ï¼›è§†é¢‘ä¸­çš„å£°éŸ³ï¼›å¯è§†åŒ–å£°å­¦ã€‚</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong>æè¿°</strong>ï¼šå£°éŸ³åˆ°è¾¾æŸç‰©å“ â†’ 1ï¼‰ç‰©å“è¡¨é¢è·Ÿéšå‘¨å›´ä»‹è´¨ç§»åŠ¨ OR 2ï¼‰æ ¹æ®å…¶æŒ¯åŠ¨æ¨¡å¼å‘ç”Ÿå½¢å˜ã€‚</p><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼šå£°éŸ³å¼•èµ·ç‰©ä½“æŒ¯åŠ¨çš„ç°è±¡è¢«ç”¨äºè¿œç¨‹å£°éŸ³é‡‡é›†ï¼Œå¹¶åœ¨ç›‘è§†å’Œå®‰é˜²æ–¹é¢æœ‰é‡è¦åº”ç”¨ï¼Œå¦‚åœ¨è¿œå¤„çªƒå¬è°ˆè¯ã€‚è¿œç¨‹å£°éŸ³é‡‡é›†çš„ç°æœ‰æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯ç§¯æï¼ˆactiveï¼‰çš„ï¼Œéœ€è¦å°†ä¸€ä¸ªæ¿€å…‰æŸæˆ–patternæŠ•å°„åˆ°æŒ¯åŠ¨è¡¨é¢ã€‚</p><p><strong>æœ¬æ–‡è§‚å¯Ÿ</strong>ï¼šåªéœ€è¦ç‰©ä½“çš„é«˜é€Ÿè§†é¢‘ï¼Œå£°éŸ³å¼•èµ·çš„ç‰©ä½“æŒ¯åŠ¨é€šå¸¸èƒ½å¤Ÿäº§ç”Ÿè¶³å¤Ÿçš„è§†è§‰ä¿¡å·æ¥éƒ¨åˆ†æ¢å¤å‡ºè¯¥å£°éŸ³ã€‚</p><p><strong>æœ¬æ–‡è´¡çŒ®</strong>ï¼šæå‡ºä¸€ä¸ªæ¶ˆæçš„ä»è§†é¢‘ä¸­æ¢å¤å£°éŸ³ä¿¡å·çš„æ–¹æ³•ã€‚è§†è§‰ä¸Šæ£€æµ‹å¾®å°ç‰©ä½“æŒ¯åŠ¨â†’å°†æŒ¯åŠ¨è½¬å›éŸ³é¢‘ä¿¡å·ï¼ˆä½¿å¾—æ—¥å¸¸ç‰©å“å˜æˆæ½œè—çš„éº¦å…‹é£ï¼‰ã€‚åšæ³•ï¼š1ï¼‰ä½¿ç”¨é«˜é€Ÿæ‘„åƒæœºå°†ç‰©ä½“è§†é¢‘ï¼›2ï¼‰åœ¨ä¸€ä¸ªComplex steerable pyramid (CSP)ï¼ˆå»ºç«‹åœ¨è§†é¢‘ä¸Šï¼‰çš„ç»´åº¦ä¸Šæå–<em>å±€éƒ¨è¿åŠ¨ä¿¡å·</em>ï¼›3ï¼‰è¿™äº›å±€éƒ¨ä¿¡å·è¢«å¯¹é½å¹¶å–å¹³å‡ï¼Œå¾—åˆ°ä¸€ä¸ªå•ä¸€çš„ä¸€ç»´è¿åŠ¨ä¿¡å·ï¼Œè¯¥ä¿¡å·æ•æ‰å¯¹è±¡éšæ—¶é—´çš„<em>å…¨å±€è¿åŠ¨</em>ï¼›4ï¼‰è¿›ä¸€æ­¥æ»¤æ³¢å’Œå»å™ªï¼Œå¾—åˆ°æ¢å¤å‡ºæ¥çš„å£°éŸ³ã€‚</p><p><strong>å¯¹æ¯”ç§¯ææ–¹æ³•</strong>ï¼šæ¢å¤æ•ˆæœä¸å¦‚ç§¯ææ–¹æ³•ï¼›ä½†æ˜¯ä¼˜ç‚¹æœ‰ 1ï¼‰å¯¹äºçº¹ç†ç‰©ä½“å’Œå…‰ç…§è‰¯å¥½çš„åœºæ™¯ä¸éœ€è¦æä¾›ç§¯æç…§æ˜ï¼›2ï¼‰é™¤äº†é«˜é€Ÿæ‘„åƒæœºå¤–æ— éœ€é¢å¤–çš„ä¼ æ„Ÿå™¨æˆ–æ£€æµ‹æ¨¡å—ï¼›3ï¼‰æ— éœ€å›å°„æˆ–åå°„æŒ¯åŠ¨è¡¨é¢ï¼ˆåŒºåˆ«äºæ¿€å…‰éº¦å…‹é£ï¼‰ï¼›4ï¼‰æ²¡æœ‰å¯¹ç›¸å¯¹äºç›¸æœºçš„è¡¨é¢æ–¹å‘æ–½åŠ æ˜æ˜¾çš„çº¦æŸï¼›5ï¼‰äº§ç”Ÿäº†ä¸€ä¸ªå£°éŸ³çš„ç©ºé—´æµ‹é‡ï¼Œå¯ç”¨äºåˆ†æç‰©å“ä¸­å£°éŸ³å¼•èµ·çš„å½¢å˜ã€‚</p><p><strong>è®¨è®º</strong>ï¼šè™½ç„¶å£°éŸ³å¯ä»¥ç©¿é€å¤§å¤šæ•°ç‰©è´¨ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰©ä½“å’Œææ–™éƒ½èƒ½å¾ˆå¥½åœ°è¿›è¡Œè§†è§‰å£°éŸ³æ¢å¤ã€‚å£°æ³¢åœ¨ææ–™ä¸­çš„ä¼ æ’­å–å†³äºå¤šç§å› ç´ ï¼Œå¦‚ææ–™çš„å¯†åº¦å’Œå¯å‹ç¼©æ€§ï¼Œä»¥åŠç‰©ä½“çš„å½¢çŠ¶ã€‚æ–‡ç« è¿›è¡Œå¯¹ç…§å®éªŒï¼Œæµ‹é‡äº†ä¸åŒç‰©ä½“å’Œææ–™å¯¹å·²çŸ¥å’ŒæœªçŸ¥å£°éŸ³çš„ååº”ï¼Œå¹¶è¯„ä¼°æ–‡ç« æ‰€ææŠ€æœ¯å¯¹äºä»é«˜é€Ÿè§†é¢‘ä¸­æ¢å¤å£°éŸ³çš„èƒ½åŠ›ã€‚</p><h2 id="Related-Work"><a href="#Related-Work" class="headerlink" title="Related Work"></a>Related Work</h2><p>ä¼ ç»Ÿéº¦å…‹é£çš„å·¥ä½œåŸç†æ˜¯å°†å†…éƒ¨è†œç‰‡çš„è¿åŠ¨è½¬åŒ–ä¸ºç”µä¿¡å·ã€‚è†œç‰‡çš„è®¾è®¡ä½¿å…¶åœ¨å£°å‹ä¸‹å®¹æ˜“ç§»åŠ¨ï¼Œå› æ­¤å®ƒçš„è¿åŠ¨å¯ä»¥è¢«è®°å½•ä¸‹æ¥å¹¶è§£é‡Šä¸ºéŸ³é¢‘ã€‚<strong>æ¿€å…‰éº¦å…‹é£</strong>çš„å·¥ä½œåŸç†ä¸æ­¤ç±»ä¼¼ï¼Œä½†å®ƒæµ‹é‡çš„æ˜¯ä¸€ä¸ªé¥è¿œç‰©ä½“çš„è¿åŠ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯å°†ç‰©ä½“ä½œä¸ºä¸€ä¸ªå¤–éƒ¨è†œç‰‡ã€‚è¿™æ˜¯é€šè¿‡è®°å½•æ¿€å…‰å¯¹ç‰©ä½“è¡¨é¢çš„åå°„æ¥å®ç°çš„ã€‚æœ€åŸºæœ¬çš„æ¿€å…‰éº¦å…‹é£è®°å½•åå°„æ¿€å…‰çš„ç›¸ä½ï¼Œä»¥æ¿€å…‰æ³¢é•¿ä½œæ¨¡å¾—åˆ°ç‰©ä½“çš„è·ç¦»ã€‚æ¿€å…‰å¤šæ™®å‹’æµ‹æŒ¯ä»ª(LDV)é€šè¿‡æµ‹é‡åå°„æ¿€å…‰çš„å¤šæ™®å‹’é¢‘ç§»æ¥ç¡®å®šåå°„é¢é€Ÿåº¦ï¼Œä»è€Œè§£å†³ç›¸ä½åŒ…è£¹çš„æ¨¡ç³Šæ€§ã€‚è¿™ä¸¤ç§ç±»å‹çš„æ¿€å…‰éº¦å…‹é£éƒ½å¯ä»¥ä»å¾ˆè¿œçš„è·ç¦»æ¢å¤é«˜è´¨é‡çš„éŸ³é¢‘ï¼Œä½†ä¾èµ–äºæ¿€å…‰å’Œæ¥æ”¶å™¨ç›¸å¯¹äºå…·æœ‰é€‚å½“åå°„æ¯”çš„åœ°é¢çš„ç²¾ç¡®å®šä½ã€‚</p><p>Zalevskyç­‰äººé€šè¿‡ä½¿ç”¨å¤±ç„¦é«˜é€Ÿç›¸æœºæ¥è®°å½•åå°„æ¿€å…‰æ•£æ–‘æ¨¡å¼çš„å˜åŒ–ï¼Œè§£å†³äº†å…¶ä¸­çš„ä¸€äº›å±€é™æ€§ã€‚ä»–ä»¬çš„å·¥ä½œå…è®¸æ¥æ”¶å™¨çš„å®šä½æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†ä»ç„¶ä¾èµ–äºè®°å½•åå°„æ¿€å…‰ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæœ¬æ–‡çš„æŠ€æœ¯ä¸ä¾èµ–äºä¸»åŠ¨ç…§æ˜ã€‚</p><p>æœ¬æ–‡æ–¹æ³•ä¾èµ–äºä»è§†é¢‘ä¸­æå–æå…¶ç»†å¾®è¿åŠ¨çš„èƒ½åŠ›ï¼Œå› è€Œä¹Ÿä¸å¯¹è¿™äº›è¿åŠ¨è¿›è¡Œæ”¾å¤§å’Œå¯è§†åŒ–çš„å·¥ä½œæœ‰å…³ã€‚è¿™äº›å·¥ä½œä¾§é‡äºå°è¿åŠ¨çš„å¯è§†åŒ–ï¼Œè€Œæœ¬æ–‡ä¾§é‡äºæµ‹é‡è¿™äº›è¿åŠ¨å¹¶åˆ©ç”¨å®ƒä»¬æ¥æ¢å¤å£°éŸ³ã€‚æœ¬æ–‡å·¥ä½œä¸­ä½¿ç”¨çš„å±€éƒ¨è¿åŠ¨ä¿¡å·æ¥è‡ªSimoncelliç­‰äººæå‡ºçš„Complex steerable pyramid (CSP)ä¸­çš„ç›¸ä½å˜åŒ–ï¼Œå› ä¸ºè¿™äº›å˜åŒ–è¢«è¯æ˜éå¸¸é€‚åˆäºè§†é¢‘ä¸­å¾®å°åŠ¨ä½œçš„æ¢å¤ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨å…¶ä»–æŠ€æœ¯æ¥è®¡ç®—å±€éƒ¨è¿åŠ¨ä¿¡å·ã€‚ä¾‹å¦‚ï¼Œç»å…¸çš„å…‰æµå’Œç‚¹ç›¸å…³æ–¹æ³•åœ¨ä¹‹å‰çš„è§†è§‰æŒ¯åŠ¨ä¼ æ„Ÿå·¥ä½œä¸­è¢«æˆåŠŸåœ°ä½¿ç”¨ã€‚ç”±äºæœ¬æ–‡æ–¹æ³•çš„è¾“å‡ºæ˜¯å•ä¸ªæŒ¯åŠ¨ç‰©ä½“çš„ä¸€ç»´è¿åŠ¨ä¿¡å·ï¼Œå› è€Œèƒ½å¤Ÿå¯¹è¾“å…¥è§†é¢‘ä¸­çš„æ‰€æœ‰åƒç´ è¿›è¡Œå¹³å‡ï¼Œå¹¶åœ¨åƒåˆ†ä¹‹ä¸€åƒç´ çš„æ•°é‡çº§ä¸Šå¤„ç†æå…¶å¾®å°çš„è¿åŠ¨ã€‚</p><h2 id="Recovering-Sound-from-Video"><a href="#Recovering-Sound-from-Video" class="headerlink" title="Recovering Sound from Video"></a>Recovering Sound from Video</h2><p><img src="/images/VisualSound/1.png" alt="1"></p><p><strong>è¾“å…¥</strong>ï¼šç‰©ä½“çš„é«˜é€Ÿè§†é¢‘ï¼ˆ1kHz~20kHzï¼‰$V(x,y,t)$</p><p><strong>å‡è®¾</strong>ï¼šç‰©ä½“å’Œç›¸æœºçš„ç›¸å¯¹è¿åŠ¨æ˜¯ç”±å£°éŸ³ä¿¡å·$s(t)$å¼•èµ·çš„æŒ¯åŠ¨ä¸»å¯¼çš„</p><p><strong>ç›®æ ‡</strong>ï¼šä»$V$å¾—åˆ°$s(t)$</p><p><strong>æ­¥éª¤</strong>ï¼š1ï¼‰æ ¹æ®ä¸åŒçš„æ–¹å‘$Î¸$å’Œå°ºåº¦$r$å°†$V$åˆ†è§£æˆå¤šä¸ªç©ºé—´å­å¸¦ï¼›</p><p>â€‹            2ï¼‰è®¡ç®—æ¯ä¸ªåƒç´ ã€æ–¹å‘å’Œå°ºåº¦ä¸Šçš„å±€éƒ¨è¿åŠ¨ä¿¡å·ï¼›é€šè¿‡ä¸€ç³»åˆ—çš„å¹³å‡å’Œå¯¹é½æ“ä½œå°†è¿™äº›è¿åŠ¨ä¿¡å·ç»„åˆèµ·æ¥ï¼Œä¸ºç‰©ä½“äº§ç”Ÿä¸€ä¸ªå•ä¸€çš„å…¨å±€è¿åŠ¨ä¿¡å·ï¼›</p><p>â€‹            3ï¼‰å¯¹ç‰©ä½“çš„è¿åŠ¨ä¿¡å·ä½¿ç”¨éŸ³é¢‘å»å™ªå’Œæ»¤æ³¢æŠ€æœ¯ï¼Œä»¥è·å¾—æ¢å¤å‡ºæ¥çš„å£°éŸ³ã€‚</p><h3 id="Computing-Local-Motion-Signals"><a href="#Computing-Local-Motion-Signals" class="headerlink" title="Computing Local Motion Signals"></a>Computing Local Motion Signals</h3><p>ä½¿ç”¨$V$çš„CSPè¡¨ç¤ºä¸­çš„ç›¸ä½å˜åŒ–æ¥è®¡ç®—å±€éƒ¨è¿åŠ¨ã€‚</p><p>CSPï¼šå°†$V$ä¸­çš„æ¯ä¸€å¸§æ ¹æ®ä¸åŒçš„æ–¹å‘å’Œå°ºåº¦åˆ†è§£æˆå¤æ•°å­å¸¦çš„æ»¤æ³¢å™¨ç»„ã€‚è¯¥å˜æ¢çš„åŸºç¡€æ–¹ç¨‹æ˜¯å¸¦å°ºåº¦å’Œæ–¹å‘çš„å…¼å…·ä½™å¼¦å’Œæ­£å¼¦ç›¸ä½çš„Gabor-likeå°æ³¢ã€‚æ¯ä¸€å¯¹ç±»ä½™å¼¦å’Œç±»æ­£å¼¦æ»¤æ³¢å™¨éƒ½å¯ä»¥ç”¨æ¥åˆ†ç¦»å±€éƒ¨å°æ³¢çš„æŒ¯å¹…å’Œå®ƒä»¬çš„ç›¸ä½ã€‚å…·ä½“åœ°è¯´ï¼Œæ¯ä¸ªå°ºåº¦$r$å’Œæ–¹ä½$Î¸$æ˜¯ä¸€ä¸ªå¤æ•°å›¾åƒï¼Œå¯ä»¥ç”¨å¹…å€¼$A$å’Œç›¸ä½$Ï†$è¡¨ç¤ºä¸ºï¼š</p><script type="math/tex; mode=display">A(r,\theta,x,y,t)e^{i\varphi (r,\theta,x,y,t)}</script><p>å–è¿™ä¸ªç­‰å¼ä¸­è®¡ç®—çš„å±€éƒ¨ç›¸ä½$Ï†$ï¼Œä»å‚è€ƒå¸§$t_{0}$(é€šå¸¸æ˜¯è§†é¢‘çš„ç¬¬ä¸€å¸§)çš„å±€éƒ¨ç›¸ä½ä¸­å‡å»å®ƒä»¬ï¼Œè®¡ç®—ç›¸ä½å˜åŒ–</p><script type="math/tex; mode=display">\varphi_{v} (r,\theta,x,y,t)=\varphi (r,\theta,x,y,t)-\varphi (r,\theta,x,y,t_{0})</script><p>å¯¹äºè¾ƒå°çš„è¿åŠ¨ï¼Œè¿™äº›ç›¸ä½å˜åŒ–è¿‘ä¼¼æ­£æ¯”äºå›¾åƒç»“æ„åœ¨ç›¸åº”æ–¹å‘å’Œå°ºåº¦ä¸Šçš„ä½ç§»ã€‚</p><h3 id="Computing-the-Global-Motion-Signal"><a href="#Computing-the-Global-Motion-Signal" class="headerlink" title="Computing the Global Motion Signal"></a>Computing the Global Motion Signal</h3><p>å¯¹äºCSPçš„æ¯ä¸ªå°ºåº¦$r$å’Œæ–¹ä½$Î¸$æ±‚å±€éƒ¨è¿åŠ¨ä¿¡å·çš„åŠ æƒå¹³å‡ï¼š</p><script type="math/tex; mode=display">\Phi_{i}(r,\theta,t)=\sum\limits_{x,y}A(r,\theta,x,y)^{2}\varphi_{v} (r,\theta,x,y,t)</script><p>æ±‚åŠ æƒå¹³å‡çš„åŸå› ï¼šå±€éƒ¨ç›¸ä½åœ¨æ²¡æœ‰å¤ªå¤šçº¹ç†çš„åŒºåŸŸæ˜¯æ¨¡ç³Šçš„ï¼Œå¯¼è‡´è¿™äº›åŒºåŸŸçš„è¿åŠ¨ä¿¡å·æ˜¯æœ‰å™ªå£°çš„ã€‚CSPçš„æŒ¯å¹…Aç»™å‡ºäº†çº¹ç†å¼ºåº¦çš„åº¦é‡ï¼Œå› æ­¤å¯ä»¥é€šè¿‡(å¹³æ–¹)æŒ¯å¹…æ¥åŠ æƒæ¯ä¸ªå±€éƒ¨ä¿¡å·ã€‚</p><p>å¯¹é½ï¼š</p><script type="math/tex; mode=display">t_{i}=arg\max\limits_{t_{i}}\Phi_{0}(r_{0},\theta_{0},t)^{T}\Phi_{i}(r_{i},\theta_{i},t-t_{i})</script><p>å¾—åˆ°å…¨å±€è¿åŠ¨ä¿¡å·ï¼š</p><script type="math/tex; mode=display">\hat{s}(t)=\sum\limits_{i}\Phi_{i}(r_{i},\theta_{i},t-t_{i})</script><p>å½’ä¸€åŒ–åˆ°[-1,1]çš„èŒƒå›´ã€‚</p><h3 id="Denoising"><a href="#Denoising" class="headerlink" title="Denoising"></a>Denoising</h3><p>ç›®æ ‡ï¼šæ”¹å–„å…¨å±€è¿åŠ¨ä¿¡å·çš„SNR</p><p>è§‚å¯Ÿåˆ°çš„ç°è±¡ï¼šä½é¢‘çš„é«˜èƒ½é‡å™ªå£°é€šå¸¸ä¸éŸ³é¢‘ä¸ä¸€è‡´</p><p>æ–¹æ³•ï¼šåº”ç”¨é«˜é€šButterworthæ»¤æ³¢å™¨ï¼ˆæˆªæ–­é¢‘ç‡ä¸º20-100Hzï¼‰</p><p>æ»¤é™¤åŠ æ€§å™ªå£°ï¼šç›®æ ‡æ˜¯accuracyï¼Œç”¨spectral subtractionï¼›ç›®æ ‡æ˜¯å¯ç†è§£æ€§ï¼Œç”¨æ„ŸçŸ¥é©±åŠ¨çš„è¯­éŸ³å¢å¼ºç®—æ³•ï¼ˆé€šè¿‡è®¡ç®—ä¸€ä¸ªè´å¶æ–¯æœ€ä¼˜ä¼°è®¡å»å™ªä¿¡å·çš„æˆæœ¬å‡½æ•°ï¼Œè€ƒè™‘åˆ°äººç±»å¯¹è¯­éŸ³çš„æ„ŸçŸ¥ï¼‰ã€‚æœ¬æ–‡çš„ç»“æœæ˜¯è‡ªåŠ¨ä½¿ç”¨äºŒè€…ä¹‹ä¸€çš„ç®—æ³•æ¥å»å™ªçš„ã€‚</p><p>æ¢å¤ä¿¡å·çš„ä¸åŒé¢‘ç‡å¯èƒ½ä¼šè¢«è®°å½•å¯¹è±¡ä¸åŒåœ°è°ƒåˆ¶ã€‚ç¬¬4.3èŠ‚å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨å·²çŸ¥æµ‹è¯•ä¿¡å·æ¥æè¿°ä¸€ä¸ªç‰©ä½“å¦‚ä½•è¡°å‡ä¸åŒé¢‘ç‡ï¼Œç„¶ååœ¨æ–°çš„è§†é¢‘ä¸­ä½¿ç”¨è¯¥ä¿¡æ¯æ¥å‡è¡¡ä»åŒä¸€ç‰©ä½“(æˆ–ç±»ä¼¼ç‰©ä½“)ä¸­æ¢å¤çš„æœªçŸ¥ä¿¡å·ã€‚</p><h2 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h2><p>ç¬¬ä¸€ç»„å®éªŒæµ‹è¯•äº†å¯ä»¥ä»ä¸åŒç‰©ä½“ä¸Šæ¢å¤çš„é¢‘ç‡èŒƒå›´ã€‚é€šè¿‡æ‰¬å£°å™¨æ’­æ”¾çº¿æ€§æ¸å˜é¢‘ç‡çš„å£°éŸ³ä¿¡å·ï¼Œç„¶åè§‚å¯Ÿå“ªäº›é¢‘ç‡å¯ä»¥é€šè¿‡æœ¬æ–‡æŠ€æœ¯æ¢å¤ã€‚ç¬¬äºŒç»„å®éªŒé›†ä¸­åœ¨ä»è§†é¢‘ä¸­æ¢å¤äººç±»è¯­è¨€ã€‚è¿™äº›å®éªŒä½¿ç”¨äº†æ¥è‡ªTIMITæ•°æ®é›†çš„å‡ ä¸ªæ ‡å‡†è¯­éŸ³ç¤ºä¾‹ï¼Œä»¥åŠé€šè¿‡æ‰¬å£°å™¨æ’­æ”¾çš„äººç±»å—è¯•è€…çš„ç°åœºè¯­éŸ³(æ‰¬å£°å™¨è¢«ä¸€ä¸ªä¼šè¯´è¯çš„äººæ›¿æ¢)ã€‚</p><h3 id="Sound-Recovery-from-Different-Objects-Materials"><a href="#Sound-Recovery-from-Different-Objects-Materials" class="headerlink" title="Sound Recovery from Different Objects/Materials"></a>Sound Recovery from Different Objects/Materials</h3><p><img src="/images/VisualSound/2.png" alt="2" style="zoom:67%;"></p><p>åœ¨å‡ ä¹æ‰€æœ‰çš„ç»“æœä¸­ï¼Œæ¢å¤çš„ä¿¡å·åœ¨è¾ƒé«˜çš„é¢‘ç‡ä¸­æ˜¯è¾ƒå¼±çš„ã€‚è¿™æ˜¯æ„æ–™ä¹‹ä¸­çš„ï¼Œå› ä¸ºæ›´é«˜çš„é¢‘ç‡äº§ç”Ÿæ›´å°çš„ä½ç§»ï¼Œå¹¶ä¸”è¢«å¤§å¤šæ•°ææ–™ä¸¥é‡è¡°å‡ã€‚ç„¶è€Œï¼Œè¾ƒé«˜é¢‘ç‡çš„åŠŸç‡ä¸‹é™ä¸æ˜¯å•è°ƒçš„ï¼Œå¯èƒ½æ˜¯ç”±äºæŒ¯åŠ¨æ¨¡å¼çš„åˆºæ¿€ã€‚æ¯«ä¸å¥‡æ€ªï¼Œè¾ƒè½»çš„ç‰©ä½“æ›´å®¹æ˜“ç§»åŠ¨ï¼Œæ¯”æƒ°æ€§çš„ç‰©ä½“æ›´å®¹æ˜“æ”¯æŒæ›´é«˜é¢‘ç‡çš„æ¢å¤ã€‚</p><h3 id="Speech-Recovery"><a href="#Speech-Recovery" class="headerlink" title="Speech Recovery"></a>Speech Recovery</h3><p>è¯„æµ‹æŒ‡æ ‡ï¼š</p><p>(1) è¯„æµ‹accuracyï¼š Segmental Signal-to-Noise Ratio (SSNR) éšæ—¶é—´çš„å¹³å‡å±€éƒ¨ä¿¡å™ªæ¯”;</p><p>(2) è¯„æµ‹intelligibilityï¼š perceptually-based metric</p><p>(3) è¯„æµ‹æ¢å¤è´¨é‡ï¼šLog Likelihood Ratio (LLR)ï¼Œè¯„æµ‹æ¢å¤ä¿¡å·çš„è°±å½¢çŠ¶ä¸åŸå§‹å¹²å‡€ä¿¡å·çš„è°±å½¢çŠ¶æœ‰å¤šæ¥è¿‘</p><p><img src="/images/VisualSound/3.png" alt="3"></p><p>æ›´é«˜çš„å¸§ç‡å¯¼è‡´æ›å…‰æ—¶é—´å‡å°‘ï¼Œå› æ­¤å›¾åƒå™ªå£°æ›´å¤šï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ20,000FPSç»“æœå›¾æ¯”2200Hzæ—¶çš„ç»“æœå™ªå£°æ›´å¤§</p><p><img src="/images/VisualSound/4.png" alt="4" style="zoom:75%;"></p><p>VMå’ŒLDVç»“æœç›¸è¿‘ï¼Œè€ŒLDVéœ€è¦ç§¯æç…§æ˜ï¼ˆå¿…é¡»åœ¨ç‰©ä½“ä¸Šç²˜ä¸Šä¸€æ¡ååå°„èƒ¶å¸¦ä»¥ä¾¿æ¿€å…‰ä»ç‰©ä½“ä¸Šåå°„å›æ¥å›åˆ°æŒ¯åŠ¨è®¡ä¸Šï¼‰</p><h3 id="Transfer-Functions-and-Equalization"><a href="#Transfer-Functions-and-Equalization" class="headerlink" title="Transfer Functions and Equalization"></a>Transfer Functions and Equalization</h3><p>å¯ä»¥ä½¿ç”¨ç¬¬4.1èŠ‚ä¸­çš„æ–œå¡ä¿¡å·æ¥è¡¨å¾ç‰©ä½“çš„(å¯è§†çš„)é¢‘ç‡å“åº”ï¼Œä»¥æé«˜ä»è¯¥ç‰©ä½“çš„æ–°è§‚æµ‹ä¸­æ¢å¤çš„ä¿¡å·è´¨é‡ã€‚ç†è®ºä¸Šã€‚å¦‚æœè®¤ä¸ºç‰©ä½“æ˜¯çº¿æ€§ç³»ç»Ÿ,å¯ä»¥ä½¿ç”¨ç»´çº³åå·ç§¯ä¼°è®¡ä¸è¯¥ç³»ç»Ÿç›¸å…³è”çš„å¤æ•°ä¼ é€’å‡½æ•°ï¼Œå¹¶ä¸”ä¼ é€’å‡½æ•°å¯ä»¥ç”¨æ¥ä»¥ä¸€ç§æœ€ä¼˜çš„æ–¹å¼(åœ¨å‡æ–¹è¯¯å·®æ„ä¹‰ä¸Šçš„)è§£å·ç§¯æ–°çš„è§‚æµ‹ä¿¡å·ã€‚ç„¶è€Œï¼Œåœ¨å®è·µä¸­ï¼Œè¿™ç§æ–¹æ³•å¾ˆå®¹æ˜“å—åˆ°å™ªå£°å’Œéçº¿æ€§artifactsçš„å½±å“ã€‚å› æ­¤ï¼Œæœ¬æ–‡æè¿°äº†ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼Œé¦–å…ˆä½¿ç”¨è®­ç»ƒå®ä¾‹ï¼ˆçº¿æ€§æ–œå¡ï¼‰çš„çŸ­æ—¶é—´å‚…é‡Œå¶å˜æ¢åœ¨ç²—å°ºåº¦ä¸Šè®¡ç®—é¢‘ç‡ä¼ é€’ç³»æ•°ï¼Œç„¶åä½¿ç”¨è¿™äº›ä¼ é€’ç³»æ•°ä½¿æ–°çš„è§‚æµ‹ä¿¡å·ç›¸ç­‰ã€‚</p><p>è½¬ç§»ç³»æ•°æ˜¯ä»ä¸€å¯¹è¾“å…¥/è¾“å‡ºçš„ä¿¡å·çš„çŸ­æ—¶åŠŸç‡è°±ä¸­æå–å‡ºæ¥çš„ã€‚æ¯ä¸ªç³»æ•°å¯¹åº”äºè§‚å¯Ÿåˆ°çš„è®­ç»ƒä¿¡å·çš„çŸ­æ—¶åŠŸç‡è°±çš„ä¸€ä¸ªé¢‘ç‡ï¼Œå¹¶ä½œä¸ºéšæ—¶é—´å˜åŒ–çš„é¢‘ç‡å¹…å€¼çš„åŠ æƒå¹³å‡è¢«è®¡ç®—ã€‚æ¯ä¸€æ—¶åˆ»çš„æƒå€¼ç”±å¯¹å‡†çš„è¾“å…¥è®­ç»ƒä¿¡å·çš„çŸ­æ—¶åŠŸç‡è°±ç»™å‡ºã€‚ç”±äºè¾“å…¥ä¿¡å·ä¸€æ¬¡åªåŒ…å«ä¸€ä¸ªé¢‘ç‡ï¼Œè¿™ä¸ªåŠ æƒæ–¹æ¡ˆå¿½ç•¥äº†å›¾2(b)ä¸­æ‰€ç¤ºçš„å€é¢‘ç­‰éçº¿æ€§artifactsã€‚</p><p>ä¸€æ—¦æœ‰äº†ä¼ è¾“ç³»æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒä»¬æ¥å¹³è¡¡æ–°çš„ä¿¡å·ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å°†å¢ç›Šåº”ç”¨äºæ–°ä¿¡å·çŸ­æ—¶åŠŸç‡è°±çš„é¢‘ç‡ä¸Šï¼Œç„¶ååœ¨æ—¶åŸŸé‡æ–°åˆæˆä¿¡å·ã€‚åº”ç”¨äºæ¯ä¸ªé¢‘ç‡çš„å¢ç›Šä¸å…¶ç›¸åº”çš„ä¼ é€’ç³»æ•°çš„å€’æ•°æˆæ­£æ¯”ï¼Œè¯¥ç³»æ•°ä¸Šå‡åˆ°æŸä¸ªæŒ‡æ•°kã€‚</p><p>è¡¨2æ˜¾ç¤ºäº†åº”ç”¨ä»è–¯ç‰‡è¢‹å¯¼å‡ºçš„å‡è¡¡å™¨åˆ°ä»åŒä¸€ç‰©ä½“æ¢å¤çš„è¯­éŸ³åºåˆ—çš„ç»“æœã€‚åœ¨æ²¡æœ‰å™ªå£°çš„æƒ…å†µä¸‹ï¼Œkè®¾ä¸º1ï¼Œä½†å¹¿è°±å™ªå£°å‹ç¼©äº†ä¼°è®¡çš„ä¼ é€’ç³»æ•°çš„èŒƒå›´ã€‚ä½¿ç”¨æ›´å¤§çš„kå¯ä»¥å¼¥è¡¥è¿™ä¸€ç‚¹ã€‚åœ¨å…¶ä¸­ä¸€ä¸ªå¥³æ€§è¯­éŸ³ç¤ºä¾‹ä¸Šæ‰‹åŠ¨è°ƒæ•´kå€¼ï¼Œç„¶åå°†å¾—åˆ°çš„å‡è¡¡å™¨åº”ç”¨äºæ‰€æœ‰å…­ä¸ªè¯­éŸ³ç¤ºä¾‹ã€‚ç”±äºè¿™ç§å‡è¡¡æ˜¯ä¸ºäº†æé«˜æ¢å¤ä¿¡å·çš„å¯ä¿¡åº¦è€Œä¸æ˜¯è¯­éŸ³çš„å¯ç†è§£æ€§ï¼Œå› æ­¤ä½¿ç”¨è°±å‡æ³•æ¥å»é™¤å™ªå£°ã€‚</p><p><img src="/images/VisualSound/5.png" alt="5" style="zoom:75%;"></p><p>æ³¨æ„ï¼Œæ ¡å‡†å’Œå‡è¡¡æ˜¯å¯é€‰çš„ã€‚ç‰¹åˆ«æ˜¯ï¼Œæœ¬æ–‡ä¸­é™¤è¡¨2ä¹‹å¤–çš„æ‰€æœ‰ç»“æœéƒ½å‡å®šä¸é¢„å…ˆçŸ¥é“è¢«è®°å½•ç‰©ä½“çš„é¢‘ç‡å“åº”ã€‚</p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p><strong>Object response (A)</strong>: ç‰©ä½“ç›¸åº”å£°éŸ³å¹¶ç§»åŠ¨ï¼Œå°†ç©ºæ°”å‹åŠ›è½¬åŒ–ä¸ºè¡¨é¢ä½ç§»ã€‚</p><p><strong>Processing (B)</strong>: å°†å½•åˆ¶çš„è§†é¢‘è½¬æ¢æˆæ¢å¤çš„å£°éŸ³ã€‚</p><h3 id="Object-response-A"><a href="#Object-response-A" class="headerlink" title="Object response (A)"></a>Object response (A)</h3><p><img src="/images/VisualSound/6.png" alt="6"></p><p>å›¾7(b)ï¼š300Hzçº¯éŸ³æµ‹è¯•ï¼Œå¤§å¤šæ•°ç‰©ä½“çš„è¿åŠ¨åœ¨å£°å‹ï¼ˆéŸ³é‡ï¼‰ä¸Šè¿‘ä¼¼å‘ˆçº¿æ€§ã€‚ç»“è®ºï¼šAå¯å»ºæ¨¡ä¸ºLTIç³»ç»Ÿã€‚</p><p>å›¾7(c)ï¼šæ–œå¡ä¿¡å·ï¼ˆ20Hzåˆ°2200Hzï¼‰æµ‹è¯•ï¼Œå°†Aå»ºæ¨¡ä¸ºLTIç³»ç»Ÿï¼Œç”¨è¿™ä¸ªæ–œå¡ä¿¡å·æ¥æ¢å¤ç³»ç»Ÿçš„è„‰å†²å“åº”ã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨ç»´çº³åå·ç§¯ç”¨å·²çŸ¥çš„è¾“å…¥å¯¹è§‚å¯Ÿåˆ°çš„æ–œå¡ä¿¡å·(è¿™ä¸€æ¬¡æ˜¯ç”±LDVè®°å½•çš„)è¿›è¡Œåå·ç§¯æ¥å®ç°çš„ã€‚å›¾7 (c)æ˜¾ç¤ºäº†ä»æ¢å¤çš„è„‰å†²å“åº”ä¸­å¾—åˆ°çš„é¢‘ç‡å“åº”ã€‚ä»è¿™å¼ å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå¤§å¤šæ•°ç‰©ä½“åœ¨ä½é¢‘ç‡çš„å“åº”æ¯”é«˜é¢‘ç‡çš„å“åº”æ›´å¼º(æ­£å¦‚é¢„æœŸçš„é‚£æ ·)ï¼Œä½†æ˜¯è¿™ç§è¶‹åŠ¿ä¸æ˜¯å•è°ƒçš„ã€‚</p><script type="math/tex; mode=display">D_{mm}(\omega)\approx \boldsymbol{A}(\omega)S(\omega)</script><p>$\boldsymbol{A}(\omega)$: è½¬ç§»å‡½æ•°</p><p>$S(\omega)$: å£°è°±</p><p>$D_{mm}(\omega)$: è¿åŠ¨è°±</p><p><a href="http://people.csail.mit.edu/mrub/VisualMic/" target="_blank" rel="noopener">é¡¹ç›®ç½‘å€</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ç°è±¡&lt;/strong&gt;ï¼šå£°éŸ³åˆ°è¾¾ç‰©ä½“ä¼šåœ¨ç‰©ä½“è¡¨é¢å¼•èµ·å¾®å°æŒ¯åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åšæ³•&lt;/strong&gt;ï¼šä½¿ç”¨ç‰©
      
    
    </summary>
    
    
      <category term="Visual Sound" scheme="http://yoursite.com/categories/Visual-Sound/"/>
    
    
      <category term="paper notes-visual sound" scheme="http://yoursite.com/tags/paper-notes-visual-sound/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(4)ï¼šCNNé¢‘åŸŸå­¦ä¹ (2)</title>
    <link href="http://yoursite.com/2020/12/04/20201204_CNNinFrequence2/"/>
    <id>http://yoursite.com/2020/12/04/20201204_CNNinFrequence2/</id>
    <published>2020-12-04T03:50:09.000Z</published>
    <updated>2020-12-04T05:23:42.387Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Faster-Neural-Networks-Straight-from-JPEG"><a href="#Faster-Neural-Networks-Straight-from-JPEG" class="headerlink" title="Faster Neural Networks Straight from JPEG"></a>Faster Neural Networks Straight from JPEG</h2><h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3><p>1ã€ç¼©çŸ­å›¾åƒè§£ç æ—¶é—´ã€‚å¤§éƒ¨åˆ†å›¾ç‰‡éƒ½æ˜¯é€šè¿‡JPEGæ ¼å¼è¿›è¡Œå­˜å‚¨ï¼ŒJPEGæ ¼å¼è½¬æ¢ä¸ºRGBéœ€è¦è§£ç ã€‚è€Œå¦‚æœé€šè¿‡é¢‘åŸŸå­¦ä¹ ï¼Œè§£ç æ—¶åªéœ€è¦ä»éœå¤«æ›¼ç¼–ç ä¸­è·å–DCTç³»æ•°å³å¯ï¼Œä¸éœ€è¦å®Œå…¨è§£ç å¾—åˆ°RGBå›¾åƒï¼›</p><p>2ã€è®©æ¨¡å‹æ›´é«˜æ•ˆã€‚CNNæ¨¡å‹çš„ä¼˜åŠ¿æ˜¯è¡¨è¾¾èƒ½åŠ›å¼ºï¼ˆå‚æ•°å¾ˆå¤šï¼‰ï¼Œæ‰€éœ€å…ˆéªŒå°‘ã€‚ä½†æ˜¯å…ˆéªŒå°‘ï¼Œæ‰€ä»¥éœ€è¦å¤§é‡å‚æ•°ï¼Œä½¿å¾—CNNæ¨¡å‹ä¸­å­˜åœ¨å¤§é‡å†—ä½™è®¡ç®—ã€‚é¢‘åŸŸå­¦ä¹ å…¶å®æ˜¯ä¸€ä¸ªå…ˆéªŒï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒå’Œè¯¥å…ˆéªŒä¸€è‡´ï¼Œé‚£ä¹ˆè¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œæ¨¡å‹å¯ä»¥æ›´ç®€å•ï¼Œæ‰€éœ€è¦çš„è®­ç»ƒæ•°æ®å¯ä»¥æ›´å°‘ã€‚</p><h3 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h3><p><img src="/images/CNNinFrequence/02_method.png" alt="02_method"></p><h3 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h3><p>åœ¨<strong>ImageNet</strong>ä¸Šå®éªŒã€‚ç›®æ ‡æ˜¯å‡†ç¡®ç‡é«˜ä¸”è¿è¡Œé€Ÿåº¦å¿«ã€‚</p><h4 id="Baseline"><a href="#Baseline" class="headerlink" title="Baseline"></a>Baseline</h4><p>Vanilla ResNet-50, è¾“å…¥ä¸ºRGBå›¾åƒã€‚Top-5é”™è¯¯ç‡7.4%å·¦å³ï¼Œé€Ÿåº¦200 image/sï¼š</p><p><img src="/images/CNNinFrequence/02_result1.png" alt="02_result1" style="zoom: 33%;"></p><p>ä»¥YCbCrä¸ºè¾“å…¥ï¼Œæ•ˆæœä¸RGBå·®ä¸å¤šã€‚æœŸæœ›çš„æ•ˆæœæ˜¯åœ¨å›¾ä¸­å¾€å³ä¸‹å‘å±•ï¼ˆå³ï¼šé€Ÿåº¦å¿«ï¼›ä¸‹ï¼šé”™è¯¯ç‡ä½ï¼‰ã€‚</p><p>å¸Œæœ›è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼š1ï¼‰shorter ResNet-50 (å‡å°‘ç½‘ç»œå±‚æ•°)ï¼›2ï¼‰thinner ResNet-50 (å‡å°‘æ¯å±‚çš„é€šé“æ•°)</p><p><img src="/images/CNNinFrequence/02_result2.png" alt="02_result2"></p><p>ç»“è®ºï¼šshorter ResNet-50ä¼˜äºthinner ResNet-50ã€‚æµ…ç°è‰²çš„â€œRemove N ID Blocksâ€çš„çº¿å½¢æˆäº†å¸•ç´¯æ‰˜å‰æ²¿(Pareto front)ï¼Œæ˜¾ç¤ºäº†â€œnon-dominatedâ€ç½‘ç»œçš„é›†åˆï¼Œæˆ–è€…æ˜¯é‚£äº›åœ¨é€Ÿåº¦å’Œå‡†ç¡®æ€§ä¹‹é—´åšå‡ºæœ€ä½³æƒè¡¡çš„ç½‘ç»œã€‚</p><h4 id="Training-networks-on-DCT-inputs"><a href="#Training-networks-on-DCT-inputs" class="headerlink" title="Training networks on DCT inputs"></a>Training networks on DCT inputs</h4><hr><p><strong>é—®é¢˜1</strong>ï¼šé’ˆå¯¹ä¸åŒçš„è¾“å…¥å°ºå¯¸å¦‚ä½•å¤„ç†ï¼Ÿ</p><p>RGBå›¾åƒå¤§å°ï¼š(224, 224, 3)</p><p>DCTç³»æ•°ï¼š 1)  Y-(28, 28, 64)ï¼›</p><p>â€‹                    2)  Cb/Cr-(14, 14, 64)</p><p><strong>è§£å†³</strong>ï¼šåœ¨è¿›å…¥ç½‘ç»œä¹‹å‰combine Yå’ŒCbã€Cr</p><p><img src="/images/CNNinFrequence/02_net1.png" alt="02_net1" style="zoom:50%;"></p><hr><p><strong>1.    DCT Early Merge architectures</strong>ï¼š1ï¼‰ä¸‹é‡‡Yï¼ˆâ€œDownSamplingâ€ï¼‰ï¼›2ï¼‰ä¸Šé‡‡Cbã€Crï¼ˆâ€œUpSamplingâ€ï¼‰</p><p><img src="/images/CNNinFrequence/02_result3.png" alt="02_result3"></p><p>ç»“è®ºï¼š 1ï¼‰DownSamplingï¼šfast (450 image/s) but high errorï¼›</p><p>â€‹            2ï¼‰ UpSamplingï¼šslower but lower error; </p><hr><p><strong>é—®é¢˜2</strong>ï¼šUpSamplingçš„é”™è¯¯ç‡æ¯”baselineé«˜</p><p><strong>å¯èƒ½çš„åŸå› </strong>ï¼šæ„Ÿå—é‡è¿‡å¤§ã€‚ä¼ åˆ°baseline ResNet-50çš„ä¸­é—´å±‚æ—¶æ„Ÿå—é‡çº¦ä¸º70åƒç´ ï¼›è€ŒUpSamplingæ¨¡å‹çš„ç›¸åº”æ„Ÿå—é‡è¾¾åˆ°äº†110åƒç´ ã€‚è¿™æ˜¯å› ä¸ºDCTè¾“å…¥å±‚çš„[stride, receptive field]æ˜¯[8, 8]ï¼Œè€Œç»å…¸è¾“å…¥å±‚è¯¥å€¼ä¸º [1, 1]ã€‚ ç›´è§‚åœ°è¯´ï¼Œè¦æ±‚ç½‘ç»œå­¦ä¹ 110pxå®½çš„æ„Ÿå—é‡ï¼Œä½†æ²¡æœ‰ç»™å®ƒè¶³å¤Ÿçš„å±‚æˆ–è®¡ç®—èƒ½åŠ›æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><p><strong>è§£å†³</strong>ï¼šåˆ›é€ äº†ä¸€ä¸ªReceptive Field Aware (RFA) æ¨¡å‹â†’UpSampling-RFAã€‚åšæ³•æ˜¯ç»™ç¥ç»ç½‘ç»œçš„å‰å±‚å¢åŠ é¢å¤–çš„æ­¥é•¿1æ¨¡å—ã€‚æ­¤æ—¶é€å±‚çš„æ„Ÿå—é‡å¢é•¿å˜å¾—æ›´å¹³æ»‘ï¼Œè¿‘ä¼¼ä¸baseline ResNet-50ç›¸åŒ¹é…ã€‚</p><p>å¦‚æœUpSamplingé€šè¿‡å¯å­¦åå·ç§¯è€Œéåƒç´ å¤åˆ¶å¾—åˆ°ï¼Œåˆ™é”™è¯¯ç‡å¯ä»¥è¿›ä¸€æ­¥é™ä½ï¼Œè¾¾åˆ°ç›®å‰ä¸ºæ­¢æœ€å¥½çš„æ¨¡å‹ï¼šDeconvolution-RFAï¼ˆé”™è¯¯ç‡6.98%ï¼›åŠ é€Ÿ1.29å€ï¼‰ã€‚</p><hr><p>æ•ˆæœï¼šæ²¿ç€DCT Early Mergeçº¿çš„å…¶ä»–æ¨¡å‹ç°åœ¨å½¢æˆäº†æ–°çš„å¸•ç´¯æ‰˜å‰æ²¿ï¼Œåœ¨è¯¯å·®å’Œé€Ÿåº¦çš„æƒè¡¡æ–¹é¢è¶…è¶Šäº†ä»¥å‰çš„æ¨¡å‹ã€‚</p><p><strong>2.    DCT Late Merge architectures</strong></p><p>å®éªŒå‘ç°å…è®¸äº®åº¦åˆ†æ”¯å¤šå±‚è®¡ç®—æ‰èƒ½è·å¾—è¾ƒé«˜çš„å‡†ç¡®ç‡ï¼Œè€Œè‰²åº¦è·¯å¾„å¯ä»¥åœ¨è¾ƒå°‘çš„è®¡ç®—å±‚æ•°ä¸‹ä¸æŸå®³å‡†ç¡®ç‡ã€‚æ¢å¥è¯è¯´ï¼Œ1) å°†Yé€šé“æ”¾åˆ°ç½‘ç»œçš„å‰é¢ï¼Œè€ŒCb/Crä¿¡æ¯åœ¨ä¸­é€”æ³¨å…¥ï¼Œå…¶æ•ˆæœä¸ 2) ä»å‰é¢å¼€å§‹å…¨éƒ¨ä¸‰ä¸ªé€šé“çš„è¿ç®— ä¸€æ ·å¥½ï¼Œè€Œæ–¹æ³•1)èŠ‚çœäº†è®¡ç®—ã€‚</p><p><img src="/images/CNNinFrequence/02_result4.png" alt="02_result4" style="zoom: 50%;"></p><p>Late-Concat-RFAï¼šreceptive field aware versionï¼›</p><p>Late-Concat-RFA-Thinnerï¼šé€šè¿‡ä½¿ç”¨æ›´å°‘è¿‡æ»¤å™¨è€Œè°ƒæ•´é€Ÿåº¦çš„ç‰ˆæœ¬ã€‚åŠ é€Ÿ1.77å€ï¼Œé”™è¯¯ç‡ç›¸è¿‘ã€‚</p><p>ç»“è®ºï¼šå¸•ç´¯æ‰˜å‰æ²¿å†æ¬¡å‰ç§»ã€‚</p><h3 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h3><p>æœ‰è¶£çš„æ˜¯ï¼Œé¢œè‰²ä¿¡æ¯åœ¨ç½‘ç»œåæœŸï¼ˆå½“å®ƒä¸ä»äº®åº¦ä¸­å­¦åˆ°çš„æ›´é«˜å±‚æ¬¡çš„æ¦‚å¿µç›¸ç»“åˆæ—¶ï¼‰æ‰è¢«éœ€è¦ã€‚åœ¨è¿™ä¸€ç‚¹ä¸ŠçŒœæµ‹å¯èƒ½æ˜¯å­¦ä¹ ä¸­çº§æ¦‚å¿µï¼ˆä¾‹å¦‚:è‰æˆ–ç‹—æ¯›ï¼‰éœ€è¦åœ¨å…¶ä¸ç©ºé—´ä¸Šä¸é‚£ä¹ˆç²¾ç¡®çš„é¢œè‰²ä¿¡æ¯ï¼ˆä¾‹å¦‚:ç»¿è‰²æˆ–æ£•è‰²ï¼‰ç»“åˆä¹‹å‰ï¼Œç²¾ç»†çš„äº®åº¦è¾¹ç¼˜è¿›è¡Œäº†å¥½å‡ å±‚å¤„ç†å˜æˆçº¹ç†ã€‚å¯ä»¥ä»ResNet-50ä»RGBåƒç´ å­¦ä¹ åˆ°çš„æ›´é«˜é¢‘ç‡çš„é»‘ç™½è¾¹ç¼˜å’Œæ›´ä½é¢‘ç‡ï¼ˆæˆ–å¸¸æ•°ï¼‰çš„é¢œè‰²æ£€æµ‹å™¨ä¸­é¢„æœŸè¿™ä¸ªç»“æœã€‚</p><p><img src="/images/CNNinFrequence/02_result5.png" alt="02_result5"></p><p>è®¸å¤šè¾¹ç¼˜æ£€æµ‹å™¨åŸºæœ¬ä¸Šéƒ½æ˜¯é»‘ç™½çš„ï¼Œåœ¨äº®åº¦ç©ºé—´ä¸­æ“ä½œã€‚è®¸å¤šé¢œè‰²ç‰¹å¾è¦ä¹ˆåœ¨ç©ºé—´ä¸Šæ˜¯æ’å®šçš„ï¼Œè¦ä¹ˆåœ¨é¢‘ç‡ä¸Šæ˜¯è¾ƒä½çš„ï¼Œå®ƒä»¬å¯èƒ½åªæ˜¯ç”¨æ¥å°†ç²—ç•¥çš„é¢œè‰²ä¿¡æ¯ä¼ é€’ç»™éœ€è¦å®ƒçš„æ›´é«˜å±‚æ¬¡ã€‚æˆ‘ä»¬ä»2012å¹´å°±çœ‹åˆ°è¿‡è¿™æ ·çš„æ»¤æ³¢å™¨;æˆ‘ä»¬æ˜¯å¦åº”è¯¥æœŸæœ›ç›´åˆ°ç½‘ç»œåæœŸæ‰éœ€è¦é¢œè‰²?</p><p><strong>é€Ÿåº¦ä¸å‡†ç¡®ç‡</strong>ï¼šé€Ÿåº¦çš„æå‡æ˜¯ç”±äºè¾“å…¥å±‚å’Œåç»­å±‚ä¸Šçš„æ•°æ®é‡è¾ƒå°ã€‚å‡†ç¡®ç‡æå‡çš„ä¸»è¦åŸå› æ˜¯ DCT è¡¨ç¤ºçš„å…·ä½“ä½¿ç”¨ï¼Œç»“æœå¯¹å›¾åƒåˆ†ç±»éå¸¸æœ‰æ•ˆã€‚åªéœ€å°† ResNet-50 çš„ç¬¬ä¸€ä¸ªå·ç§¯å±‚æ›¿æ¢ä¸ºstrideä¸º 8 çš„DCT å˜æ¢ï¼Œå³å¯è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚å®ƒç”šè‡³æ¯”å®Œå…¨ç›¸åŒå½¢çŠ¶çš„å­¦ä¹ å¾—åˆ°çš„å˜æ¢ï¼ˆlearned transformï¼‰æ•ˆæœæ›´å¥½ã€‚ä½¿ç”¨æ›´å¤§çš„æ„Ÿå—é‡å’Œstrideï¼ˆ8ï¼‰è¡¨ç°æ›´å¥½ï¼Œè€Œç¡¬ç¼–ç ç¬¬ä¸€å±‚æ¯”å­¦ä¹ å¾—åˆ°ç¬¬ä¸€å±‚æ•ˆæœæ›´å¥½ã€‚æ®‹å·®ç½‘ç»œåœ¨ 2015 å¹´å¾—åˆ° ImageNet ä¸Šæœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œåªéœ€ç”¨DCT æ›¿æ¢ç¬¬ä¸€å±‚ï¼Œå°±ä¼šè¿›ä¸€æ­¥æé«˜SOTAã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/115584408" target="_blank" rel="noopener">CNNé¢‘åŸŸå­¦ä¹ åšå®¢è®²è§£</a></p><p><a href="https://papers.nips.cc/paper/2018/file/7af6266cc52234b5aa339b16695f7fc4-Paper.pdf" target="_blank" rel="noopener">Faster Neural Networks Straight from JPEG</a></p><p><a href="https://eng.uber.com/neural-networks-jpeg/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">Faster Neural Networks Straight from JPEG åšå®¢è®²è§£</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Faster-Neural-Networks-Straight-from-JPEG&quot;&gt;&lt;a href=&quot;#Faster-Neural-Networks-Straight-from-JPEG&quot; class=&quot;headerlink&quot; title=&quot;Faster Neu
      
    
    </summary>
    
    
      <category term="Deep Learning" scheme="http://yoursite.com/categories/Deep-Learning/"/>
    
    
      <category term="paper notes-deep learning" scheme="http://yoursite.com/tags/paper-notes-deep-learning/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(3)ï¼šCNNé¢‘åŸŸå­¦ä¹ (1)</title>
    <link href="http://yoursite.com/2020/12/03/20201203_CNNinFrequence/"/>
    <id>http://yoursite.com/2020/12/03/20201203_CNNinFrequence/</id>
    <published>2020-12-03T13:20:09.000Z</published>
    <updated>2020-12-03T13:53:54.055Z</updated>
    
    <content type="html"><![CDATA[<h2 id="On-using-CNN-with-DCT-based-Image-Data"><a href="#On-using-CNN-with-DCT-based-Image-Data" class="headerlink" title="On using CNN with DCT based Image Data"></a>On using CNN with DCT based Image Data</h2><h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3><p>å¯¹äºé«˜åˆ†è¾¨å›¾åƒã€è§†é¢‘ï¼Œè¾“å…¥æ•°æ®é‡å¤§ï¼ŒCNNè¿ç®—å¤šâ†’ä»å›¾åƒå‹ç¼©ç®—æ³•JPEGå¾—åˆ°å¯å‘ï¼Œç»è¿‡DCTå˜æ¢å°†ç©ºåŸŸæ•°æ®è½¬æ¢åˆ°é¢‘åŸŸå¤„ç†ï¼Œå‹ç¼©è¾“å…¥æ•°æ®é‡ã€‚</p><h3 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h3><p><img src="/images/CNNinFrequence/01_method.png" alt="01_method" style="zoom:75%;"></p><h3 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h3><p>å®éªŒæ•°æ®é›†ï¼šCIFAR10ï¼ŒMNIST</p><p><img src="/images/CNNinFrequence/01_result.png" alt="01_result" style="zoom:75%;"></p><h3 id="Discussion"><a href="#Discussion" class="headerlink" title="Discussion"></a>Discussion</h3><p>æ–‡ç« ç›´æ¥ç”¨DCTç³»æ•°æ›¿ä»£RGBä½œä¸ºCNNè¾“å…¥ï¼Œå¤„ç†æ–¹æ³•ç®€å•ç›´æ¥ã€‚Motivationæ˜¯æ•°æ®å‹ç¼©ï¼Œä½†æ˜¯æ²¡ç»™å‡ºè¾“å…¥æ•°æ®é‡å‡å°‘çš„å®éªŒç»“æœï¼ˆåªæ˜¯ä½œä¸ºfuture workï¼‰ï¼Œè€Œå‡†ç¡®ç‡æå‡ä¹Ÿä¸æ˜æ˜¾ã€‚</p><p><a href="https://www.scss.tcd.ie/Rozenn.Dahyot/pdf/IMVIP2017_MatejUlicny.pdf" target="_blank" rel="noopener">On using CNN with DCT based Image Data</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;On-using-CNN-with-DCT-based-Image-Data&quot;&gt;&lt;a href=&quot;#On-using-CNN-with-DCT-based-Image-Data&quot; class=&quot;headerlink&quot; title=&quot;On using CNN wit
      
    
    </summary>
    
    
      <category term="Deep Learning" scheme="http://yoursite.com/categories/Deep-Learning/"/>
    
    
      <category term="paper notes-deep learning" scheme="http://yoursite.com/tags/paper-notes-deep-learning/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(2)ï¼šAdderNet</title>
    <link href="http://yoursite.com/2020/12/02/20201202_AdderNet/"/>
    <id>http://yoursite.com/2020/12/02/20201202_AdderNet/</id>
    <published>2020-12-02T11:20:09.000Z</published>
    <updated>2020-12-03T02:08:00.943Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p><strong>ç›®æ ‡</strong>ï¼šè®¾è®¡æ›´åŠ é«˜æ•ˆçš„æ·±åº¦ç¥ç»ç½‘ç»œï¼Œå¯ä»¥åœ¨èµ„æºæœ‰é™çš„ç§»åŠ¨è®¾å¤‡è¿è¡Œã€‚</p><p><strong>ç°æœ‰å·¥ä½œçš„å±€é™æ€§</strong>ï¼šå¸¸è§„çš„å·ç§¯åŸºäºä¹˜æ³•ï¼Œä»£ä»·è¾ƒé«˜ï¼›ç”¨äºŒå€¼æ»¤æ³¢å™¨æ›¿æ¢å·ç§¯çš„å·¥ä½œå¦‚BNNç­‰ä¼šå¸¦æ¥è¾ƒå¤§çš„è¯†åˆ«å‡†ç¡®ç‡ä¸‹é™ã€‚</p><p><strong>æ–‡ç« æ€è·¯</strong>ï¼šå¸¸è§„å·ç§¯æœ¬è´¨ä¸Šæ˜¯ä¸€ç§äº’ç›¸å…³ï¼ˆè¾“å…¥å›¾åƒä¸å·ç§¯æ ¸ä¹‹é—´çš„ç›¸ä¼¼åº¦åº¦é‡ï¼‰ã€‚å¯ä»¥ç”¨æ›´é«˜æ•ˆçš„ç›¸ä¼¼åº¦åº¦é‡æ–¹æ³•æ¥æ›¿æ¢å¸¸è§„å·ç§¯ï¼Œä½¿å¾—åº¦é‡ä¸­åªåŒ…å«ä»£ä»·è¾ƒå°çš„åŠ æ³•æ“ä½œâ†’AdderNet</p><h2 id="AdderNet"><a href="#AdderNet" class="headerlink" title="AdderNet"></a>AdderNet</h2><p>å¼€å±€å…¬å¼</p><script type="math/tex; mode=display">Y(m,n,t)=\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}S(X(m+i,n+j,k),F(i,j,k,t))</script><p>Fï¼š å·ç§¯æ ¸ï¼ˆæ»¤æ³¢å™¨ï¼‰(å°ºå¯¸$dÃ—d$) å½“d=1æ—¶ï¼Œè¯¥å…¬å¼è¡¨ç¤ºå…¨è¿æ¥å±‚çš„è®¡ç®—</p><p>Xï¼šç‰¹å¾å›¾</p><p>Sï¼šé¢„å®šä¹‰çš„ç›¸ä¼¼åº¦æµ‹é‡æ–¹æ³•ï¼Œä¾‹å¦‚äº’ç›¸å…³ä¸­$S(x,y)=x\times y$</p><p>ä»ä¸Šè¿°å…¬å¼å‡ºå‘ï¼Œæ–‡ç« æ”¹å˜Sï¼Œä½¿ç”¨L1è·ç¦»æµ‹é‡Få’ŒXçš„ç›¸ä¼¼åº¦ï¼Œä½¿å¾—æµ‹é‡ä¸­åªæœ‰åŠ æ³•æ²¡æœ‰ä¹˜æ³•ï¼š</p><script type="math/tex; mode=display">Y(m,n,t)=-\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}|X(m+i,n+j,k)-F(i,j,k,t)|</script><h3 id="ä½¿ç”¨L1è·ç¦»å­˜åœ¨çš„é—®é¢˜åŠè§£å†³ï¼š"><a href="#ä½¿ç”¨L1è·ç¦»å­˜åœ¨çš„é—®é¢˜åŠè§£å†³ï¼š" class="headerlink" title="ä½¿ç”¨L1è·ç¦»å­˜åœ¨çš„é—®é¢˜åŠè§£å†³ï¼š"></a>ä½¿ç”¨L1è·ç¦»å­˜åœ¨çš„é—®é¢˜åŠè§£å†³ï¼š</h3><p><strong>é—®é¢˜1</strong>ï¼šåŠ æ³•æ»¤æ³¢å™¨çš„è¾“å‡ºæ€»ä¸ºè´Ÿæ•°ï¼ˆä¼šå½±å“æ¿€æ´»å‡½æ•°å¦‚ReLUçš„ä½¿ç”¨ï¼‰</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šä½¿ç”¨Batch Normalizationâ†’è¾“å‡ºè¢«å½’ä¸€åŒ–åˆ°é€‚å½“çš„èŒƒå›´â†’CNNä¸­çš„æ¿€æ´»å‡½æ•°åœ¨AdderNetä¸­ä¹Ÿé€‚ç”¨            ï¼ˆBNä¸­å­˜åœ¨ä¹˜æ³•ï¼Œä½†æ˜¯æ•°é‡å¤ªå°‘å¯ä»¥å¿½ç•¥ï¼‰</p><p><strong>é—®é¢˜2.1</strong>ï¼šä¼˜åŒ–æ–¹æ³•ä¸­æ»¤æ³¢å™¨Fæ¢¯åº¦çš„è®¡ç®—</p><p>AdderNetä¸­è®¡ç®—åå¾®åˆ†ï¼š</p><script type="math/tex; mode=display">\frac{\partial Y(m,n,t)}{\partial F(i,j,k,t)}=sgn(X(m+i,n+j,k)-F(i,j,k,t))</script><p>æ‰€ä»¥æ¢¯åº¦å–å€¼åªæœ‰+1ï¼Œ0ï¼Œ-1ã€‚ç”±æ­¤è¿›è¡Œä¼˜åŒ–çš„æ–¹æ³•ä¸ºsignSGDï¼Œä½†æ˜¯ï¼ŒsignSGDå‡ ä¹æ°¸è¿œä¸ä¼šæ²¿ç€æœ€é™¡çš„ä¸‹é™æ–¹å‘ï¼Œå¹¶ä¸”æ–¹å‘æ€§åªä¼šéšç€ç»´æ•°çš„å¢é•¿è€Œå˜å·®ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šä½¿ç”¨å¦ä¸€ç§å½¢å¼çš„æ¢¯åº¦ï¼ˆå®é™…ä¸Šæ˜¯L2èŒƒæ•°çš„æ¢¯åº¦ï¼‰ï¼š</p><script type="math/tex; mode=display">\frac{\partial Y(m,n,t)}{\partial F(i,j,k,t)}=X(m+i,n+j,k)-F(i,j,k,t)</script><p><strong>é—®é¢˜2.2</strong>ï¼šä¼˜åŒ–æ–¹æ³•ä¸­ç‰¹å¾å›¾Xæ¢¯åº¦çš„è®¡ç®—</p><p>åŒæ ·ä½¿ç”¨L2èŒƒæ•°çš„æ¢¯åº¦ï¼Œä½†æ˜¯æ¢¯åº¦å€¼å¯èƒ½ä¼šåœ¨[-1ï¼Œ+1]çš„èŒƒå›´ä¹‹å¤–â†’ç”±äºchain ruleï¼ŒYå¯¹Xçš„åå¯¼æ•°ä¸ä»…å½±å“å½“å‰å±‚çš„æ¢¯åº¦ï¼Œè¿˜ä¼šå½±å“å½“å‰å±‚ä¹‹å‰çš„æ‰€æœ‰å±‚çš„æ¢¯åº¦â†’æ¢¯åº¦çˆ†ç‚¸</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šä½¿ç”¨HardTanhå‡½æ•°ï¼ˆHT(x)ï¼‰å°†Xçš„æ¢¯åº¦clipåˆ°[-1,+1]çš„èŒƒå›´ã€‚</p><script type="math/tex; mode=display">\frac{\partial Y(m,n,t)}{\partial X(i,j,k,t)}=HT(F(m+i,n+j,k)-X(i,j,k,t))</script><p><strong>é—®é¢˜3</strong>ï¼šAdderNetä½¿ç”¨L1èŒƒæ•°å¾—åˆ°çš„Yæ–¹å·®æ›´å¤§ï¼Œå¯¼è‡´æ»¤æ³¢å™¨æƒé‡çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</p><p>å‡è®¾Få’ŒXæœä»æ­£å¤ªåˆ†å¸ƒ</p><p>CNNä¸­æœ‰</p><script type="math/tex; mode=display">Var[Y_{CNN}]=\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}Var[X\times F]=d^{2}c_{in}Var[X]Var[F]</script><p>è€ŒAdderNetä¸­åˆ™æ˜¯</p><script type="math/tex; mode=display">Var[Y_{AdderNet}]=\sum\limits_{i=0}^{d}\sum\limits_{j=0}^{d}\sum\limits_{k=0}^{c_{in}}Var[|X-F|]=(1-\frac{2}{\pi})d^{2}c_{in}(Var[X]+Var[F])</script><p>å®é™…æƒ…å†µä¸­Var[F]éå¸¸å°ï¼Œæ‰€ä»¥$Var[Y_{AdderNet}]$ä¼šæ¯”$Var[Y_{CNN}]$å¤§ã€‚åœ¨åŠ æ³•å±‚åé¢ä¼šæ¥ä¸€ä¸ªBNå±‚ï¼Œå¤§æ–¹å·®ä¼šå¯¼è‡´Xçš„æ¢¯åº¦å¹…å€¼å°ï¼Œç»è¿‡chain ruleçš„ä½œç”¨ï¼Œæ»¤æ³¢å™¨çš„æƒé‡æ¢¯åº¦å¹…å€¼ä¼šè¶Šæ¥è¶Šå°ã€‚</p><p><img src="/images/addernet/gradient_disappear.png" alt="gradient_disappear" style="zoom: 33%;"></p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šadaptive learning rate</p><script type="math/tex; mode=display">\triangle F_{l}=\gamma \times \alpha_{l}\times \triangle L(F_{l})</script><p>$l$ï¼šè¡¨ç¤ºç¬¬$l$å±‚ï¼›$\triangle L(F_{l})$ç¬¬$l$å±‚Fçš„æ¢¯åº¦ï¼›$\gamma$ï¼šå…¨å±€å­¦ä¹ ç‡</p><p>å±€éƒ¨å­¦ä¹ ç‡ï¼š</p><script type="math/tex; mode=display">\alpha_{l}=\frac{\eta \sqrt k}{||\triangle L(F_{l})||_{2}}</script><p>kï¼šFä¸­çš„å…ƒç´ æ•°é‡ï¼Œç”¨äºå¯¹L2èŒƒæ•°æ±‚å¹³å‡</p><h2 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h2><p>åœ¨MNISTã€CIFAR10ã€CIFAR100ã€ImageNetä¸Šè¾¾åˆ°ä¸CNNç›¸è¿‘çš„å‡†ç¡®ç‡ã€‚</p><p><img src="/images/addernet/v1_imagenet_result.png" alt="v1_imagenet_result" style="zoom: 33%;"></p><p>AdderNetçš„æƒé‡æœä»æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒï¼Œè€ŒCNNçš„æƒé‡æœä»é«˜æ–¯åˆ†å¸ƒã€‚</p><p><img src="/images/addernet/v1_histogram.png" alt="v1_histogram" style="zoom: 33%;"></p><p><a href="https://arxiv.org/abs/1912.13200v2" target="_blank" rel="noopener">AdderNet: DoWe Really Need Multiplications in Deep Learning?</a></p><p><a href="https://github.com/huawei-noah/AdderNet" target="_blank" rel="noopener">AdderNetä»£ç </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Motivation&quot;&gt;&lt;a href=&quot;#Motivation&quot; class=&quot;headerlink&quot; title=&quot;Motivation&quot;&gt;&lt;/a&gt;Motivation&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ç›®æ ‡&lt;/strong&gt;ï¼šè®¾è®¡æ›´åŠ é«˜æ•ˆçš„æ·±åº¦ç¥ç»ç½‘ç»œï¼Œå¯ä»¥åœ¨èµ„
      
    
    </summary>
    
    
      <category term="Deep Learning" scheme="http://yoursite.com/categories/Deep-Learning/"/>
    
    
      <category term="paper notes-deep learning" scheme="http://yoursite.com/tags/paper-notes-deep-learning/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Latexä¸­æ’å…¥pythonä»£ç </title>
    <link href="http://yoursite.com/2020/10/15/11_latex_python_code/"/>
    <id>http://yoursite.com/2020/10/15/11_latex_python_code/</id>
    <published>2020-10-15T11:20:09.000Z</published>
    <updated>2020-10-15T11:27:40.143Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Latexä¸­æ’å…¥Pythonä»£ç ï¼Œéœ€è¦ä¸€ä¸ªç¬¬ä¸‰å‘çš„å®åŒ…pythonhighlight:</p><p><a href="https://github.com/olivierverdier/python-latex-highlighting" target="_blank" rel="noopener">https://github.com/olivierverdier/python-latex-highlighting</a></p><p>ä¸‹è½½pythonhighlight.styåï¼Œå°†å®ƒæ”¾åˆ°ä½ çš„.texæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹ã€‚</p><p>ç„¶åå£°æ˜è¦ä½¿ç”¨pythonhighlightï¼Œåœ¨texæ–‡ä»¶å†…çš„å¯¼è¨€åŒºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;graphicx&#125;</span><br><span class="line">\usepackage&#123;pythonhighlight&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹åæ—¢å¯ä»¥åœ¨æ­£æ–‡æ·»åŠ ä»£ç äº†:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;python&#125;</span><br><span class="line">import torch</span><br><span class="line">import torch.nn as nn</span><br><span class="line">import torch.optim as optim</span><br><span class="line">import torch.nn.functional as F</span><br><span class="line">import torchvision</span><br><span class="line">import torchvision.transforms as transforms</span><br><span class="line">import time</span><br><span class="line">import os</span><br><span class="line">\end&#123;python&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/latex/python/code.png" alt="code"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨Latexä¸­æ’å…¥Pythonä»£ç ï¼Œéœ€è¦ä¸€ä¸ªç¬¬ä¸‰å‘çš„å®åŒ…pythonhighlight:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/olivierverdier/python-latex-highlighting&quot; target=&quot;_blank&quot;
      
    
    </summary>
    
    
      <category term="Latex Trick" scheme="http://yoursite.com/categories/Latex-Trick/"/>
    
    
      <category term="latex" scheme="http://yoursite.com/tags/latex/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+Valineï¼šä¸ºåšå®¢æ·»åŠ è¯„è®º</title>
    <link href="http://yoursite.com/2020/10/15/12_hexo_valine/"/>
    <id>http://yoursite.com/2020/10/15/12_hexo_valine/</id>
    <published>2020-10-15T11:20:09.000Z</published>
    <updated>2020-10-15T12:43:26.643Z</updated>
    
    <content type="html"><![CDATA[<p>æ³¨å†ŒLeancloudè´¦å·ï¼š<a href="https://www.leancloud.cn/" target="_blank" rel="noopener">https://www.leancloud.cn</a></p><p>æ³¨å†Œå®Œä»¥åéœ€è¦åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œåå­—å¯ä»¥éšä¾¿èµ·ï¼Œç„¶å <strong>è¿›å…¥åº”ç”¨-&gt;è®¾ç½®-&gt;åº”ç”¨key</strong></p><p>æ‹¿åˆ°ä½ çš„appidå’Œappkeyä¹‹åï¼Œæ‰“å¼€<strong>ä¸»é¢˜é…ç½®æ–‡ä»¶</strong>ï¼ˆæˆ‘æ˜¯â€¦\themes\next_config.ymlï¼‰ æœç´¢ <strong>valine</strong>ï¼Œå¡«å…¥appid å’Œ appkey</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version</span></span><br><span class="line"><span class="attr">  appid:</span> <span class="string">XO7jVé©¬èµ›å…‹zGzoHsz</span> <span class="comment"># Your leancloud application appid</span></span><br><span class="line"><span class="attr">  appkey:</span> <span class="string">Amg1Flé©¬èµ›å…‹2NfhcO</span> <span class="comment"># Your leancloud application appkey</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">false</span> <span class="comment"># Mail notifier. See: https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">false</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># Comment box placeholder</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">mm</span> <span class="comment"># Gravatar style</span></span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># Custom comment header</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span> <span class="comment"># Pagination size</span></span><br><span class="line"><span class="attr">  language:</span> <span class="comment"># Language, available values: en, zh-cn</span></span><br><span class="line"><span class="attr">  visitor:</span> <span class="literal">false</span> <span class="comment"># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors' for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span></span><br><span class="line"><span class="attr">  comment_count:</span> <span class="literal">true</span> <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="comment">#post_meta_order: 0</span></span><br></pre></td></tr></table></figure><p>æœ€ååœ¨Leancloud -&gt; è®¾ç½® -&gt; å®‰å…¨ä¸­å¿ƒ -&gt; Web å®‰å…¨åŸŸå æŠŠä½ çš„åŸŸååŠ è¿›å»</p><p>åˆ·æ–°ä¸€ä¸‹~ çœ‹åˆ°è¯„è®ºæ¡†äº†</p><h1 id="åˆ é™¤è¯„è®º"><a href="#åˆ é™¤è¯„è®º" class="headerlink" title="åˆ é™¤è¯„è®º"></a>åˆ é™¤è¯„è®º</h1><p><code>ç™»å½•Leancloud</code>&gt;é€‰æ‹©ä½ åˆ›å»ºçš„<code>åº”ç”¨</code>&gt;<code>å­˜å‚¨</code>&gt;é€‰æ‹©Class<code>Comment</code></p><p>å‚è€ƒï¼š</p><p><a href="https://blog.csdn.net/blue_zy/article/details/79071414" target="_blank" rel="noopener">https://blog.csdn.net/blue_zy/article/details/79071414</a></p><p><a href="https://github.com/xCss/Valine/issues/69" target="_blank" rel="noopener">https://github.com/xCss/Valine/issues/69</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ³¨å†ŒLeancloudè´¦å·ï¼š&lt;a href=&quot;https://www.leancloud.cn/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.leancloud.cn&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ³¨å†Œå®Œä»¥åéœ€è¦åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œåå­—å¯ä»¥éšä¾¿
      
    
    </summary>
    
    
      <category term="Setup" scheme="http://yoursite.com/categories/Setup/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>PyQtçš„å®‰è£…ä»¥åŠåœ¨PyCharmä¸Šçš„éƒ¨ç½²</title>
    <link href="http://yoursite.com/2020/05/12/08_setup_pyqt%E5%9C%A8pycharm%E4%B8%8A%E9%83%A8%E7%BD%B2/"/>
    <id>http://yoursite.com/2020/05/12/08_setup_pyqtåœ¨pycharmä¸Šéƒ¨ç½²/</id>
    <published>2020-05-12T07:24:09.000Z</published>
    <updated>2020-05-12T11:06:57.492Z</updated>
    
    <content type="html"><![CDATA[<h1 id="PyQt5å®‰è£…"><a href="#PyQt5å®‰è£…" class="headerlink" title="PyQt5å®‰è£…"></a>PyQt5å®‰è£…</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install pyqt5</span><br><span class="line">pip install pyqt5-tools</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªå‘½ä»¤åŒ…å«äº†designerçš„å®‰è£…ã€‚æˆ‘çš„designer.exeå®‰è£…è·¯å¾„åœ¨E:\Anaconda3\Library\bin</p><p>å¯ä»¥ç”¨Cotanaæœç´¢designerï¼Œç„¶åå³é”®æ‰“å¼€æ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼Œç›´æ¥å®šä½å®ƒçš„å®‰è£…è·¯å¾„ï¼Œåé¢è¦ç”¨åˆ°ã€‚</p><h1 id="designeråœ¨PyCharmä¸Šéƒ¨ç½²"><a href="#designeråœ¨PyCharmä¸Šéƒ¨ç½²" class="headerlink" title="designeråœ¨PyCharmä¸Šéƒ¨ç½²"></a>designeråœ¨PyCharmä¸Šéƒ¨ç½²</h1><p>File-&gt;Settings-&gt;Tools-&gt;External Tools</p><p>ç‚¹å‡»â€œ+â€æ¥å¢åŠ å¤–éƒ¨å·¥å…·ã€‚</p><p>(1) å¢åŠ QTè®¾è®¡ç•Œé¢â€œQt Designerâ€ â€” è¿™ä¸ªå°±æ˜¯è®¾è®¡Qtç•Œé¢çš„å·¥å…·</p><ul><li><p>Programé€‰æ‹©PyQtå®‰è£…ç›®å½•ä¸­ designer.exe çš„è·¯å¾„</p></li><li><p>Work directory ä½¿ç”¨å˜é‡ $ProjectFileDir$ ï¼ˆç‚¹å‡»åé¢çš„Insert Macroâ€¦ï¼‰</p><p><img src="/images/setup/pyqt/1.png" alt="1"></p></li></ul><p>(2) å¢åŠ â€œPyUICâ€ â€” è¿™ä¸ªä¸»è¦æ˜¯ç”¨æ¥å°† Qtç•Œé¢ è½¬æ¢æˆ pyä»£ç </p><ul><li><p>Programé€‰æ‹©PyQtå®‰è£…ç›®å½•ä¸­ pyuic5.bat çš„è·¯å¾„ï¼ˆæˆ‘çš„ä¾ç„¶åœ¨E:\Anaconda3\Library\biné‡Œï¼‰</p></li><li><p>parametersè®¾ç½®ä¸º$FileName$ -o $FileNameWithoutExtension$.py</p></li><li><p>Work directory è®¾ç½®ä¸º $ProjectFileDir$ ï¼ˆç‚¹å‡»åé¢çš„Insert Macroâ€¦ï¼‰</p><p><img src="/images/setup/pyqt/2.png" alt="2"></p><p>ç‚¹å‡»ç¡®è®¤å°±è®¾ç½®å¥½äº†ã€‚è¿”å›å»åé€šè¿‡Toolså¯ä»¥çœ‹åˆ°ï¼š</p><p><img src="/images/setup/pyqt/3.png" alt="3"></p></li></ul><h1 id="è®¾è®¡GUI"><a href="#è®¾è®¡GUI" class="headerlink" title="è®¾è®¡GUI"></a>è®¾è®¡GUI</h1><p>ä¾ç…§ä¸Šå›¾ï¼Œç‚¹å‡»PyQt Designer, åœ¨å¼¹å‡ºæ¥çš„ç•Œé¢ä¸­é€‰æ‹©Wdigetï¼Œç„¶åç‚¹å‡»åˆ›å»ºã€‚</p><p><img src="/images/setup/pyqt/4.png" alt="4"></p><p>åœ¨çª—å£æ·»åŠ æ§ä»¶ï¼ŒLableã€pushButtonã€checkBoxã€lineEditç­‰ï¼š</p><p><img src="/images/setup/pyqt/5.png" alt="5"></p><p>æŠŠ.uiæ–‡ä»¶ä¿å­˜åˆ°å½“å‰é¡¹ç›®ç›®å½•ä¸­ï¼Œç„¶åå³é”®ç‚¹å‡».uiæ–‡ä»¶ï¼š</p><p><img src="/images/setup/pyqt/6.png" alt="6"></p><p>ç‚¹å‡»PyUICå³å¯å°†.uiè½¬æˆ.pyæ–‡ä»¶ã€‚</p><p>åœ¨login.pyä¸­æ·»åŠ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">import</span> sys</span><br><span class="line">    app=QtWidgets.QApplication(sys.argv)</span><br><span class="line">    widget=QtWidgets.QWidget()</span><br><span class="line">    ui=Ui_form()</span><br><span class="line">    ui.setupUi(widget)</span><br><span class="line">    widget.show()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure><p>è¿è¡Œlogin.pyï¼Œå°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡µé¢äº†ã€‚</p><p><a href="http://code.py40.com/2540.html" target="_blank" rel="noopener">QtDesignerçš„å®‰è£…</a></p><p><a href="http://code.py40.com/2561.html" target="_blank" rel="noopener">è®¾è®¡GUI</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;PyQt5å®‰è£…&quot;&gt;&lt;a href=&quot;#PyQt5å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;PyQt5å®‰è£…&quot;&gt;&lt;/a&gt;PyQt5å®‰è£…&lt;/h1&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class
      
    
    </summary>
    
    
      <category term="Setup" scheme="http://yoursite.com/categories/Setup/"/>
    
    
      <category term="setup" scheme="http://yoursite.com/tags/setup/"/>
    
  </entry>
  
  <entry>
    <title>windowsæ›´æ”¹pipé•œåƒæºåŠè§£å†³æ€»æ˜¯timeoutçš„æƒ…å†µ</title>
    <link href="http://yoursite.com/2020/05/12/07_setup_pip%E9%95%9C%E5%83%8F%E6%BA%90/"/>
    <id>http://yoursite.com/2020/05/12/07_setup_pipé•œåƒæº/</id>
    <published>2020-05-12T03:31:09.000Z</published>
    <updated>2020-05-12T03:44:30.455Z</updated>
    
    <content type="html"><![CDATA[<h1 id="pipå®‰è£…"><a href="#pipå®‰è£…" class="headerlink" title="pipå®‰è£…"></a>pipå®‰è£…</h1><p>äº‹æƒ…çš„èµ·å› æ˜¯æˆ‘æƒ³å®‰è£…PyQt5ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install pyqt5</span><br><span class="line">pip install pyqt5-tools</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™æ˜¯æœ€æ…¢çš„æ–¹æ³•ï¼Œäºæ˜¯å¯ä»¥ç”¨é•œåƒæºå®‰è£…ï¼š</p><h1 id="pipå®‰è£…ä½¿ç”¨å›½å†…é•œåƒæº"><a href="#pipå®‰è£…ä½¿ç”¨å›½å†…é•œåƒæº" class="headerlink" title="pipå®‰è£…ä½¿ç”¨å›½å†…é•œåƒæº"></a>pipå®‰è£…ä½¿ç”¨å›½å†…é•œåƒæº</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">æ¸…åï¼šhttps://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line">é˜¿é‡Œäº‘ï¼šhttp://mirrors.aliyun.com/pypi/simple/</span><br><span class="line"></span><br><span class="line">ä¸­å›½ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/</span><br><span class="line"></span><br><span class="line">åä¸­ç†å·¥å¤§å­¦ï¼šhttp://pypi.hustunique.com/</span><br><span class="line"></span><br><span class="line">å±±ä¸œç†å·¥å¤§å­¦ï¼šhttp://pypi.sdutlinux.org/ </span><br><span class="line"></span><br><span class="line">è±†ç“£ï¼šhttp://pypi.douban.com/simple/</span><br></pre></td></tr></table></figure><p>ä¸´æ—¶ä½¿ç”¨çš„è¯åŠ å‚æ•°-iï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyqt5</span><br></pre></td></tr></table></figure><p>ç„¶è€Œä¾ç„¶æ€»æ˜¯timeoutï¼Œäºæ˜¯ï¼š</p><h1 id="è®¾ç½®pipé…ç½®æ–‡ä»¶"><a href="#è®¾ç½®pipé…ç½®æ–‡ä»¶" class="headerlink" title="è®¾ç½®pipé…ç½®æ–‡ä»¶"></a>è®¾ç½®pipé…ç½®æ–‡ä»¶</h1><p>é…ç½®æ–‡ä»¶åœ°å€ï¼šï¼ˆå¦‚æœæ²¡æœ‰pip.iniæ–‡ä»¶ï¼Œå°±è‡ªå·±æ–°å»ºç¼–è¾‘ä¸€ä¸ªï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\ProgramData\pip\pip.ini</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶å†…å®¹ï¼Œå°†å¬å”¤timeoutçš„æ—¶é•¿è®¾ç½®å¾—é•¿ä¸€äº›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">global</span>]</span><br><span class="line">timeout = <span class="number">60</span></span><br><span class="line">index-url = http://pypi.douban.com/simple</span><br><span class="line">trusted-host = pypi.douban.com</span><br><span class="line">[install]</span><br><span class="line">use-mirrors = true</span><br><span class="line">mirrors = http://pypi.douban.com</span><br><span class="line">trusted-host = pypi.douban.com</span><br></pre></td></tr></table></figure><p>è®¾ç½®å¥½ä¹‹åï¼Œå†ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyqt5</span><br></pre></td></tr></table></figure><p>ä¼šæ˜¾ç¤ºç°åœ¨ä½¿ç”¨çš„æ˜¯è±†ç“£é•œåƒæºï¼Œé€Ÿåº¦ä¹Ÿé£èµ·æ¥äº†ã€‚</p><p><a href="https://blog.csdn.net/azuremouse/article/details/90338961" target="_blank" rel="noopener">pipå®‰è£…PyQt5</a></p><p><a href="https://www.cnblogs.com/cqliu/p/11131092.html" target="_blank" rel="noopener">pipä½¿ç”¨å›½å†…é•œåƒæº</a></p><p><a href="https://blog.csdn.net/weixin_30439067/article/details/98455723" target="_blank" rel="noopener">pipé…ç½®æ–‡ä»¶è®¾ç½®</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;pipå®‰è£…&quot;&gt;&lt;a href=&quot;#pipå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;pipå®‰è£…&quot;&gt;&lt;/a&gt;pipå®‰è£…&lt;/h1&gt;&lt;p&gt;äº‹æƒ…çš„èµ·å› æ˜¯æˆ‘æƒ³å®‰è£…PyQt5ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;tab
      
    
    </summary>
    
    
      <category term="Setup" scheme="http://yoursite.com/categories/Setup/"/>
    
    
      <category term="setup" scheme="http://yoursite.com/tags/setup/"/>
    
  </entry>
  
  <entry>
    <title>Pytorchè®¡ç®—æ¨¡å‹è¿ç®—é‡çš„å·¥å…·--torchstat</title>
    <link href="http://yoursite.com/2020/05/11/06_pytorch_torchstat/"/>
    <id>http://yoursite.com/2020/05/11/06_pytorch_torchstat/</id>
    <published>2020-05-10T16:48:09.000Z</published>
    <updated>2020-05-12T03:30:54.516Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è¯´æ˜ä¸å®‰è£…"><a href="#è¯´æ˜ä¸å®‰è£…" class="headerlink" title="è¯´æ˜ä¸å®‰è£…"></a>è¯´æ˜ä¸å®‰è£…</h1><p>è¿™ä¸ªåŒ…å¯ä»¥è®¡ç®—å‡ºä¸€ä¸ªç½‘ç»œæ¨¡å‹çš„å‚æ•°é‡å’Œè¿ç®—é‡ï¼Œç”šè‡³ç»™å‡ºæ¯ä¸€å±‚çš„è¿ç®—é‡ï¼Œæ¯”å¦‚ï¼š</p><p><img src="/images/torchstat/example.png" alt="example"></p><p>å®‰è£…æ–¹æ³•ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install torchstat</span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> torchstat <span class="keyword">import</span> stat</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Net</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super(Net, self).__init__()</span><br><span class="line">        self.conv1 = nn.Conv2d(<span class="number">3</span>, <span class="number">10</span>, kernel_size=<span class="number">5</span>)</span><br><span class="line">        self.conv2 = nn.Conv2d(<span class="number">10</span>, <span class="number">20</span>, kernel_size=<span class="number">5</span>)</span><br><span class="line">        self.conv2_drop = nn.Dropout2d()</span><br><span class="line">        self.fc1 = nn.Linear(<span class="number">56180</span>, <span class="number">50</span>)</span><br><span class="line">        self.fc2 = nn.Linear(<span class="number">50</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = F.relu(F.max_pool2d(self.conv1(x), <span class="number">2</span>))</span><br><span class="line">        x = F.relu(F.max_pool2d(self.conv2_drop(self.conv2(x)), <span class="number">2</span>))</span><br><span class="line">        x = x.view(<span class="number">-1</span>, <span class="number">56180</span>)</span><br><span class="line">        x = F.relu(self.fc1(x))</span><br><span class="line">        x = F.dropout(x, training=self.training)</span><br><span class="line">        x = self.fc2(x)</span><br><span class="line">        <span class="keyword">return</span> F.log_softmax(x, dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    model = Net()</span><br><span class="line">    stat(model, (<span class="number">3</span>, <span class="number">224</span>, <span class="number">224</span>))</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torchstat -f example.py -m Net</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æ›´æ”¹è¾“å…¥å›¾åƒçš„å°ºå¯¸ï¼Œåªæ”¹example.pyé‡Œçš„ï¼ˆ3ï¼Œ224ï¼Œ224ï¼‰æ²¡æœ‰èµ·ä½œç”¨ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨äº†-sé€‰é¡¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torchstat -f example.py -m Net -s &#39;3x32x32&#39;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé€‰é¡¹å†…å®¹æ˜¯ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„ï¼Œâ€˜xâ€™å°±æ˜¯å­—æ¯xã€‚</p><h1 id="å¦ä¸€ä¸ªç¤ºä¾‹"><a href="#å¦ä¸€ä¸ªç¤ºä¾‹" class="headerlink" title="å¦ä¸€ä¸ªç¤ºä¾‹"></a>å¦ä¸€ä¸ªç¤ºä¾‹</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torchstat <span class="keyword">import</span> stat</span><br><span class="line"><span class="keyword">import</span> torchvision.models <span class="keyword">as</span> models</span><br><span class="line"></span><br><span class="line">model = models.resnet18()</span><br><span class="line">stat(model, (<span class="number">3</span>, <span class="number">224</span>, <span class="number">224</span>))</span><br></pre></td></tr></table></figure><p><a href="https://github.com/Swall0w/torchstat" target="_blank" rel="noopener">torchstatçš„Github</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;è¯´æ˜ä¸å®‰è£…&quot;&gt;&lt;a href=&quot;#è¯´æ˜ä¸å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;è¯´æ˜ä¸å®‰è£…&quot;&gt;&lt;/a&gt;è¯´æ˜ä¸å®‰è£…&lt;/h1&gt;&lt;p&gt;è¿™ä¸ªåŒ…å¯ä»¥è®¡ç®—å‡ºä¸€ä¸ªç½‘ç»œæ¨¡å‹çš„å‚æ•°é‡å’Œè¿ç®—é‡ï¼Œç”šè‡³ç»™å‡ºæ¯ä¸€å±‚çš„è¿ç®—é‡ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/i
      
    
    </summary>
    
    
      <category term="PyTorch Tools" scheme="http://yoursite.com/categories/PyTorch-Tools/"/>
    
    
      <category term="pytorch" scheme="http://yoursite.com/tags/pytorch/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡é˜…è¯»ç¬”è®°(1)ï¼šNASä¹‹DARTS</title>
    <link href="http://yoursite.com/2020/04/26/20200426_NAS_DARTS/"/>
    <id>http://yoursite.com/2020/04/26/20200426_NAS_DARTS/</id>
    <published>2020-04-26T10:48:09.000Z</published>
    <updated>2020-12-02T13:25:34.612Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Search-Space"><a href="#Search-Space" class="headerlink" title="Search Space"></a>Search Space</h1><p>æœç´¢cellä½œä¸ºç½‘ç»œç»“æ„çš„æ„ä»¶ã€‚cellæ˜¯åŒ…å«Nä¸ªç»“ç‚¹çš„æœ‰åºåºåˆ—çš„æœ‰å‘æ— ç¯å›¾ã€‚ç»“ç‚¹$x^{(i)}$æ˜¯éšè—è¡¨è¾¾ï¼ˆæ¯”å¦‚å·ç§¯ç½‘ç»œçš„ç‰¹å¾å›¾ï¼‰ï¼Œè€Œæœ‰å‘è¾¹$(i ,j)$åˆ™å…³è”ç€å˜æ¢$x^{(i)}$çš„ä¸€äº›æ“ä½œ$o^{(i,j)}$ã€‚æ–‡ç« ä¸­å‡å®šä¸€ä¸ªcellä¸­æœ‰ä¸¤ä¸ªè¾“å…¥èŠ‚ç‚¹å’Œä¸€ä¸ªè¾“å‡ºèŠ‚ç‚¹ã€‚å¯¹äºå·ç§¯cellï¼Œè¾“å…¥èŠ‚ç‚¹è¢«å®šä¹‰ä¸ºå½“å‰å±‚çš„å‰é¢ä¸¤å±‚çš„cellçš„è¾“å‡ºã€‚å½“å‰cellçš„è¾“å‡ºæ˜¯å¯¹æ‰€æœ‰ä¸­é—´èŠ‚ç‚¹ä½¿ç”¨ä¸€ä¸ªå‹ç¼©æ“ä½œï¼ˆæ¯”å¦‚æ‹¼æ¥ï¼‰å¾—åˆ°çš„ã€‚</p><p>æ¯ä¸€ä¸ªä¸­é—´ç»“ç‚¹åŸºäºå…¶æ‰€æœ‰å‰å‘æ“ä½œè®¡ç®—å¾—åˆ°ï¼š</p><script type="math/tex; mode=display">x^{(j)}=\sum_{i<j}o^{(i,j)}(x^{(i)})</script><p>æœç´¢ç©ºé—´ä¸­è¿˜åŒ…å«äº†ä¸€ä¸ªç‰¹æ®Šçš„é›¶æ“ä½œï¼Œè¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰è¿æ¥ã€‚å­¦ä¹ cellçš„ä»»åŠ¡ç¼©å‡ä¸ºå­¦ä¹ å‡ºcellçš„å„æ¡è¾¹çš„æ“ä½œç±»å‹åŠå‚æ•°ã€‚</p><h1 id="è¿ç»­ä¼˜åŒ–"><a href="#è¿ç»­ä¼˜åŒ–" class="headerlink" title="è¿ç»­ä¼˜åŒ–"></a>è¿ç»­ä¼˜åŒ–</h1><p>Oæ˜¯å€™é€‰æ“ä½œï¼ˆå¦‚å·ç§¯ã€æœ€å¤§æ± åŒ–ã€é›¶æ“ä½œç­‰ï¼‰çš„é›†åˆï¼Œæ¯ä¸ªæ“ä½œè¡¨ç¤ºå°†ä¸€äº›å‡½æ•°$o(\cdot)$æ–½åŠ åˆ°$x^{(i)}$ä¸Šã€‚ä¸ºäº†è®©æœç´¢ç©ºé—´è¿ç»­ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªç‰¹å®šæ“ä½œçš„èŒƒç•´é€‰æ‹©æ¾å¼›ä¸ºæ‰€æœ‰å¯èƒ½çš„æ“ä½œä¸Šçš„ä¸€ä¸ªsoftmax:</p><script type="math/tex; mode=display">\overline{o}^{(i,j)}(x)=\sum_{o\in O}\frac{expâ¡(\alpha_{o}^{(i,j)})}{\sum_{o'\in O}expâ¡(\alpha_{o'}^{(i,j)})}o(x)</script><p>å¯¹åº”äºèŠ‚ç‚¹å¯¹$(i, j)$çš„æ“ä½œæ··åˆæƒé‡è¢«å‚æ•°åŒ–ä¸ºä¸€ä¸ªç»´åº¦ä¸º|O|ï¼ˆå€™é€‰æ“ä½œæ€»ä¸ªæ•°ï¼‰çš„å‘é‡$\alpha^{i,j}$ã€‚æ¶æ„æœç´¢çš„ä»»åŠ¡å°±å‡å°‘ä¸ºå­¦ä¹ ä¸€ä¸ªè¿ç»­å˜é‡é›†åˆ$\alpha={\alpha^{(i,j)}}$ã€‚åœ¨æœç´¢çš„æœ€åï¼Œå°†æ¯ä¸ªæ··åˆæ“ä½œ$\overline{o}^{(i,j)}$ç”¨æœ€å¤§ä¼¼ç„¶çš„æ“ä½œä»£æ›¿ï¼Œå°±å¯ä»¥å¾—åˆ°ç¦»æ•£åŒ–çš„ç½‘ç»œæ¶æ„ã€‚æ¯”å¦‚$o^(i,j)=argmax_{o\in O}\alpha_{o}^{(i,j)}$åœ¨ä¸‹æ–‡ä¸­ï¼Œç”¨$\alpha$è¡¨ç¤ºç¼–ç åçš„æ¶æ„ã€‚</p><p><img src="/images/DARTS/darts.png" alt="darts"></p><p>DARTSçš„cellæœç´¢è¿‡ç¨‹æ¦‚è§ˆå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚è¯¥è¿‡ç¨‹æ€»ç»“å¦‚ä¸‹ã€‚æœ€å¼€å§‹æ—¶cellçš„å„æ¡è¾¹çš„æ“ä½œç±»å‹æœªçŸ¥ï¼Œä½†æ˜¯å¯é€‰çš„æ“ä½œç±»å‹æ˜¯é¢„å…ˆå®šä¹‰çš„ï¼Œå€™é€‰æ“ä½œé›†åˆä¸­åŒ…å«ä»¥ä¸‹8ç§æ“ä½œï¼šï¼ˆ1ï¼‰æ’ç­‰è¿æ¥ï¼›ï¼ˆ2ï¼‰é›¶æ“ä½œï¼›ï¼ˆ3ï¼‰3Ã—3 æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼›(4) 3Ã—3 ç©ºæ´æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼›ï¼ˆ5ï¼‰5Ã—5æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼›ï¼ˆ6ï¼‰5Ã—5 ç©ºæ´æ·±åº¦å¯åˆ†ç¦»å·ç§¯ï¼›ï¼ˆ7ï¼‰3Ã—3å¹³å‡æ± åŒ–ï¼›ï¼ˆ8ï¼‰3Ã—3 æœ€å¤§æ± åŒ–ã€‚å¯¹äºç”¨DAGè¡¨ç¤ºçš„cellçš„æ¯æ¡è¾¹æ–½åŠ ä¸€ä¸ªå€™é€‰æ“ä½œçš„æ··åˆæ“ä½œï¼ˆæ··åˆæ“ä½œæ˜¯ä¸Šè¿°8ç§ç±»å‹æ“ä½œçš„æ··åˆï¼Œè¾“å…¥ç”¨8ç§æ“ä½œè¿›è¡Œå¤„ç†ï¼Œå¯¹å¾—åˆ°çš„8ä¸ªè¾“å‡ºæ–½ä»¥æƒé‡$\alpha^{(i.j)}_{o}$ï¼Œç„¶åæ¾å¼›åŒ–ä¸ºsoftmaxï¼‰ï¼Œä»è€Œå°†åˆ†ç«‹çš„æœç´¢ç©ºé—´ç”¨softmaxå‡½æ•°æ¾å¼›ä¸ºè¿ç»­ç©ºé—´ï¼Œä½¿å¾—æœç´¢å¯å¾®åˆ†ã€‚ç„¶åé€šè¿‡æ±‚è§£ä¸€ä¸ªç½®ä¿¡ä¼˜åŒ–é—®é¢˜å¯¹æ··åˆæ¦‚ç‡å’Œç½‘ç»œæƒé‡è¿›è¡Œè”åˆä¼˜åŒ–ï¼Œæœ€åï¼Œå°†æ¯ä¸ªæ··åˆæ“ä½œ$\overline{o}^{(i,j)}$ç”¨æœ€å¤§ä¼¼ç„¶çš„æ“ä½œï¼ˆä¹Ÿå°±æ˜¯$i,j$ç»“ç‚¹çš„8æ¡è¾¹ä¸­æœ‰ç€æœ€å¤§æƒé‡$\alpha^{(i.j)}_{o}$çš„é‚£æ¡è¾¹æ‰€å¯¹åº”çš„æ“ä½œï¼‰ä»£æ›¿ï¼Œå°±å¯ä»¥å¾—åˆ°ç¦»æ•£åŒ–çš„ç½‘ç»œæ¶æ„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè®­ç»ƒçš„æ—¶å€™å¯¹äºæ¯ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´ï¼Œæ˜¯8ç§æ“ä½œéƒ½ç”¨åˆ°äº†ï¼Œç”¨softmaxè€¦åˆä¸ºæ··åˆæ“ä½œã€‚è®­ç»ƒå®Œåï¼Œåªä¿ç•™äº†æƒé‡æœ€å¤§çš„é‚£ä¸ªæ“ä½œã€‚</p><p>ç°åœ¨ç›®æ ‡å°±æ˜¯å°†æ¶æ„$\alpha$å’Œæ‰€æœ‰æ··åˆæ“ä½œä¸­çš„æƒé‡$w$ä¸€èµ·å­¦ä¹ å‡ºæ¥ã€‚DARTSä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•ä¼˜åŒ–äº¤å‰æ£€éªŒé›†æŸå¤±ã€‚ä½¿ç”¨$L_{train}$å’Œ$L_{val}$åˆ†åˆ«è¡¨ç¤ºè®­ç»ƒé›†losså’Œäº¤å‰æ£€éªŒé›†çš„lossï¼Œåˆ™ä¼˜åŒ–ç›®æ ‡æ˜¯ï¼š</p><script type="math/tex; mode=display">\min\limits_{\alpha}L_{val}(w^{*}(\alpha),\alpha)</script><script type="math/tex; mode=display">s.t. w^{*}(\alpha)=argmin_{w}L_{train}(w,\alpha)</script><p>å³æ‰¾åˆ°æœ€ä¼˜ç»“æ„$\alpha^{*}$ä½¿å¾—åœ¨éªŒè¯é›†ä¸Šå¾—åˆ°æœ€ä¼˜ç»“æœï¼Œå³æœ€å°åŒ–$L_{val}(w^{*},\alpha^{*})$ï¼Œå¹¶æ‰¾åˆ°æœ€ä¼˜å‚æ•°$w^{*}$ï¼Œèƒ½å¤Ÿåœ¨ç‰¹å®šç»“æ„$\alpha^{*}$ä¸Šå¾—åˆ°æœ€ä¼˜æ€§èƒ½ï¼Œå³æœ€å°åŒ–$L_{train}(w,\alpha^{*})$ã€‚</p><h1 id="ç½‘ç»œæ¶æ„æ¢¯åº¦è¿‘ä¼¼"><a href="#ç½‘ç»œæ¶æ„æ¢¯åº¦è¿‘ä¼¼" class="headerlink" title="ç½‘ç»œæ¶æ„æ¢¯åº¦è¿‘ä¼¼"></a>ç½‘ç»œæ¶æ„æ¢¯åº¦è¿‘ä¼¼</h1><p>ç”±äºæ˜‚è´µçš„å†…å±‚ä¼˜åŒ–ä»£ä»·ï¼Œç²¾ç¡®åœ°æ±‚å‡ºç½‘ç»œæ¶æ„çš„æ¢¯åº¦æ˜¯å‡ ä¹ä¸å¯èƒ½çš„ã€‚å› æ­¤ï¼Œè¿™ç¯‡æ–‡ç« æå‡ºäº†ä¸€ä¸ªç®€å•çš„è¿‘ä¼¼æ–¹æ¡ˆï¼š</p><script type="math/tex; mode=display">\bigtriangledown_{\alpha}L_{val}(w^{*}(\alpha),\alpha)\approx\bigtriangledown_{\alpha}L_{val}(w-\xi\bigtriangledown_{w}L_{train}(w,\alpha),\alpha)</script><p>å…¶ä¸­$w$æ˜¯ç”±è¿‘ä¼¼ç®—æ³•å¾—åˆ°çš„å½“å‰çš„æƒé‡ï¼Œ$\xi$æ˜¯ä¸€æ­¥å†…å±‚ä¼˜åŒ–çš„å­¦ä¹ ç‡ã€‚è¿™ä¸ªç®—æ³•çš„æ€è·¯æ˜¯ä½¿ç”¨ä¸€æ­¥è®­ç»ƒè°ƒæ•´å¾—åˆ°çš„$w$æ¥è¿‘ä¼¼$w^{*}(\alpha)$ï¼Œè€Œä¸ç”¨è®­ç»ƒè§£å†³å†…å±‚ä¼˜åŒ–é—®é¢˜ç›´è‡³æ”¶æ•›ã€‚å¦‚æœwå·²ç»æ˜¯å†…éƒ¨ä¼˜åŒ–çš„å±€éƒ¨æœ€ä¼˜å€¼ï¼Œæ­¤æ—¶$\bigtriangledown_{w}L_{train}(w,\alpha)=0$ï¼Œå› æ­¤ç­‰å·å³è¾¹çš„å¼å­ä¼šé€€åŒ–ä¸º$\bigtriangledown_{\alpha}L_{val}(w(\alpha),\alpha)$ã€‚</p><p>ç®—æ³•ï¼š<img src="/images/DARTS/algorithm.png" alt="algorithm"></p><p>å¯¹è¿‘ä¼¼çš„æ¶æ„æ¢¯åº¦åº”ç”¨é“¾å¼æ³•åˆ™å¯ä»¥å¾—åˆ°ï¼š</p><script type="math/tex; mode=display">\bigtriangledown_{\alpha}L_{val}(w',\alpha)-\xi\bigtriangledown^{2}_{\alpha,w}L_{train}(w,\alpha)\bigtriangledown_{w'}L_{val}(w',\alpha)</script><p>å…¶ä¸­$wâ€™=w-\xi\bigtriangledown_{w}L_{train}(w,\alpha)$è¡¨ç¤ºä¸€ä¸ªä¸€æ­¥å‰å‘ç½‘ç»œçš„æƒé‡å€¼ã€‚ä¸Šå¼çš„ç¬¬äºŒé¡¹ä¸­åŒ…å«äº†ä¸€ä¸ªæ˜‚è´µçš„çŸ©é˜µ-å‘é‡ä¹˜æ³•ï¼Œä½†æ˜¯ä½¿ç”¨æœ‰é™å·®åˆ†è¿‘ä¼¼å¯ä»¥æ˜¾è‘—é™ä½è®¡ç®—å¤æ‚åº¦ã€‚ä½¿ç”¨ä¸€ä¸ªå¾ˆå°çš„æ•°å€¼$\epsilon$ï¼Œå¹¶ä»¤$w^{\pm}=w\pm\epsilon\bigtriangledown_{wâ€™}L_{val}(wâ€™,\alpha)$ï¼Œåˆ™ï¼š</p><script type="math/tex; mode=display">\bigtriangledown^{2}_{\alpha,w}L_{train}(w,\alpha)\bigtriangledown_{w'}L_{val}(w',\alpha)\approx\frac{\bigtriangledown_{\alpha}L_{train}(w^{+},\alpha)-\bigtriangledown_{\alpha}L_{train}(w^{+},\alpha)}{2\epsilon}</script><p>è®¡ç®—è¿™ä¸ªæœ‰é™å·®åˆ†å¼åªéœ€è¦æƒé‡å€¼çš„ä¸¤ä¸ªå‰ä¼ é¡¹å’Œ$\alpha$çš„ä¸¤ä¸ªåä¼ é¡¹ï¼Œè®¡ç®—å¤æ‚åº¦ä»$O(|\alpha||w|)$é™åˆ°$O(|\alpha|+|w|)$ã€‚</p><p>ä¸€é˜¶è¿‘ä¼¼ï¼š</p><p>å½“$\xi = 0$æ—¶ï¼Œå¼(7)ä¸­çš„äºŒé˜¶å¯¼æ•°é¡¹ä¼šæ¶ˆå¤±ã€‚æ­¤æ—¶ï¼Œæ¶æ„æ¢¯åº¦ç”±$\bigtriangledown_{\alpha}L_{val}(w,\alpha)$ç»™å‡ºï¼Œå¯¹åº”ç€å‡å®šå½“å‰çš„$w$ä¸$w^{*}(\alpha)$ç›¸åŒç„¶åä¼˜åŒ–äº¤å‰æ£€éªŒlossçš„æƒ…å†µã€‚è¿™ä¼šå¸¦æ¥ä¸€äº›åŠ é€Ÿï¼Œä½†æ˜¯æ ¹æ®å®éªŒç»“æœæ˜¾ç¤ºï¼Œæ€§èƒ½ä¼šå˜å·®ã€‚ä¸‹æ–‡ç”¨ä¸€é˜¶è¿‘ä¼¼æ¥æŒ‡ä»£$\xi = 0$çš„æƒ…å½¢ï¼Œç”¨äºŒé˜¶è¿‘ä¼¼æ¥æŒ‡ä»£$\xi &gt; 0$æ—¶çš„æ¢¯åº¦å…¬å¼ã€‚</p><h1 id="ç¦»æ•£æ¶æ„æ¨å¯¼"><a href="#ç¦»æ•£æ¶æ„æ¨å¯¼" class="headerlink" title="ç¦»æ•£æ¶æ„æ¨å¯¼"></a>ç¦»æ•£æ¶æ„æ¨å¯¼</h1><p>ä¸ºäº†ç»„æˆç¦»æ•£æ¶æ„ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ–‡ä¸­åœ¨è¯¥èŠ‚ç‚¹æ‰€æœ‰çš„å‰é¢èŠ‚ç‚¹çš„æ‰€æœ‰çš„éé›¶å€™é€‰æ“ä½œä¸­ä¿ç•™äº†top-kçš„æœ€å¼ºæ“ä½œã€‚ä¸€ä¸ªæ“ä½œçš„å¼ºåº¦è¢«å®šä¹‰ä¸º</p><script type="math/tex; mode=display">\frac{exp(\alpha^{(i,j)}_o)}{\sum\limits_{o'\in O}exp(\alpha^{(i,j)}_{o'})}</script><p>å…¶å®å°±æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´æ‰€æœ‰å€™é€‰æ“ä½œéƒ½æ–½åŠ ä¸Šå»ï¼Œç»™æ¯ä¸ªå€™é€‰æ“ä½œéƒ½èµ‹äºˆæƒå€¼ã€‚æƒå€¼ç”¨softmaxæ¿€æ´»ä¹‹åç›¸åŠ èµ·æ¥ä½œä¸ºèŠ‚ç‚¹çš„è¾“å‡ºï¼Œåä¼ å­¦ä¹ å¯ä»¥æ›´æ–°ç»“æ„æƒå€¼$\alpha$ã€‚æœ€åä¿ç•™æƒé‡æœ€å¤§çš„ï¼ˆå¼ºåº¦æœ€å¼ºçš„ï¼‰kä¸ªç»“ç‚¹ä¸æœ¬ç»“ç‚¹çš„è¿æ¥ã€‚åœ¨DARTSçš„æ–‡ç« ä¸­ï¼ŒCNNä¸­é€‰æ‹©k=2ã€‚</p><p><a href="https://arxiv.org/pdf/1806.09055.pdf" target="_blank" rel="noopener">DARTSè®ºæ–‡</a></p><p><a href="https://zhuanlan.zhihu.com/p/73037439" target="_blank" rel="noopener">å…·ä½“å…¬å¼æ¨å¯¼</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Search-Space&quot;&gt;&lt;a href=&quot;#Search-Space&quot; class=&quot;headerlink&quot; title=&quot;Search Space&quot;&gt;&lt;/a&gt;Search Space&lt;/h1&gt;&lt;p&gt;æœç´¢cellä½œä¸ºç½‘ç»œç»“æ„çš„æ„ä»¶ã€‚cellæ˜¯åŒ…å«Nä¸ªç»“ç‚¹çš„æœ‰åº
      
    
    </summary>
    
    
      <category term="Deep Learning" scheme="http://yoursite.com/categories/Deep-Learning/"/>
    
    
      <category term="paper notes-deep learning" scheme="http://yoursite.com/tags/paper-notes-deep-learning/"/>
    
  </entry>
  
</feed>
